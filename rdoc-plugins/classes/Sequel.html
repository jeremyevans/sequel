<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Sequel
</h1>
<ol class='paths'>
<li>
<a href="../files/lib/sequel/extensions/_model_constraint_validations_rb.html">lib/sequel/extensions/_model_constraint_validations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/_model_pg_row_rb.html">lib/sequel/extensions/_model_pg_row.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/_pretty_table_rb.html">lib/sequel/extensions/_pretty_table.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/any_not_empty_rb.html">lib/sequel/extensions/any_not_empty.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/arbitrary_servers_rb.html">lib/sequel/extensions/arbitrary_servers.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/async_thread_pool_rb.html">lib/sequel/extensions/async_thread_pool.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/auto_cast_date_and_time_rb.html">lib/sequel/extensions/auto_cast_date_and_time.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/auto_literal_strings_rb.html">lib/sequel/extensions/auto_literal_strings.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/caller_logging_rb.html">lib/sequel/extensions/caller_logging.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/columns_introspection_rb.html">lib/sequel/extensions/columns_introspection.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/connection_expiration_rb.html">lib/sequel/extensions/connection_expiration.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/connection_validator_rb.html">lib/sequel/extensions/connection_validator.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/constant_sql_override_rb.html">lib/sequel/extensions/constant_sql_override.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/constraint_validations_rb.html">lib/sequel/extensions/constraint_validations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/core_extensions_rb.html">lib/sequel/extensions/core_extensions.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/core_refinements_rb.html">lib/sequel/extensions/core_refinements.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/current_datetime_timestamp_rb.html">lib/sequel/extensions/current_datetime_timestamp.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/dataset_run_rb.html">lib/sequel/extensions/dataset_run.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/dataset_source_alias_rb.html">lib/sequel/extensions/dataset_source_alias.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/date_arithmetic_rb.html">lib/sequel/extensions/date_arithmetic.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/date_parse_input_handler_rb.html">lib/sequel/extensions/date_parse_input_handler.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/datetime_parse_to_time_rb.html">lib/sequel/extensions/datetime_parse_to_time.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/duplicate_columns_handler_rb.html">lib/sequel/extensions/duplicate_columns_handler.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/empty_array_consider_nulls_rb.html">lib/sequel/extensions/empty_array_consider_nulls.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/error_sql_rb.html">lib/sequel/extensions/error_sql.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/escaped_like_rb.html">lib/sequel/extensions/escaped_like.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/eval_inspect_rb.html">lib/sequel/extensions/eval_inspect.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/exclude_or_null_rb.html">lib/sequel/extensions/exclude_or_null.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/fiber_concurrency_rb.html">lib/sequel/extensions/fiber_concurrency.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/freeze_datasets_rb.html">lib/sequel/extensions/freeze_datasets.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/from_block_rb.html">lib/sequel/extensions/from_block.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/graph_each_rb.html">lib/sequel/extensions/graph_each.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/identifier_mangling_rb.html">lib/sequel/extensions/identifier_mangling.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/implicit_subquery_rb.html">lib/sequel/extensions/implicit_subquery.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/index_caching_rb.html">lib/sequel/extensions/index_caching.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/inflector_rb.html">lib/sequel/extensions/inflector.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/integer64_rb.html">lib/sequel/extensions/integer64.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/is_distinct_from_rb.html">lib/sequel/extensions/is_distinct_from.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/looser_typecasting_rb.html">lib/sequel/extensions/looser_typecasting.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/migration_rb.html">lib/sequel/extensions/migration.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/mssql_emulate_lateral_with_apply_rb.html">lib/sequel/extensions/mssql_emulate_lateral_with_apply.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/named_timezones_rb.html">lib/sequel/extensions/named_timezones.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/no_auto_literal_strings_rb.html">lib/sequel/extensions/no_auto_literal_strings.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/null_dataset_rb.html">lib/sequel/extensions/null_dataset.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pagination_rb.html">lib/sequel/extensions/pagination.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_array_rb.html">lib/sequel/extensions/pg_array.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_array_ops_rb.html">lib/sequel/extensions/pg_array_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_auto_parameterize_rb.html">lib/sequel/extensions/pg_auto_parameterize.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_auto_parameterize_in_array_rb.html">lib/sequel/extensions/pg_auto_parameterize_in_array.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_enum_rb.html">lib/sequel/extensions/pg_enum.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_extended_date_support_rb.html">lib/sequel/extensions/pg_extended_date_support.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_extended_integer_support_rb.html">lib/sequel/extensions/pg_extended_integer_support.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_hstore_rb.html">lib/sequel/extensions/pg_hstore.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_hstore_ops_rb.html">lib/sequel/extensions/pg_hstore_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_inet_rb.html">lib/sequel/extensions/pg_inet.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_inet_ops_rb.html">lib/sequel/extensions/pg_inet_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_interval_rb.html">lib/sequel/extensions/pg_interval.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_json_rb.html">lib/sequel/extensions/pg_json.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_json_ops_rb.html">lib/sequel/extensions/pg_json_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_loose_count_rb.html">lib/sequel/extensions/pg_loose_count.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_multirange_rb.html">lib/sequel/extensions/pg_multirange.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_range_rb.html">lib/sequel/extensions/pg_range.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_range_ops_rb.html">lib/sequel/extensions/pg_range_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_row_rb.html">lib/sequel/extensions/pg_row.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_row_ops_rb.html">lib/sequel/extensions/pg_row_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_schema_caching_rb.html">lib/sequel/extensions/pg_schema_caching.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_static_cache_updater_rb.html">lib/sequel/extensions/pg_static_cache_updater.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pg_timestamptz_rb.html">lib/sequel/extensions/pg_timestamptz.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/pretty_table_rb.html">lib/sequel/extensions/pretty_table.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/provenance_rb.html">lib/sequel/extensions/provenance.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/query_rb.html">lib/sequel/extensions/query.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/query_blocker_rb.html">lib/sequel/extensions/query_blocker.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/round_timestamps_rb.html">lib/sequel/extensions/round_timestamps.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/run_transaction_hooks_rb.html">lib/sequel/extensions/run_transaction_hooks.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/s_rb.html">lib/sequel/extensions/s.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/schema_caching_rb.html">lib/sequel/extensions/schema_caching.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/schema_dumper_rb.html">lib/sequel/extensions/schema_dumper.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/select_remove_rb.html">lib/sequel/extensions/select_remove.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/sequel_4_dataset_methods_rb.html">lib/sequel/extensions/sequel_4_dataset_methods.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/server_block_rb.html">lib/sequel/extensions/server_block.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/server_logging_rb.html">lib/sequel/extensions/server_logging.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/set_literalizer_rb.html">lib/sequel/extensions/set_literalizer.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/split_array_nil_rb.html">lib/sequel/extensions/split_array_nil.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/sql_comments_rb.html">lib/sequel/extensions/sql_comments.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/sql_log_normalizer_rb.html">lib/sequel/extensions/sql_log_normalizer.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/sqlite_json_ops_rb.html">lib/sequel/extensions/sqlite_json_ops.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/stdio_logger_rb.html">lib/sequel/extensions/stdio_logger.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/string_agg_rb.html">lib/sequel/extensions/string_agg.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/string_date_time_rb.html">lib/sequel/extensions/string_date_time.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/symbol_aref_rb.html">lib/sequel/extensions/symbol_aref.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/symbol_aref_refinement_rb.html">lib/sequel/extensions/symbol_aref_refinement.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/symbol_as_refinement_rb.html">lib/sequel/extensions/symbol_as_refinement.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/synchronize_sql_rb.html">lib/sequel/extensions/synchronize_sql.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/temporarily_release_connection_rb.html">lib/sequel/extensions/temporarily_release_connection.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/thread_local_timezones_rb.html">lib/sequel/extensions/thread_local_timezones.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/to_dot_rb.html">lib/sequel/extensions/to_dot.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/transaction_connection_validator_rb.html">lib/sequel/extensions/transaction_connection_validator.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/extensions/virtual_row_method_block_rb.html">lib/sequel/extensions/virtual_row_method_block.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/accessed_columns_rb.html">lib/sequel/plugins/accessed_columns.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/active_model_rb.html">lib/sequel/plugins/active_model.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/after_initialize_rb.html">lib/sequel/plugins/after_initialize.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/association_dependencies_rb.html">lib/sequel/plugins/association_dependencies.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/association_lazy_eager_option_rb.html">lib/sequel/plugins/association_lazy_eager_option.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/association_multi_add_remove_rb.html">lib/sequel/plugins/association_multi_add_remove.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/association_pks_rb.html">lib/sequel/plugins/association_pks.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/association_proxies_rb.html">lib/sequel/plugins/association_proxies.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/async_thread_pool_rb.html">lib/sequel/plugins/async_thread_pool.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/auto_restrict_eager_graph_rb.html">lib/sequel/plugins/auto_restrict_eager_graph.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/auto_validations_rb.html">lib/sequel/plugins/auto_validations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/auto_validations_constraint_validations_presence_message_rb.html">lib/sequel/plugins/auto_validations_constraint_validations_presence_message.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/before_after_save_rb.html">lib/sequel/plugins/before_after_save.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/blacklist_security_rb.html">lib/sequel/plugins/blacklist_security.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/boolean_readers_rb.html">lib/sequel/plugins/boolean_readers.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/boolean_subsets_rb.html">lib/sequel/plugins/boolean_subsets.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/caching_rb.html">lib/sequel/plugins/caching.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/class_table_inheritance_rb.html">lib/sequel/plugins/class_table_inheritance.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/class_table_inheritance_constraint_validations_rb.html">lib/sequel/plugins/class_table_inheritance_constraint_validations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/column_conflicts_rb.html">lib/sequel/plugins/column_conflicts.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/column_encryption_rb.html">lib/sequel/plugins/column_encryption.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/column_select_rb.html">lib/sequel/plugins/column_select.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/columns_updated_rb.html">lib/sequel/plugins/columns_updated.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/composition_rb.html">lib/sequel/plugins/composition.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/concurrent_eager_loading_rb.html">lib/sequel/plugins/concurrent_eager_loading.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/constraint_validations_rb.html">lib/sequel/plugins/constraint_validations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/csv_serializer_rb.html">lib/sequel/plugins/csv_serializer.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/dataset_associations_rb.html">lib/sequel/plugins/dataset_associations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/def_dataset_method_rb.html">lib/sequel/plugins/def_dataset_method.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/defaults_setter_rb.html">lib/sequel/plugins/defaults_setter.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/delay_add_association_rb.html">lib/sequel/plugins/delay_add_association.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/deprecated_associations_rb.html">lib/sequel/plugins/deprecated_associations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/dirty_rb.html">lib/sequel/plugins/dirty.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/eager_each_rb.html">lib/sequel/plugins/eager_each.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/eager_graph_eager_rb.html">lib/sequel/plugins/eager_graph_eager.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/empty_failure_backtraces_rb.html">lib/sequel/plugins/empty_failure_backtraces.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/enum_rb.html">lib/sequel/plugins/enum.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/error_splitter_rb.html">lib/sequel/plugins/error_splitter.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/finder_rb.html">lib/sequel/plugins/finder.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/forbid_lazy_load_rb.html">lib/sequel/plugins/forbid_lazy_load.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/force_encoding_rb.html">lib/sequel/plugins/force_encoding.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/hook_class_methods_rb.html">lib/sequel/plugins/hook_class_methods.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/input_transformer_rb.html">lib/sequel/plugins/input_transformer.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/insert_conflict_rb.html">lib/sequel/plugins/insert_conflict.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/insert_returning_select_rb.html">lib/sequel/plugins/insert_returning_select.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/inspect_pk_rb.html">lib/sequel/plugins/inspect_pk.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/instance_filters_rb.html">lib/sequel/plugins/instance_filters.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/instance_hooks_rb.html">lib/sequel/plugins/instance_hooks.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/instance_specific_default_rb.html">lib/sequel/plugins/instance_specific_default.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/inverted_subsets_rb.html">lib/sequel/plugins/inverted_subsets.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/json_serializer_rb.html">lib/sequel/plugins/json_serializer.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/lazy_attributes_rb.html">lib/sequel/plugins/lazy_attributes.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/list_rb.html">lib/sequel/plugins/list.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/many_through_many_rb.html">lib/sequel/plugins/many_through_many.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/modification_detection_rb.html">lib/sequel/plugins/modification_detection.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/mssql_optimistic_locking_rb.html">lib/sequel/plugins/mssql_optimistic_locking.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/nested_attributes_rb.html">lib/sequel/plugins/nested_attributes.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/optimistic_locking_rb.html">lib/sequel/plugins/optimistic_locking.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/optimistic_locking_base_rb.html">lib/sequel/plugins/optimistic_locking_base.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/paged_operations_rb.html">lib/sequel/plugins/paged_operations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/pg_array_associations_rb.html">lib/sequel/plugins/pg_array_associations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/pg_auto_constraint_validations_rb.html">lib/sequel/plugins/pg_auto_constraint_validations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/pg_auto_validate_enums_rb.html">lib/sequel/plugins/pg_auto_validate_enums.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/pg_eager_any_typed_array_rb.html">lib/sequel/plugins/pg_eager_any_typed_array.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/pg_row_rb.html">lib/sequel/plugins/pg_row.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/pg_xmin_optimistic_locking_rb.html">lib/sequel/plugins/pg_xmin_optimistic_locking.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/prepared_statements_rb.html">lib/sequel/plugins/prepared_statements.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/prepared_statements_safe_rb.html">lib/sequel/plugins/prepared_statements_safe.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/primary_key_lookup_check_values_rb.html">lib/sequel/plugins/primary_key_lookup_check_values.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/rcte_tree_rb.html">lib/sequel/plugins/rcte_tree.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/require_valid_schema_rb.html">lib/sequel/plugins/require_valid_schema.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/serialization_rb.html">lib/sequel/plugins/serialization.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/serialization_modification_detection_rb.html">lib/sequel/plugins/serialization_modification_detection.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/sharding_rb.html">lib/sequel/plugins/sharding.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/single_table_inheritance_rb.html">lib/sequel/plugins/single_table_inheritance.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/singular_table_names_rb.html">lib/sequel/plugins/singular_table_names.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/skip_create_refresh_rb.html">lib/sequel/plugins/skip_create_refresh.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/skip_saving_columns_rb.html">lib/sequel/plugins/skip_saving_columns.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/split_values_rb.html">lib/sequel/plugins/split_values.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/sql_comments_rb.html">lib/sequel/plugins/sql_comments.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/static_cache_rb.html">lib/sequel/plugins/static_cache.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/static_cache_cache_rb.html">lib/sequel/plugins/static_cache_cache.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/string_stripper_rb.html">lib/sequel/plugins/string_stripper.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/subclasses_rb.html">lib/sequel/plugins/subclasses.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/subset_conditions_rb.html">lib/sequel/plugins/subset_conditions.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/subset_static_cache_rb.html">lib/sequel/plugins/subset_static_cache.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/table_select_rb.html">lib/sequel/plugins/table_select.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/tactical_eager_loading_rb.html">lib/sequel/plugins/tactical_eager_loading.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/throw_failures_rb.html">lib/sequel/plugins/throw_failures.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/timestamps_rb.html">lib/sequel/plugins/timestamps.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/touch_rb.html">lib/sequel/plugins/touch.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/tree_rb.html">lib/sequel/plugins/tree.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/typecast_on_load_rb.html">lib/sequel/plugins/typecast_on_load.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/unlimited_update_rb.html">lib/sequel/plugins/unlimited_update.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/unused_associations_rb.html">lib/sequel/plugins/unused_associations.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/update_or_create_rb.html">lib/sequel/plugins/update_or_create.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/update_primary_key_rb.html">lib/sequel/plugins/update_primary_key.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/update_refresh_rb.html">lib/sequel/plugins/update_refresh.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/uuid_rb.html">lib/sequel/plugins/uuid.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/validate_associated_rb.html">lib/sequel/plugins/validate_associated.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/validation_class_methods_rb.html">lib/sequel/plugins/validation_class_methods.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/validation_contexts_rb.html">lib/sequel/plugins/validation_contexts.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/validation_helpers_rb.html">lib/sequel/plugins/validation_helpers.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/validation_helpers_generic_type_messages_rb.html">lib/sequel/plugins/validation_helpers_generic_type_messages.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/whitelist_security_rb.html">lib/sequel/plugins/whitelist_security.rb</a>
</li>
<li class='other'>
<a href="../files/lib/sequel/plugins/xml_serializer_rb.html">lib/sequel/plugins/xml_serializer.rb</a>
</li>
<li>
<a class='show' href='#' onclick='this.parentNode.parentNode.className += &quot; expanded&quot;; this.parentNode.removeChild(this); return false'>show all</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>The date_parse_input_handler extension allows for configuring how input to date parsing methods should be handled.  By default, the extension does not change behavior.  However, you can use the <code>Sequel.date_parse_input_handler</code> method to support custom handling of input strings to the date parsing methods.  For example, if you want to implement a length check to prevent denial of service vulnerabilities in older versions of Ruby, you can do:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">extension</span> <span class="ruby-value">:date_parse_input_handler</span>
<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">date_parse_input_handler</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidValue</span>, <span class="ruby-string">&quot;string length (200) exceeds the limit 128&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">bytesize</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">128</span>
  <span class="ruby-identifier">string</span>
<span class="ruby-keyword">end</span>
</pre>

<p>You can also use <code>Sequel.date_parse_input_handler</code> to modify the string that will be passed to the parsing methods.  For example, you could truncate it:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">date_parse_input_handler</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">string</span>.<span class="ruby-identifier">b</span>[<span class="ruby-value">0</span>, <span class="ruby-value">128</span>]
<span class="ruby-keyword">end</span>
</pre>

<p>Be aware that modern versions of Ruby will raise an exception if date parsing input exceeds 128 bytes.</p>

<p>The duplicate_columns_handler extension allows you to customize handling of duplicate column names in your queries on a per-database or per-dataset level.</p>

<p>For example, you may want to raise an exception if you join 2 tables together which contains a column that will override another columns.</p>

<p>To use the extension, you need to load the extension into the database:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">extension</span> <span class="ruby-value">:duplicate_columns_handler</span>
</pre>

<p>or into individual datasets:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span> = <span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">extension</span>(<span class="ruby-value">:duplicate_columns_handler</span>)
</pre>

<p>If the <a href="Database.html"><code>Database</code></a> option :on_duplicate_columns is set, it configures how this extension works. The value should be # or any object that responds to :call.</p>

<pre>on_duplicate_columns: :raise # or &#39;raise&#39;
on_duplicate_columns: :warn # or &#39;warn&#39;
on_duplicate_columns: :ignore # or anything unrecognized
on_duplicate_columns: lambda{|columns| arbitrary_condition? ? :raise : :warn}</pre>

<p>You may also configure duplicate columns handling for a specific dataset:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span>.<span class="ruby-identifier">on_duplicate_columns</span>(<span class="ruby-value">:warn</span>)
<span class="ruby-identifier">ds</span>.<span class="ruby-identifier">on_duplicate_columns</span>(<span class="ruby-value">:raise</span>)
<span class="ruby-identifier">ds</span>.<span class="ruby-identifier">on_duplicate_columns</span>(<span class="ruby-value">:ignore</span>)
<span class="ruby-identifier">ds</span>.<span class="ruby-identifier">on_duplicate_columns</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">columns</span><span class="ruby-operator">|</span> <span class="ruby-identifier">arbitrary_condition?</span> <span class="ruby-operator">?</span> <span class="ruby-value">:raise</span> <span class="ruby-operator">:</span> <span class="ruby-value">:warn</span>}
<span class="ruby-identifier">ds</span>.<span class="ruby-identifier">on_duplicate_columns</span>(<span class="ruby-identifier">lambda</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">columns</span><span class="ruby-operator">|</span> <span class="ruby-identifier">arbitrary_condition?</span> <span class="ruby-operator">?</span> <span class="ruby-value">:raise</span> <span class="ruby-operator">:</span> <span class="ruby-value">:warn</span>})
</pre>

<p>If :raise or ‘raise’ is specified, a <a href="Sequel/DuplicateColumnError.html"><code>Sequel::DuplicateColumnError</code></a> is raised. If :warn or ‘warn’ is specified, you will receive a warning via <code>warn</code>. If a callable is specified, it will be called. For other values, duplicate columns are ignored (Sequel’s default behavior) If no on_duplicate_columns is specified, the default is :warn.</p>

<p>Related module: <a href="Sequel/DuplicateColumnsHandler.html"><code>Sequel::DuplicateColumnsHandler</code></a></p>

<p>This extension changes Sequel’s postgres adapter to automatically parameterize queries by default.  Sequel’s default behavior has always been to literalize all arguments unless specifically using parameters (via :$arg placeholders and the Dataset#prepare/call methods). This extension makes <a href="Sequel.html"><code>Sequel</code></a> use string, numeric, blob, date, and time types as parameters. Example:</p>

<pre class="ruby"><span class="ruby-comment"># Default</span>
<span class="ruby-constant">DB</span>[<span class="ruby-value">:test</span>].<span class="ruby-identifier">where</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">1</span>)
<span class="ruby-comment"># SQL: SELECT * FROM test WHERE a = 1</span>

<span class="ruby-constant">DB</span>.<span class="ruby-identifier">extension</span> <span class="ruby-value">:pg_auto_parameterize</span>
<span class="ruby-constant">DB</span>[<span class="ruby-value">:test</span>].<span class="ruby-identifier">where</span>(<span class="ruby-value">:a</span><span class="ruby-operator">=&gt;</span><span class="ruby-value">1</span>)
<span class="ruby-comment"># SQL: SELECT * FROM test WHERE a = $1 (args: [1])</span>
</pre>

<p>Other pg_* extensions that ship with <a href="Sequel.html"><code>Sequel</code></a> and add support for PostgreSQL-specific types support automatically parameterizing those types when used with this extension.</p>

<p>This extension is not generally faster than the default behavior. In some cases it is faster, such as when using large strings. However, the use of parameters avoids potential security issues, in case <a href="Sequel.html"><code>Sequel</code></a> does not correctly literalize one of the arguments that this extension would automatically parameterize.</p>

<p>There are some known issues with automatic parameterization:</p>
<ol><li>
<p>In order to avoid most type errors, the extension attempts to guess the appropriate type and automatically casts most placeholders, except plain Ruby strings (which PostgreSQL treats as an unknown type).</p>

<p>Unfortunately, if the type guess is incorrect, or a plain Ruby string is used and PostgreSQL cannot determine the data type for it, the query may result in a <a href="Sequel/DatabaseError.html"><code>DatabaseError</code></a>. To fix both issues, you can explicitly cast values using <code>Sequel.cast(value, type)</code>, and <a href="Sequel.html"><code>Sequel</code></a> will cast to that type.</p>
</li><li>
<p>PostgreSQL supports a maximum of 65535 parameters per query. Attempts to use a query with more than this number of parameters will result in a <a href="Sequel/DatabaseError.html"><code>Sequel::DatabaseError</code></a> being raised. <a href="Sequel.html"><code>Sequel</code></a> tries to mitigate this issue by turning <code>column IN (int, ...)</code> queries into <code>column = ANY(CAST($ AS int8[]))</code> using an array parameter, to reduce the number of parameters. It also limits inserting multiple rows at once to a maximum of 40 rows per query by default.  While these mitigations handle the most common cases where a large number of parameters would be used, there are other cases.</p>
</li><li>
<p>Automatic parameterization will consider the same objects as equivalent when building <a href="Sequel/SQL.html"><code>SQL</code></a>.  However, for performance, it does not perform equality checks.  So code such as:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:t</span>].<span class="ruby-identifier">select</span>{<span class="ruby-identifier">foo</span>(<span class="ruby-string">&#39;a&#39;</span>).<span class="ruby-identifier">as</span>(<span class="ruby-value">:f</span>)}.<span class="ruby-identifier">group</span>{<span class="ruby-identifier">foo</span>(<span class="ruby-string">&#39;a&#39;</span>)}
<span class="ruby-comment"># SELECT foo(&#39;a&#39;) AS &quot;f&quot; FROM &quot;t&quot; GROUP BY foo(&#39;a&#39;)</span>
</pre>

<p>Will get auto paramterized as:</p>

<pre class="ruby"><span class="ruby-comment"># SELECT foo($1) AS &quot;f&quot; FROM &quot;t&quot; GROUP BY foo($2)</span>
</pre>

<p>Which will result in a <a href="Sequel/DatabaseError.html"><code>DatabaseError</code></a>, since that is not valid <a href="Sequel/SQL.html"><code>SQL</code></a>.</p>

<p>If you use the same expression, it will use the same parameter:</p>

<pre class="ruby"><span class="ruby-identifier">foo</span> = <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">function</span>(<span class="ruby-value">:foo</span>, <span class="ruby-string">&#39;a&#39;</span>)
<span class="ruby-constant">DB</span>[<span class="ruby-value">:t</span>].<span class="ruby-identifier">select</span>(<span class="ruby-identifier">foo</span>.<span class="ruby-identifier">as</span>(<span class="ruby-value">:f</span>)).<span class="ruby-identifier">group</span>(<span class="ruby-identifier">foo</span>)
<span class="ruby-comment"># SELECT foo($1) AS &quot;f&quot; FROM &quot;t&quot; GROUP BY foo($1)</span>
</pre>

<p>Note that Dataset#select_group and similar methods that take arguments used in multiple places in the <a href="Sequel/SQL.html"><code>SQL</code></a> will generally handle this automatically, since they will use the same objects:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:t</span>].<span class="ruby-identifier">select_group</span>{<span class="ruby-identifier">foo</span>(<span class="ruby-string">&#39;a&#39;</span>).<span class="ruby-identifier">as</span>(<span class="ruby-value">:f</span>)}
<span class="ruby-comment"># SELECT foo($1) AS &quot;f&quot; FROM &quot;t&quot; GROUP BY foo($1)</span>
</pre>
</li></ol>

<p>You can work around any issues that come up by disabling automatic parameterization by calling the <code>no_auto_parameterize</code> method on the dataset (which returns a clone of the dataset). You can avoid parameterization for specific values in the query by wrapping them with <code>Sequel.skip_pg_auto_param</code>.</p>

<p>It is likely there are corner cases not mentioned above when using this extension.  Users are encouraged to provide feedback when using this extension if they come across such corner cases.</p>

<p>This extension is only compatible when using the pg driver, not when using the sequel-postgres-pr, jeremyevans-postgres-pr, or postgres-pr drivers, as those do not support bound variables.</p>

<p>Related module: <a href="Sequel/Postgres/AutoParameterize.html"><code>Sequel::Postgres::AutoParameterize</code></a></p>

<p>The pg_auto_parameterize_in_array extension builds on the pg_auto_parameterize extension, adding support for handling additional types when converting from IN to = ANY and NOT IN to != ALL:</p>

<pre>DB[:table].where(column: [1.0, 2.0, ...])
# Without extension: column IN ($1::numeric, $2:numeric, ...) # bound variables: 1.0, 2.0, ...
# With extension:    column = ANY($1::numeric[]) # bound variables: [1.0, 2.0, ...]</pre>

<p>This prevents the use of an unbounded number of bound variables based on the size of the array, as well as using different <a href="Sequel/SQL.html"><code>SQL</code></a> for different array sizes.</p>

<p>The following types are supported when doing the conversions, with the database type used:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>Float </td><td>
<p>if any are infinite or NaN, double precision, otherwise numeric</p>
</td></tr><tr><td class='label'>BigDecimal </td><td>
<p>numeric</p>
</td></tr><tr><td class='label'>Date </td><td>
<p>date</p>
</td></tr><tr><td class='label'>Time </td><td>
<p>timestamp (or timestamptz if pg_timestamptz extension is used)</p>
</td></tr><tr><td class='label'>DateTime </td><td>
<p>timestamp (or timestamptz if pg_timestamptz extension is used)</p>
</td></tr><tr><td class='label'>Sequel::SQLTime </td><td>
<p>time</p>
</td></tr><tr><td class='label'>Sequel::SQL::Blob </td><td>
<p>bytea</p>
</td></tr></tbody></table>

<p>Arrays of string values are not automatically converted by default, because the Ruby <a href="String.html"><code>String</code></a> class can represent a number of different database types.  To convert arrays of Ruby strings to an untyped array (a query parameter with no explicit type cast), set the <code>:treat_string_list_as_untyped_array</code> <a href="Database.html"><code>Database</code></a> option before loading the extension.</p>

<p>If you will only be using arrays of Ruby strings that represent the <code>text</code> type, you can use the <code>:treat_string_list_as_text_array</code> <a href="Database.html"><code>Database</code></a> option is used. This can break programs, since the type for literal strings in PostgreSQL is <code>unknown</code>, not <code>text</code>.</p>

<p>The conversion is only done for single dimensional arrays that have two or more elements, where all elements are of the same class (other than <code>nil</code> values).  You can also do the conversion for arrays of 1 element by setting <code>pg_auto_parameterize_min_array_size: 1</code> <a href="Database.html"><code>Database</code></a> option.  This makes finding cases that need special handling easier, but it doesn’t match how PostgreSQL internally converts the expression (PostgreSQL converts <code>IN (single_value)</code> to <code>= single_value</code>, not <code>= ANY(ARRAY[single_value])</code>).</p>

<p>Related module: <a href="Sequel/Postgres/AutoParameterizeInArray.html"><code>Sequel::Postgres::AutoParameterizeInArray</code></a></p>

<p>:nocov:</p>

<p>The pg_range extension adds support for the PostgreSQL 9.2+ range types to <a href="Sequel.html"><code>Sequel</code></a>.  PostgreSQL range types are similar to ruby’s <a href="Range.html"><code>Range</code></a> class, representating an array of values.  However, they are more flexible than ruby’s ranges, allowing exclusive beginnings and endings (ruby’s range only allows exclusive endings).</p>

<p>When PostgreSQL range values are retreived, they are parsed and returned as instances of <a href="Sequel/Postgres/PGRange.html"><code>Sequel::Postgres::PGRange</code></a>.  PGRange mostly acts like a <a href="Range.html"><code>Range</code></a>, but it’s not a <a href="Range.html"><code>Range</code></a> as not all PostgreSQL range type values would be valid ruby ranges.  If the range type value you are using is a valid ruby range, you can call PGRange#to_range to get a <a href="Range.html"><code>Range</code></a>.  However, if you call PGRange#to_range on a range type value uses features that ruby’s <a href="Range.html"><code>Range</code></a> does not support, an exception will be raised.</p>

<p>In addition to the parser, this extension comes with literalizers for PGRange and <a href="Range.html"><code>Range</code></a>, so they can be used in queries and as bound variables.</p>

<p>To turn an existing <a href="Range.html"><code>Range</code></a> into a PGRange, use Sequel.pg_range:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">pg_range</span>(<span class="ruby-identifier">range</span>)
</pre>

<p>If you have loaded the <a href="../files/doc/core_extensions_rdoc.html">core_extensions extension</a>, or you have loaded the core_refinements extension and have activated refinements for the file, you can also use <a href="Range.html#method-i-pg_range"><code>Range#pg_range</code></a>:</p>

<pre class="ruby"><span class="ruby-identifier">range</span>.<span class="ruby-identifier">pg_range</span>
</pre>

<p>You may want to specify a specific range type:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">pg_range</span>(<span class="ruby-identifier">range</span>, <span class="ruby-value">:daterange</span>)
<span class="ruby-identifier">range</span>.<span class="ruby-identifier">pg_range</span>(<span class="ruby-value">:daterange</span>)
</pre>

<p>If you specify the range database type, <a href="Sequel.html"><code>Sequel</code></a> will automatically cast the value to that type when literalizing.</p>

<p>To use this extension, load it into the <a href="Database.html"><code>Database</code></a> instance:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">extension</span> <span class="ruby-value">:pg_range</span>
</pre>

<p>See the schema modification guide for details on using range type columns in CREATE/ALTER TABLE statements.</p>

<p>This extension makes it easy to add support for other range types.  In general, you just need to make sure that the subtype is handled and has the appropriate converter installed.  For user defined types, you can do this via:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">add_conversion_proc</span>(<span class="ruby-identifier">subtype_oid</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span> }
</pre>

<p>Then you can call <a href="Sequel/Postgres/PGRange/DatabaseMethods.html#method-i-register_range_type"><code>Sequel::Postgres::PGRange::DatabaseMethods#register_range_type</code></a> to automatically set up a handler for the range type.  So if you want to support the timerange type (assuming the time type is already supported):</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">register_range_type</span>(<span class="ruby-string">&#39;timerange&#39;</span>)
</pre>

<p>This extension integrates with the pg_array extension.  If you plan to use arrays of range types, load the pg_array extension before the pg_range extension:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">extension</span> <span class="ruby-value">:pg_array</span>, <span class="ruby-value">:pg_range</span>
</pre>

<p>Related module: <a href="Sequel/Postgres/PGRange.html"><code>Sequel::Postgres::PGRange</code></a></p>

<p>The round_timestamps extension will automatically round timestamp values to the database’s supported level of precision before literalizing them.</p>

<p>For example, if the database supports millisecond precision, and you give it a Time value with microsecond precision, it will round it appropriately:</p>

<pre class="ruby"><span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">1405341161.917999982833862</span>)
<span class="ruby-comment"># default: 2014-07-14 14:32:41.917999</span>
<span class="ruby-comment"># with extension: 2014-07-14 14:32:41.918000</span>
</pre>

<p>The round_timestamps extension correctly deals with databases that support millisecond or second precision.  In addition to handling Time values, it also handles DateTime values and Sequel::SQLTime values (for the TIME type).</p>

<p>To round timestamps for a single dataset:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span> = <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:round_timestamps</span>)
</pre>

<p>To round timestamps for all datasets on a single database:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:round_timestamps</span>)
</pre>

<p>Related module: <a href="Sequel/Dataset/RoundTimestamps.html"><code>Sequel::Dataset::RoundTimestamps</code></a></p>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Class</h3>
<ol>
<li><a href="#method-c-core_extensions-3F">core_extensions?</a></li>
<li><a href="#method-c-migration">migration</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='class-list'>
<h2>Classes and Modules</h2>
<ol>
<li><a href="Sequel/AnyNotEmpty.html">Sequel::AnyNotEmpty</a></li>
<li><a href="Sequel/ArbitraryServers.html">Sequel::ArbitraryServers</a></li>
<li><a href="Sequel/AutoCastDateAndTime.html">Sequel::AutoCastDateAndTime</a></li>
<li><a href="Sequel/CallerLogging.html">Sequel::CallerLogging</a></li>
<li><a href="Sequel/ColumnsIntrospection.html">Sequel::ColumnsIntrospection</a></li>
<li><a href="Sequel/ConnectionExpiration.html">Sequel::ConnectionExpiration</a></li>
<li><a href="Sequel/ConnectionValidator.html">Sequel::ConnectionValidator</a></li>
<li><a href="Sequel/ConstantSqlOverride.html">Sequel::ConstantSqlOverride</a></li>
<li><a href="Sequel/ConstraintValidations.html">Sequel::ConstraintValidations</a></li>
<li><a href="Sequel/CoreRefinements.html">Sequel::CoreRefinements</a></li>
<li><a href="Sequel/CurrentDateTimeTimestamp.html">Sequel::CurrentDateTimeTimestamp</a></li>
<li><a href="Sequel/DatabaseQuery.html">Sequel::DatabaseQuery</a></li>
<li><a href="Sequel/DatasetPagination.html">Sequel::DatasetPagination</a></li>
<li><a href="Sequel/DatasetPrinter.html">Sequel::DatasetPrinter</a></li>
<li><a href="Sequel/DatasetQuery.html">Sequel::DatasetQuery</a></li>
<li><a href="Sequel/DatasetRun.html">Sequel::DatasetRun</a></li>
<li><a href="Sequel/DateParseInputHandler.html">Sequel::DateParseInputHandler</a></li>
<li><a href="Sequel/DateTimeParseToTime.html">Sequel::DateTimeParseToTime</a></li>
<li><a href="Sequel/DuplicateColumnsHandler.html">Sequel::DuplicateColumnsHandler</a></li>
<li><a href="Sequel/EmptyArrayConsiderNulls.html">Sequel::EmptyArrayConsiderNulls</a></li>
<li><a href="Sequel/ErrorSQL.html">Sequel::ErrorSQL</a></li>
<li><a href="Sequel/EvalInspect.html">Sequel::EvalInspect</a></li>
<li><a href="Sequel/ExcludeOrNull.html">Sequel::ExcludeOrNull</a></li>
<li><a href="Sequel/FiberConcurrency.html">Sequel::FiberConcurrency</a></li>
<li><a href="Sequel/GraphEach.html">Sequel::GraphEach</a></li>
<li><a href="Sequel/IdentifierMangling.html">Sequel::IdentifierMangling</a></li>
<li><a href="Sequel/IndexCaching.html">Sequel::IndexCaching</a></li>
<li><a href="Sequel/Integer64.html">Sequel::Integer64</a></li>
<li><a href="Sequel/LooserTypecasting.html">Sequel::LooserTypecasting</a></li>
<li><a href="Sequel/MSSQL.html">Sequel::MSSQL</a></li>
<li><a href="Sequel/Model.html">Sequel::Model</a></li>
<li><a href="Sequel/NamedTimezones.html">Sequel::NamedTimezones</a></li>
<li><a href="Sequel/Plugins.html">Sequel::Plugins</a></li>
<li><a href="Sequel/Postgres.html">Sequel::Postgres</a></li>
<li><a href="Sequel/PrettyTable.html">Sequel::PrettyTable</a></li>
<li><a href="Sequel/QueryBlocker.html">Sequel::QueryBlocker</a></li>
<li><a href="Sequel/S.html">Sequel::S</a></li>
<li><a href="Sequel/SQL.html">Sequel::SQL</a></li>
<li><a href="Sequel/SQLComments.html">Sequel::SQLComments</a></li>
<li><a href="Sequel/SQLLogNormalizer.html">Sequel::SQLLogNormalizer</a></li>
<li><a href="Sequel/SQLite.html">Sequel::SQLite</a></li>
<li><a href="Sequel/Schema.html">Sequel::Schema</a></li>
<li><a href="Sequel/SchemaCaching.html">Sequel::SchemaCaching</a></li>
<li><a href="Sequel/SchemaDumper.html">Sequel::SchemaDumper</a></li>
<li><a href="Sequel/SelectRemove.html">Sequel::SelectRemove</a></li>
<li><a href="Sequel/Sequel4DatasetMethods.html">Sequel::Sequel4DatasetMethods</a></li>
<li><a href="Sequel/ServerBlock.html">Sequel::ServerBlock</a></li>
<li><a href="Sequel/ServerLogging.html">Sequel::ServerLogging</a></li>
<li><a href="Sequel/SymbolAref.html">Sequel::SymbolAref</a></li>
<li><a href="Sequel/SymbolAs.html">Sequel::SymbolAs</a></li>
<li><a href="Sequel/TemporarilyReleaseConnection.html">Sequel::TemporarilyReleaseConnection</a></li>
<li><a href="Sequel/ThreadLocalTimezones.html">Sequel::ThreadLocalTimezones</a></li>
<li><a href="Sequel/ThreadedServerBlock.html">Sequel::ThreadedServerBlock</a></li>
<li><a href="Sequel/TransactionConnectionValidator.html">Sequel::TransactionConnectionValidator</a></li>
<li><a href="Sequel/UnthreadedServerBlock.html">Sequel::UnthreadedServerBlock</a></li>
<li><a href="Database.html">Database</a></li>
<li><a href="Sequel/DatabaseError.html">Sequel::DatabaseError</a></li>
<li><a href="Sequel/Dataset.html">Sequel::Dataset</a></li>
<li><a href="Sequel/DuplicateColumnError.html">Sequel::DuplicateColumnError</a></li>
<li><a href="Sequel/IntegerMigrator.html">Sequel::IntegerMigrator</a></li>
<li><a href="Sequel/LiteralString.html">Sequel::LiteralString</a></li>
<li><a href="Sequel/Migration.html">Sequel::Migration</a></li>
<li><a href="Sequel/MigrationAlterTableReverser.html">Sequel::MigrationAlterTableReverser</a></li>
<li><a href="Sequel/MigrationDSL.html">Sequel::MigrationDSL</a></li>
<li><a href="Sequel/MigrationReverser.html">Sequel::MigrationReverser</a></li>
<li><a href="Sequel/Migrator.html">Sequel::Migrator</a></li>
<li><a href="Sequel/SimpleMigration.html">Sequel::SimpleMigration</a></li>
<li><a href="Sequel/StdioLogger.html">Sequel::StdioLogger</a></li>
<li><a href="Sequel/TimestampMigrator.html">Sequel::TimestampMigrator</a></li>
<li><a href="Sequel/ToDot.html">Sequel::ToDot</a></li>
<li><a href="Sequel/UnableToReacquireConnectionError.html">Sequel::UnableToReacquireConnectionError</a></li>
</ol>
</div>
<div id='section'>
<div id='methods'>
<h2>Public Class methods</h2>
<div class='method public-class' id='method-method-c-core_extensions-3F'>
<a name='method-c-core_extensions-3F'></a>
<div class='synopsis'>
<span class='name'>core_extensions?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>This extension loads the core extensions.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-core_extensions-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-core_extensions-3F-source'>   <span class="ruby-comment"># File lib/sequel/extensions/core_extensions.rb</span>
<span class="line-num">11</span> <span class="ruby-keyword">def</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier ruby-title">core_extensions?</span>
<span class="line-num">12</span>   <span class="ruby-keyword">true</span>
<span class="line-num">13</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-migration'>
<a name='method-c-migration'></a>
<div class='synopsis'>
<span class='name'>migration</span><span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>The preferred method for writing <a href="Sequel.html"><code>Sequel</code></a> migrations, using a DSL:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">migration</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">up</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">create_table</span>(<span class="ruby-value">:artists</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">primary_key</span> <span class="ruby-value">:id</span>
      <span class="ruby-constant">String</span> <span class="ruby-value">:name</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">down</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">drop_table</span>(<span class="ruby-value">:artists</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Designed to be used with the <a href="Sequel/Migrator.html"><code>Migrator</code></a> class, part of the <code>migration</code> extension.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-migration-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-migration-source'>    <span class="ruby-comment"># File lib/sequel/extensions/migration.rb</span>
<span class="line-num">312</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">migration</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">313</span>   <span class="ruby-constant">MigrationDSL</span>.<span class="ruby-identifier">create</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">314</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
