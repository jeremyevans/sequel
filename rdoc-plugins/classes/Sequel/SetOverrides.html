<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::SetOverrides</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::SetOverrides
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../files/lib/sequel/extensions/set_overrides_rb.html">lib/sequel/extensions/set_overrides.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'></div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-insert_sql">insert_sql</a></li>
              <li><a target="docwin" href="#method-i-set_defaults">set_defaults</a></li>
              <li><a target="docwin" href="#method-i-set_overrides">set_overrides</a></li>
              <li><a target="docwin" href="#method-i-update_sql">update_sql</a></li>
            </ol>
          </div>
          <div id='context'>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-insert_sql'>
                <a name='method-i-insert_sql'></a>
                <div class='synopsis'>
                  <span class='name'>insert_sql</span>
                  <span class='arguments'>(*values)</span>
                </div>
                <div class='description'>
                  
                  <p>Set overrides/defaults for insert hashes</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-insert_sql-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-insert_sql-source'><span class="ruby-comment"># File lib/sequel/extensions/set_overrides.rb, line 24</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_sql</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">vals</span> = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;    <span class="ruby-keyword">super</span>(<span class="ruby-identifier">merge_defaults_overrides</span>(<span class="ruby-identifier">vals</span>))&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-set_defaults'>
                <a name='method-i-set_defaults'></a>
                <div class='synopsis'>
                  <span class='name'>set_defaults</span>
                  <span class='arguments'>(hash)</span>
                </div>
                <div class='description'>
                  
                  <p>Set the default values for insert and update statements.  The values hash
                  passed to insert or update are merged into this hash, so any values in the
                  hash passed to insert or update will override values passed to this method.</p>
                  
                  <pre class="ruby"><span class="ruby-constant">DB</span>[:<span class="ruby-identifier">items</span>].<span class="ruby-identifier">set_defaults</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">c=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;c&#39;</span>).<span class="ruby-identifier">insert</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;d&#39;</span>, :<span class="ruby-identifier">b=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;b&#39;</span>)&#x000A;<span class="ruby-comment"># INSERT INTO items (a, c, b) VALUES (&#39;d&#39;, &#39;c&#39;, &#39;b&#39;)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-set_defaults-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-set_defaults-source'><span class="ruby-comment"># File lib/sequel/extensions/set_overrides.rb, line 38</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_defaults</span>(<span class="ruby-identifier">hash</span>)&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:defaults=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-ivar">@opts</span>[<span class="ruby-value">:defaults</span>]<span class="ruby-operator">||</span>{}).<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>))&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-set_overrides'>
                <a name='method-i-set_overrides'></a>
                <div class='synopsis'>
                  <span class='name'>set_overrides</span>
                  <span class='arguments'>(hash)</span>
                </div>
                <div class='description'>
                  
                  <p>Set values that override hash arguments given to insert and update
                  statements. This hash is merged into the hash provided to insert or update,
                  so values will override any values given in the insert/update hashes.</p>
                  
                  <pre class="ruby"><span class="ruby-constant">DB</span>[:<span class="ruby-identifier">items</span>].<span class="ruby-identifier">set_overrides</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">c=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;c&#39;</span>).<span class="ruby-identifier">insert</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;d&#39;</span>, :<span class="ruby-identifier">b=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;b&#39;</span>)&#x000A;<span class="ruby-comment"># INSERT INTO items (a, c, b) VALUES (&#39;a&#39;, &#39;c&#39;, &#39;b&#39;)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-set_overrides-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-set_overrides-source'><span class="ruby-comment"># File lib/sequel/extensions/set_overrides.rb, line 48</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_overrides</span>(<span class="ruby-identifier">hash</span>)&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:overrides=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-ivar">@opts</span>[<span class="ruby-value">:overrides</span>]<span class="ruby-operator">||</span>{}))&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-update_sql'>
                <a name='method-i-update_sql'></a>
                <div class='synopsis'>
                  <span class='name'>update_sql</span>
                  <span class='arguments'>(values = {})</span>
                </div>
                <div class='description'>
                  
                  <p>Set overrides/defaults for update hashes</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-update_sql-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-update_sql-source'><span class="ruby-comment"># File lib/sequel/extensions/set_overrides.rb, line 53</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_sql</span>(<span class="ruby-identifier">values</span> = {})&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;    <span class="ruby-keyword">super</span>(<span class="ruby-identifier">merge_defaults_overrides</span>(<span class="ruby-identifier">values</span>))&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
