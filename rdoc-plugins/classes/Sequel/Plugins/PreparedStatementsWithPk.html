<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::Plugins::PreparedStatementsWithPk</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::Plugins::PreparedStatementsWithPk
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/plugins/prepared_statements_with_pk_rb.html">lib/sequel/plugins/prepared_statements_with_pk.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>The prepared_statements_with_pk plugin allows Dataset#with_pk for model
            datasets to use prepared statements by extract the values of previously
            bound variables using <code>Dataset#unbind</code>, and attempting to use a
            prepared statement if the variables can be unbound correctly. See 
            <code>Unbinder</code> for details about what types of dataset filters can
            be unbound correctly.</p>
            
            <p>This plugin depends on the <code>prepared_statements</code> plugin and
            should be considered unsafe. Unbinding dataset values cannot be done
            correctly in all cases, and use of this plugin in cases where not there are
            variables that are not unbound can lead to an denial of service attack by
            allocating an arbitrary number of prepared statements.  You have been
            warned.</p>
            
            <p>Usage:</p>
            
            <pre class="ruby"><span class="ruby-comment"># Make all model subclasses use prepared statements for Dataset#with_pk (called before loading subclasses)</span>&#x000A;<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Model</span>.<span class="ruby-identifier">plugin</span> :<span class="ruby-identifier">prepared_statements_with_pk</span>&#x000A;&#x000A;<span class="ruby-comment"># Make the Album class use prepared statements for Dataset#with_pk</span>&#x000A;<span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> :<span class="ruby-identifier">prepared_statements_with_pk</span></pre>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a target="docwin" href="#method-c-apply">apply</a></li>
            </ol>
          </div>
          <div id='context'>
          </div>
          <div id='class-list'>
            <h2>Classes and Modules</h2>
            <ol>
              <li><a target="docwin" href="PreparedStatementsWithPk/ClassMethods.html">Sequel::Plugins::PreparedStatementsWithPk::ClassMethods</a></li>
              <li><a target="docwin" href="PreparedStatementsWithPk/DatasetMethods.html">Sequel::Plugins::PreparedStatementsWithPk::DatasetMethods</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-apply'>
                <a name='method-c-apply'></a>
                <div class='synopsis'>
                  <span class='name'>apply</span>
                  <span class='arguments'>(model)</span>
                </div>
                <div class='description'>
                  
                  <p>Depend on the prepared_statements plugin</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-apply-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-apply-source'><span class="ruby-comment"># File lib/sequel/plugins/prepared_statements_with_pk.rb, line 26</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">apply</span>(<span class="ruby-identifier">model</span>)&#x000A;  <span class="ruby-identifier">model</span>.<span class="ruby-identifier">plugin</span>(<span class="ruby-value">:prepared_statements</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
