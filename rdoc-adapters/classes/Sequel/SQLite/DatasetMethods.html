<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::SQLite::DatasetMethods</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      function popupCode(url) {
        window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
      }
      
      function toggleCode(id) {
        var code = document.getElementById(id)
      
        code.style.display = code.style.display != 'block' ? 'block' : 'none'
        return true
      }
      
      // Make codeblocks hidden by default
      document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::SQLite::DatasetMethods
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/adapters/shared/sqlite_rb.html">lib/sequel/adapters/shared/sqlite.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>Instance methods for datasets that connect to an <a
            href="../SQLite.html">SQLite</a> database</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-cast_sql_append">cast_sql_append</a></li>
              <li><a target="docwin" href="#method-i-complex_expression_sql_append">complex_expression_sql_append</a></li>
              <li><a target="docwin" href="#method-i-constant_sql_append">constant_sql_append</a></li>
              <li><a target="docwin" href="#method-i-delete">delete</a></li>
              <li><a target="docwin" href="#method-i-explain">explain</a></li>
              <li><a target="docwin" href="#method-i-having">having</a></li>
              <li><a target="docwin" href="#method-i-insert_conflict">insert_conflict</a></li>
              <li><a target="docwin" href="#method-i-insert_ignore">insert_ignore</a></li>
              <li><a target="docwin" href="#method-i-quoted_identifier_append">quoted_identifier_append</a></li>
              <li><a target="docwin" href="#method-i-select">select</a></li>
              <li><a target="docwin" href="#method-i-supports_cte-3F">supports_cte?</a></li>
              <li><a target="docwin" href="#method-i-supports_derived_column_lists-3F">supports_derived_column_lists?</a></li>
              <li><a target="docwin" href="#method-i-supports_intersect_except_all-3F">supports_intersect_except_all?</a></li>
              <li><a target="docwin" href="#method-i-supports_is_true-3F">supports_is_true?</a></li>
              <li><a target="docwin" href="#method-i-supports_multiple_column_in-3F">supports_multiple_column_in?</a></li>
              <li><a target="docwin" href="#method-i-supports_timestamp_timezones-3F">supports_timestamp_timezones?</a></li>
              <li><a target="docwin" href="#method-i-supports_where_true-3F">supports_where_true?</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li><a target="docwin" href="../Dataset/Replace.html">Dataset::Replace</a></li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>APOS</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::APOS</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>AS</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::AS</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BACKTICK</td>
                    <td>=</td>
                    <td class='context-item-value'>'`'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BACKTICK_RE</td>
                    <td>=</td>
                    <td class='context-item-value'>/`/.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BLOB_START</td>
                    <td>=</td>
                    <td class='context-item-value'>"X'".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>COMMA</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::COMMA</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>CONSTANT_MAP</td>
                    <td>=</td>
                    <td class='context-item-value'>{:CURRENT_DATE=>"date(CURRENT_TIMESTAMP, 'localtime')".freeze, :CURRENT_TIMESTAMP=>"datetime(CURRENT_TIMESTAMP, 'localtime')".freeze, :CURRENT_TIME=>"time(CURRENT_TIMESTAMP, 'localtime')".freeze}</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>DATETIME_OPEN</td>
                    <td>=</td>
                    <td class='context-item-value'>"datetime(".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>DATE_OPEN</td>
                    <td>=</td>
                    <td class='context-item-value'>"date(".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>DOUBLE_BACKTICK</td>
                    <td>=</td>
                    <td class='context-item-value'>'``'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EMULATED_FUNCTION_MAP</td>
                    <td>=</td>
                    <td class='context-item-value'>{:char_length=>'length'.freeze}</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EXTRACT_CLOSE</td>
                    <td>=</td>
                    <td class='context-item-value'>') AS '.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EXTRACT_MAP</td>
                    <td>=</td>
                    <td class='context-item-value'>{:year=>"'%Y'", :month=>"'%m'", :day=>"'%d'", :hour=>"'%H'", :minute=>"'%M'", :second=>"'%f'"}</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EXTRACT_OPEN</td>
                    <td>=</td>
                    <td class='context-item-value'>"CAST(strftime(".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>HSTAR</td>
                    <td>=</td>
                    <td class='context-item-value'>"H*".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>INTEGER</td>
                    <td>=</td>
                    <td class='context-item-value'>'INTEGER'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NOT_SPACE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::NOT_SPACE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NUMERIC</td>
                    <td>=</td>
                    <td class='context-item-value'>'NUMERIC'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>ONLY_OFFSET</td>
                    <td>=</td>
                    <td class='context-item-value'>" LIMIT -1 OFFSET ".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>OR</td>
                    <td>=</td>
                    <td class='context-item-value'>" OR ".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>PAREN_CLOSE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::PAREN_CLOSE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>SELECT_VALUES</td>
                    <td>=</td>
                    <td class='context-item-value'>"VALUES ".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-cast_sql_append'>
                <a name='method-i-cast_sql_append'></a>
                <div class='synopsis'>
                  <span class='name'>cast_sql_append</span>
                  <span class='arguments'>(sql, expr, type)</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-cast_sql_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-cast_sql_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 542</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">cast_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">type</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Time</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DateTime</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">DATETIME_OPEN</span>&#x000A;    <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">expr</span>)&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PAREN_CLOSE</span>&#x000A;  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Date</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">DATE_OPEN</span>&#x000A;    <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">expr</span>)&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PAREN_CLOSE</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-complex_expression_sql_append'>
                <a name='method-i-complex_expression_sql_append'></a>
                <div class='synopsis'>
                  <span class='name'>complex_expression_sql_append</span>
                  <span class='arguments'>(sql, op, args)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> doesn&#39;t support a NOT LIKE b, you
                  need to use NOT (a LIKE b). It doesn&#39;t support xor or the extract
                  function natively, so those have to be emulated.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-complex_expression_sql_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-complex_expression_sql_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 558</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">complex_expression_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-keyword">case</span> <span class="ruby-identifier">op</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:&quot;NOT LIKE&quot;</span>, <span class="ruby-value">:&quot;NOT ILIKE&quot;</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">NOT_SPACE</span>&#x000A;    <span class="ruby-identifier">complex_expression_sql_append</span>(<span class="ruby-identifier">sql</span>, (<span class="ruby-identifier">op</span> <span class="ruby-operator">==</span> <span class="ruby-value">:&quot;NOT ILIKE&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-value">:ILIKE</span> <span class="ruby-operator">:</span> <span class="ruby-value">:LIKE</span>), <span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:^</span>&#x000A;    <span class="ruby-identifier">complex_expression_arg_pairs_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">lit</span>([<span class="ruby-string">&quot;((~(&quot;</span>, <span class="ruby-string">&quot; &amp; &quot;</span>, <span class="ruby-string">&quot;)) &amp; (&quot;</span>, <span class="ruby-string">&quot; | &quot;</span>, <span class="ruby-string">&quot;))&quot;</span>], <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)}&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:**</span>&#x000A;    <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">exp</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>]).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)&#x000A;      <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;can only emulate exponentiation on SQLite if exponent is an integer, given #{exp.inspect}&quot;</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">case</span> <span class="ruby-identifier">exp</span>&#x000A;    <span class="ruby-keyword">when</span> <span class="ruby-value">0</span>&#x000A;      <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;1&#39;</span>&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;(&#39;</span>&#x000A;      <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-identifier">exp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>&#x000A;        <span class="ruby-identifier">invert</span> = <span class="ruby-keyword">true</span>&#x000A;        <span class="ruby-identifier">exp</span> = <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">abs</span>&#x000A;        <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;(1.0 / (&#39;</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;      (<span class="ruby-identifier">exp</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> &#x000A;        <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">arg</span>)&#x000A;        <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; * &quot;</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;      <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">arg</span>)&#x000A;      <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PAREN_CLOSE</span>&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-identifier">invert</span>&#x000A;        <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;))&quot;</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:extract</span>&#x000A;    <span class="ruby-identifier">part</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)&#x000A;    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;unsupported extract argument: #{part.inspect}&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">format</span> = <span class="ruby-constant">EXTRACT_MAP</span>[<span class="ruby-identifier">part</span>]&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">EXTRACT_OPEN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">COMMA</span>&#x000A;    <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">1</span>))&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">EXTRACT_CLOSE</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">part</span> <span class="ruby-operator">==</span> <span class="ruby-value">:second</span> <span class="ruby-operator">?</span> <span class="ruby-constant">NUMERIC</span> <span class="ruby-operator">:</span> <span class="ruby-constant">INTEGER</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PAREN_CLOSE</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-constant_sql_append'>
                <a name='method-i-constant_sql_append'></a>
                <div class='synopsis'>
                  <span class='name'>constant_sql_append</span>
                  <span class='arguments'>(sql, constant)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> has CURRENT_TIMESTAMP and related
                  constants in UTC instead of in localtime, so convert those constants to
                  local time.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-constant_sql_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-constant_sql_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 603</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">constant_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">constant</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span> = <span class="ruby-constant">CONSTANT_MAP</span>[<span class="ruby-identifier">constant</span>]&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-delete'>
                <a name='method-i-delete'></a>
                <div class='synopsis'>
                  <span class='name'>delete</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> performs a TRUNCATE style DELETE if no
                  filter is specified. Since we want to always return the count of records,
                  add a condition that is always true and then delete.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-delete-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-delete-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 614</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>&#x000A;  <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:where</span>] <span class="ruby-operator">?</span> <span class="ruby-keyword">super</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">where</span>(<span class="ruby-value">1</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>).<span class="ruby-identifier">delete</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-explain'>
                <a name='method-i-explain'></a>
                <div class='synopsis'>
                  <span class='name'>explain</span>
                  <span class='arguments'>(opts=nil)</span>
                </div>
                <div class='description'>
                  
                  <p>Return an array of strings specifying a query explanation for a SELECT of
                  the current dataset. Currently, the options are ignore, but it accepts
                  options to be compatible with other adapters.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-explain-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-explain-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 621</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">explain</span>(<span class="ruby-identifier">opts</span>=<span class="ruby-keyword">nil</span>)&#x000A;  <span class="ruby-comment"># Load the PrettyTable class, needed for explain output</span>&#x000A;  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:_pretty_table</span>) <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">PrettyTable</span>)&#x000A;&#x000A;  <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">db</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:metadata_dataset</span>).<span class="ruby-identifier">clone</span>(<span class="ruby-value">:sql=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;EXPLAIN #{select_sql}&quot;</span>)&#x000A;  <span class="ruby-identifier">rows</span> = <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">all</span>&#x000A;  <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">PrettyTable</span>.<span class="ruby-identifier">string</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">columns</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-having'>
                <a name='method-i-having'></a>
                <div class='synopsis'>
                  <span class='name'>having</span>
                  <span class='arguments'>(*cond)</span>
                </div>
                <div class='description'>
                  
                  <p>HAVING requires GROUP BY on <a href="../SQLite.html">SQLite</a></p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-having-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-having-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 631</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">having</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">cond</span>)&#x000A;  <span class="ruby-identifier">raise</span>(<span class="ruby-constant">InvalidOperation</span>, <span class="ruby-string">&quot;Can only specify a HAVING clause on a grouped dataset&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:group</span>]&#x000A;  <span class="ruby-keyword">super</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-insert_conflict'>
                <a name='method-i-insert_conflict'></a>
                <div class='synopsis'>
                  <span class='name'>insert_conflict</span>
                  <span class='arguments'>(resolution = :ignore)</span>
                </div>
                <div class='description'>
                  
                  <p>Handle uniqueness violations when inserting, by using a specified
                  resolution algorithm. With no options, uses INSERT <a
                  href="DatasetMethods.html#OR">OR</a> REPLACE. <a
                  href="../SQLite.html">SQLite</a> supports the following conflict resolution
                  algoriths: ROLLBACK, ABORT, FAIL, IGNORE and REPLACE.</p>
                  
                  <p>Examples:</p>
                  
                  <pre class="ruby"><span class="ruby-constant">DB</span>[:<span class="ruby-identifier">table</span>].<span class="ruby-identifier">insert_conflict</span>.<span class="ruby-identifier">insert</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, :<span class="ruby-identifier">b=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>)&#x000A;<span class="ruby-comment"># INSERT OR IGNORE INTO TABLE (a, b) VALUES (1, 2)</span>&#x000A;&#x000A;<span class="ruby-constant">DB</span>[:<span class="ruby-identifier">table</span>].<span class="ruby-identifier">insert_conflict</span>(:<span class="ruby-identifier">replace</span>).<span class="ruby-identifier">insert</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, :<span class="ruby-identifier">b=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>)&#x000A;<span class="ruby-comment"># INSERT OR REPLACE INTO TABLE (a, b) VALUES (1, 2)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-insert_conflict-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-insert_conflict-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 665</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_conflict</span>(<span class="ruby-identifier">resolution</span> = <span class="ruby-value">:ignore</span>)&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:insert_conflict</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">resolution</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-insert_ignore'>
                <a name='method-i-insert_ignore'></a>
                <div class='synopsis'>
                  <span class='name'>insert_ignore</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Ignore uniqueness/exclusion violations when inserting, using INSERT <a
                  href="DatasetMethods.html#OR">OR</a> IGNORE. Exists mostly for
                  compatibility to MySQL&#39;s insert_ignore. Example:</p>
                  
                  <pre class="ruby"><span class="ruby-constant">DB</span>[:<span class="ruby-identifier">table</span>].<span class="ruby-identifier">insert_ignore</span>.<span class="ruby-identifier">insert</span>(:<span class="ruby-identifier">a=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, :<span class="ruby-identifier">b=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>)&#x000A;<span class="ruby-comment"># INSERT OR IGNORE INTO TABLE (a, b) VALUES (1, 2)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-insert_ignore-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-insert_ignore-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 674</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_ignore</span>&#x000A;  <span class="ruby-identifier">insert_conflict</span>(<span class="ruby-value">:ignore</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-quoted_identifier_append'>
                <a name='method-i-quoted_identifier_append'></a>
                <div class='synopsis'>
                  <span class='name'>quoted_identifier_append</span>
                  <span class='arguments'>(sql, c)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> uses the nonstandard ` (backtick) for
                  quoting identifiers.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-quoted_identifier_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-quoted_identifier_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 637</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">quoted_identifier_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">c</span>)&#x000A;  <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">BACKTICK</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">BACKTICK_RE</span>, <span class="ruby-constant">DOUBLE_BACKTICK</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">BACKTICK</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-select'>
                <a name='method-i-select'></a>
                <div class='synopsis'>
                  <span class='name'>select</span>
                  <span class='arguments'>(*cols)</span>
                </div>
                <div class='description'>
                  
                  <p>When a qualified column is selected on <a href="../SQLite.html">SQLite</a>
                  and the qualifier is a subselect, the column name used is the full
                  qualified name (including the qualifier) instead of just the column name. 
                  To get correct column names, you must use an alias.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-select-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-select-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 645</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">cols</span>)&#x000A;  <span class="ruby-keyword">if</span> ((<span class="ruby-identifier">f</span> = <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:from</span>]) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Dataset</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">t</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">AliasedExpression</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Dataset</span>))}) <span class="ruby-operator">||</span> ((<span class="ruby-identifier">j</span> = <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:join</span>]) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">table</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Dataset</span>)})&#x000A;    <span class="ruby-keyword">super</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">cols</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">alias_qualified_column</span>(<span class="ruby-identifier">c</span>)})&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_cte-3F'>
                <a name='method-i-supports_cte-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_cte?</span>
                  <span class='arguments'>(type=:select)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> 3.8.3+ supports common table
                  expressions.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_cte-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_cte-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 679</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_cte?</span>(<span class="ruby-identifier">type</span>=<span class="ruby-value">:select</span>)&#x000A;  <span class="ruby-identifier">db</span>.<span class="ruby-identifier">sqlite_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">30803</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_derived_column_lists-3F'>
                <a name='method-i-supports_derived_column_lists-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_derived_column_lists?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> does not support table aliases with
                  column aliases</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_derived_column_lists-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_derived_column_lists-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 684</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_derived_column_lists?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_intersect_except_all-3F'>
                <a name='method-i-supports_intersect_except_all-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_intersect_except_all?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> does not support INTERSECT ALL or
                  EXCEPT ALL</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_intersect_except_all-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_intersect_except_all-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 689</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_intersect_except_all?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_is_true-3F'>
                <a name='method-i-supports_is_true-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_is_true?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> does not support IS TRUE</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_is_true-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_is_true-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 694</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_is_true?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_multiple_column_in-3F'>
                <a name='method-i-supports_multiple_column_in-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_multiple_column_in?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> does not support multiple columns for
                  the IN/NOT IN operators</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_multiple_column_in-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_multiple_column_in-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 699</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_multiple_column_in?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_timestamp_timezones-3F'>
                <a name='method-i-supports_timestamp_timezones-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_timestamp_timezones?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> supports timezones in literal
                  timestamps, since it stores them as text.  But using timezones in
                  timestamps breaks <a href="../SQLite.html">SQLite</a> datetime functions,
                  so we allow the user to override the default per database.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_timestamp_timezones-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_timestamp_timezones-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 706</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_timestamp_timezones?</span>&#x000A;  <span class="ruby-identifier">db</span>.<span class="ruby-identifier">use_timestamp_timezones?</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_where_true-3F'>
                <a name='method-i-supports_where_true-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_where_true?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../SQLite.html">SQLite</a> cannot use WHERE &#39;t&#39;.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_where_true-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_where_true-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/sqlite.rb, line 711</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_where_true?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
    </div>
  </body>
</html>
