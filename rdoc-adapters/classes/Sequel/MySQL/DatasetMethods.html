<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::MySQL::DatasetMethods</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Sequel::MySQL::DatasetMethods
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/adapters/shared/mysql_rb.html">lib/sequel/adapters/shared/mysql.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p><a href="Dataset.html"><code>Dataset</code></a> methods shared by datasets that use <a href="../MySQL.html"><code>MySQL</code></a> databases.</p>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-calc_found_rows">calc_found_rows</a></li>
<li><a href="#method-i-complex_expression_sql_append">complex_expression_sql_append</a></li>
<li><a href="#method-i-constant_sql_append">constant_sql_append</a></li>
<li><a href="#method-i-delete_from">delete_from</a></li>
<li><a href="#method-i-distinct">distinct</a></li>
<li><a href="#method-i-explain">explain</a></li>
<li><a href="#method-i-for_share">for_share</a></li>
<li><a href="#method-i-full_text_search">full_text_search</a></li>
<li><a href="#method-i-full_text_sql">full_text_sql</a></li>
<li><a href="#method-i-insert_ignore">insert_ignore</a></li>
<li><a href="#method-i-on_duplicate_key_update">on_duplicate_key_update</a></li>
<li><a href="#method-i-quoted_identifier_append">quoted_identifier_append</a></li>
<li><a href="#method-i-supports_cte-3F">supports_cte?</a></li>
<li><a href="#method-i-supports_derived_column_lists-3F">supports_derived_column_lists?</a></li>
<li><a href="#method-i-supports_distinct_on-3F">supports_distinct_on?</a></li>
<li><a href="#method-i-supports_group_rollup-3F">supports_group_rollup?</a></li>
<li><a href="#method-i-supports_intersect_except-3F">supports_intersect_except?</a></li>
<li><a href="#method-i-supports_limits_in_correlated_subqueries-3F">supports_limits_in_correlated_subqueries?</a></li>
<li><a href="#method-i-supports_modifying_joins-3F">supports_modifying_joins?</a></li>
<li><a href="#method-i-supports_nowait-3F">supports_nowait?</a></li>
<li><a href="#method-i-supports_ordered_distinct_on-3F">supports_ordered_distinct_on?</a></li>
<li><a href="#method-i-supports_regexp-3F">supports_regexp?</a></li>
<li><a href="#method-i-supports_skip_locked-3F">supports_skip_locked?</a></li>
<li><a href="#method-i-supports_timestamp_usecs-3F">supports_timestamp_usecs?</a></li>
<li><a href="#method-i-supports_window_clause-3F">supports_window_clause?</a></li>
<li><a href="#method-i-supports_window_functions-3F">supports_window_functions?</a></li>
<li><a href="#method-i-update_ignore">update_ignore</a></li>
</ol>
</div>
<div id='context'>
<div id='includes'>
<h2>Included modules</h2>
<ol>
<li><a href="../Dataset/Replace.html">Sequel::Dataset::Replace</a></li>
<li><a href="../UnmodifiedIdentifiers/DatasetMethods.html">UnmodifiedIdentifiers::DatasetMethods</a></li>
</ol>
</div>
</div>
<div id='section'>
<div id='constants-list'>
<h2>Constants</h2>
<div class='name-list'>
<table summary='Constants'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>MATCH_AGAINST</td>
<td>=</td>
<td class='context-item-value'>["MATCH ".freeze, " AGAINST (".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>MATCH_AGAINST_BOOLEAN</td>
<td>=</td>
<td class='context-item-value'>["MATCH ".freeze, " AGAINST (".freeze, " IN BOOLEAN MODE)".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
</table>
</div>
</div>
<div id='methods'>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-calc_found_rows'>
<a name='method-i-calc_found_rows'></a>
<div class='synopsis'>
<span class='name'>calc_found_rows</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Sets up the select methods to use SQL_CALC_FOUND_ROWS option.</p>

<pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">calc_found_rows</span>.<span class="ruby-identifier">limit</span>(<span class="ruby-value">10</span>)&#x000A;<span class="ruby-comment"># SELECT SQL_CALC_FOUND_ROWS * FROM table LIMIT 10</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-calc_found_rows-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-calc_found_rows-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">694</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">calc_found_rows</span>&#x000A;<span class="line-num">695</span>   <span class="ruby-identifier">clone</span>(<span class="ruby-value">:calc_found_rows</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>)&#x000A;<span class="line-num">696</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-complex_expression_sql_append'>
<a name='method-i-complex_expression_sql_append'></a>
<div class='synopsis'>
<span class='name'>complex_expression_sql_append</span><span class='arguments'>(sql, op, args)</span>

</div>
<div class='description'>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-complex_expression_sql_append-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-complex_expression_sql_append-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">628</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">complex_expression_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">args</span>)&#x000A;<span class="line-num">629</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">op</span>&#x000A;<span class="line-num">630</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:IN</span>, <span class="ruby-value">:&quot;NOT IN&quot;</span>&#x000A;<span class="line-num">631</span>     <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>]&#x000A;<span class="line-num">632</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Dataset</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">opts</span>[<span class="ruby-value">:limit</span>]&#x000A;<span class="line-num">633</span>       <span class="ruby-keyword">super</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">op</span>, [<span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">from_self</span>])&#x000A;<span class="line-num">634</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">635</span>       <span class="ruby-keyword">super</span>&#x000A;<span class="line-num">636</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">637</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:&#39;~*&#39;</span>, <span class="ruby-value">:&#39;!~*&#39;</span>, <span class="ruby-value">:LIKE</span>, <span class="ruby-value">:&#39;NOT LIKE&#39;</span>, <span class="ruby-value">:ILIKE</span>, <span class="ruby-value">:&#39;NOT ILIKE&#39;</span>&#x000A;<span class="line-num">638</span>     <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">80000</span> <span class="ruby-operator">&amp;&amp;</span> [<span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;<span class="line-num">639</span>       <span class="ruby-identifier">func</span> = <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">function</span>(<span class="ruby-value">:REGEXP_LIKE</span>, <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>], <span class="ruby-string">&#39;c&#39;</span>)&#x000A;<span class="line-num">640</span>       <span class="ruby-identifier">func</span> = <span class="ruby-operator">~</span><span class="ruby-identifier">func</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">op</span> <span class="ruby-operator">==</span> <span class="ruby-value">:&#39;!~&#39;</span>&#x000A;<span class="line-num">641</span>       <span class="ruby-keyword">return</span> <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">func</span>)&#x000A;<span class="line-num">642</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">643</span> &#x000A;<span class="line-num">644</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;(&#39;</span>&#x000A;<span class="line-num">645</span>     <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])&#x000A;<span class="line-num">646</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39; &#39;</span>&#x000A;<span class="line-num">647</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;NOT &#39;</span> <span class="ruby-keyword">if</span> [<span class="ruby-value">:&#39;NOT LIKE&#39;</span>, <span class="ruby-value">:&#39;NOT ILIKE&#39;</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:&#39;!~*&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;<span class="line-num">648</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> ([<span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:&#39;~*&#39;</span>, <span class="ruby-value">:&#39;!~*&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>) <span class="ruby-operator">?</span> <span class="ruby-string">&#39;REGEXP&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;LIKE&#39;</span>)&#x000A;<span class="line-num">649</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39; &#39;</span>&#x000A;<span class="line-num">650</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;BINARY &#39;</span> <span class="ruby-keyword">if</span> [<span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:LIKE</span>, <span class="ruby-value">:&#39;NOT LIKE&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;<span class="line-num">651</span>     <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>])&#x000A;<span class="line-num">652</span>     <span class="ruby-keyword">if</span> [<span class="ruby-value">:LIKE</span>, <span class="ruby-value">:&#39;NOT LIKE&#39;</span>, <span class="ruby-value">:ILIKE</span>, <span class="ruby-value">:&#39;NOT ILIKE&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;<span class="line-num">653</span>       <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; ESCAPE &quot;</span>&#x000A;<span class="line-num">654</span>       <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-string">&quot;\\&quot;</span>)&#x000A;<span class="line-num">655</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">656</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;)&#39;</span>&#x000A;<span class="line-num">657</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:&#39;||&#39;</span>&#x000A;<span class="line-num">658</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>&#x000A;<span class="line-num">659</span>       <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;CONCAT&quot;</span>&#x000A;<span class="line-num">660</span>       <span class="ruby-identifier">array_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>)&#x000A;<span class="line-num">661</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">662</span>       <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])&#x000A;<span class="line-num">663</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">664</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:&#39;B~&#39;</span>&#x000A;<span class="line-num">665</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;CAST(~&quot;</span>&#x000A;<span class="line-num">666</span>     <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])&#x000A;<span class="line-num">667</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; AS SIGNED INTEGER)&quot;</span>&#x000A;<span class="line-num">668</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">669</span>     <span class="ruby-keyword">super</span>&#x000A;<span class="line-num">670</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">671</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-constant_sql_append'>
<a name='method-i-constant_sql_append'></a>
<div class='synopsis'>
<span class='name'>constant_sql_append</span><span class='arguments'>(sql, constant)</span>

</div>
<div class='description'>

<p>MySQL&#39;s CURRENT_TIMESTAMP does not use fractional seconds, even if the database itself supports fractional seconds. If <a href="../MySQL.html"><code>MySQL</code></a> 5.6.4+ is being used, use a value that will return fractional seconds.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-constant_sql_append-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-constant_sql_append-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">677</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">constant_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">constant</span>)&#x000A;<span class="line-num">678</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">constant</span> <span class="ruby-operator">==</span> <span class="ruby-value">:CURRENT_TIMESTAMP</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">supports_timestamp_usecs?</span>&#x000A;<span class="line-num">679</span>     <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;CURRENT_TIMESTAMP(6)&#39;</span>&#x000A;<span class="line-num">680</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">681</span>     <span class="ruby-keyword">super</span>&#x000A;<span class="line-num">682</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">683</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-delete_from'>
<a name='method-i-delete_from'></a>
<div class='synopsis'>
<span class='name'>delete_from</span><span class='arguments'>(*tables)</span>

</div>
<div class='description'>

<p>Sets up the select methods to delete from if deleting from a joined dataset:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value">:b</span>, <span class="ruby-value">a_id:</span> <span class="ruby-value">:id</span>).<span class="ruby-identifier">delete</span>&#x000A;<span class="ruby-comment"># DELETE a FROM a INNER JOIN b ON (b.a_id = a.id)</span>&#x000A;&#x000A;<span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value">:b</span>, <span class="ruby-value">a_id:</span> <span class="ruby-value">:id</span>).<span class="ruby-identifier">delete_from</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>).<span class="ruby-identifier">delete</span>&#x000A;<span class="ruby-comment"># DELETE a, b FROM a INNER JOIN b ON (b.a_id = a.id)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-delete_from-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-delete_from-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">706</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_from</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tables</span>)&#x000A;<span class="line-num">707</span>   <span class="ruby-identifier">clone</span>(<span class="ruby-value">:delete_from</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">tables</span>)&#x000A;<span class="line-num">708</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-distinct'>
<a name='method-i-distinct'></a>
<div class='synopsis'>
<span class='name'>distinct</span><span class='arguments'>(*args)</span>

</div>
<div class='description'>

<p>Use GROUP BY instead of DISTINCT ON if arguments are provided.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-distinct-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-distinct-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">686</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">distinct</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="line-num">687</span>   <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">super</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">group</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="line-num">688</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-explain'>
<a name='method-i-explain'></a>
<div class='synopsis'>
<span class='name'>explain</span><span class='arguments'>(opts=OPTS)</span>

</div>
<div class='description'>

<p>Return the results of an EXPLAIN query as a string. Options:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>:extended </td><td>
<p>Use EXPLAIN EXTENDED instead of EXPLAIN if true.</p>
</td></tr></tbody></table>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-explain-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-explain-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">712</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">explain</span>(<span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;<span class="line-num">713</span>   <span class="ruby-comment"># Load the PrettyTable class, needed for explain output</span>&#x000A;<span class="line-num">714</span>   <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:_pretty_table</span>) <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">PrettyTable</span>)&#x000A;<span class="line-num">715</span> &#x000A;<span class="line-num">716</span>   <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">db</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:metadata_dataset</span>).<span class="ruby-identifier">with_sql</span>(((<span class="ruby-identifier">opts</span>[<span class="ruby-value">:extended</span>] <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50700</span>)) <span class="ruby-operator">?</span> <span class="ruby-string">&#39;EXPLAIN EXTENDED &#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;EXPLAIN &#39;</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">select_sql</span>).<span class="ruby-identifier">naked</span>&#x000A;<span class="line-num">717</span>   <span class="ruby-identifier">rows</span> = <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">all</span>&#x000A;<span class="line-num">718</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">PrettyTable</span>.<span class="ruby-identifier">string</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">columns</span>)&#x000A;<span class="line-num">719</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-for_share'>
<a name='method-i-for_share'></a>
<div class='synopsis'>
<span class='name'>for_share</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Return a cloned dataset which will use LOCK IN SHARE MODE to lock returned rows.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-for_share-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-for_share-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">722</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">for_share</span>&#x000A;<span class="line-num">723</span>   <span class="ruby-identifier">lock_style</span>(<span class="ruby-value">:share</span>)&#x000A;<span class="line-num">724</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-full_text_search'>
<a name='method-i-full_text_search'></a>
<div class='synopsis'>
<span class='name'>full_text_search</span><span class='arguments'>(cols, terms, opts = OPTS)</span>

</div>
<div class='description'>

<p>Adds full text filter</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-full_text_search-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-full_text_search-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">727</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">full_text_search</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">terms</span>, <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OPTS</span>)&#x000A;<span class="line-num">728</span>   <span class="ruby-identifier">where</span>(<span class="ruby-identifier">full_text_sql</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">terms</span>, <span class="ruby-identifier">opts</span>))&#x000A;<span class="line-num">729</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-full_text_sql'>
<a name='method-i-full_text_sql'></a>
<div class='synopsis'>
<span class='name'>full_text_sql</span><span class='arguments'>(cols, terms, opts = OPTS)</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> specific full text search syntax.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-full_text_sql-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-full_text_sql-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">732</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">full_text_sql</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">terms</span>, <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OPTS</span>)&#x000A;<span class="line-num">733</span>   <span class="ruby-identifier">terms</span> = <span class="ruby-identifier">terms</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">terms</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;<span class="line-num">734</span>   <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">PlaceholderLiteralString</span>.<span class="ruby-identifier">new</span>((<span class="ruby-identifier">opts</span>[<span class="ruby-value">:boolean</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">MATCH_AGAINST_BOOLEAN</span> <span class="ruby-operator">:</span> <span class="ruby-constant">MATCH_AGAINST</span>), [<span class="ruby-constant">Array</span>(<span class="ruby-identifier">cols</span>), <span class="ruby-identifier">terms</span>])&#x000A;<span class="line-num">735</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-insert_ignore'>
<a name='method-i-insert_ignore'></a>
<div class='synopsis'>
<span class='name'>insert_ignore</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Sets up the insert methods to use INSERT IGNORE. Useful if you have a unique key and want to just skip inserting rows that violate the unique key restriction.</p>

<pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">insert_ignore</span>.<span class="ruby-identifier">multi_insert</span>(&#x000A;  [{<span class="ruby-value">name:</span> <span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">1</span>}, {<span class="ruby-value">name:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT IGNORE INTO tablename (name, value) VALUES (a, 1), (b, 2)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-insert_ignore-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-insert_ignore-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">745</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_ignore</span>&#x000A;<span class="line-num">746</span>   <span class="ruby-identifier">clone</span>(<span class="ruby-value">:insert_ignore</span><span class="ruby-operator">=&gt;</span><span class="ruby-keyword">true</span>)&#x000A;<span class="line-num">747</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-on_duplicate_key_update'>
<a name='method-i-on_duplicate_key_update'></a>
<div class='synopsis'>
<span class='name'>on_duplicate_key_update</span><span class='arguments'>(*args)</span>

</div>
<div class='description'>

<p>Sets up the insert methods to use ON DUPLICATE KEY UPDATE If you pass no arguments, ALL fields will be updated with the new values.  If you pass the fields you want then ONLY those field will be updated. If you pass a hash you can customize the values (for example, to increment a numeric field).</p>

<p>Useful if you have a unique key and want to update inserting rows that violate the unique key restriction.</p>

<pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">on_duplicate_key_update</span>.<span class="ruby-identifier">multi_insert</span>(&#x000A;  [{<span class="ruby-value">name:</span> <span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">1</span>}, {<span class="ruby-value">name:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT INTO tablename (name, value) VALUES (a, 1), (b, 2)</span>&#x000A;<span class="ruby-comment"># ON DUPLICATE KEY UPDATE name=VALUES(name), value=VALUES(value)</span>&#x000A;&#x000A;<span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">on_duplicate_key_update</span>(<span class="ruby-value">:value</span>).<span class="ruby-identifier">multi_insert</span>(&#x000A;  [{<span class="ruby-value">name:</span> <span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">1</span>}, {<span class="ruby-value">name:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT INTO tablename (name, value) VALUES (a, 1), (b, 2)</span>&#x000A;<span class="ruby-comment"># ON DUPLICATE KEY UPDATE value=VALUES(value)</span>&#x000A;&#x000A;<span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">on_duplicate_key_update</span>(&#x000A;  <span class="ruby-value">value:</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">lit</span>(<span class="ruby-string">&#39;value + VALUES(value)&#39;</span>)&#x000A;).<span class="ruby-identifier">multi_insert</span>(&#x000A;  [{<span class="ruby-value">name:</span> <span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">1</span>}, {<span class="ruby-value">name:</span> <span class="ruby-string">&#39;b&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT INTO tablename (name, value) VALUES (a, 1), (b, 2)</span>&#x000A;<span class="ruby-comment"># ON DUPLICATE KEY UPDATE value=value + VALUES(value)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-on_duplicate_key_update-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-on_duplicate_key_update-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">778</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">on_duplicate_key_update</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="line-num">779</span>   <span class="ruby-identifier">clone</span>(<span class="ruby-value">:on_duplicate_key_update</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">args</span>)&#x000A;<span class="line-num">780</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-quoted_identifier_append'>
<a name='method-i-quoted_identifier_append'></a>
<div class='synopsis'>
<span class='name'>quoted_identifier_append</span><span class='arguments'>(sql, c)</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> uses the nonstandard ` (backtick) for quoting identifiers.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-quoted_identifier_append-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-quoted_identifier_append-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">783</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">quoted_identifier_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">c</span>)&#x000A;<span class="line-num">784</span>   <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;`&#39;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&#39;`&#39;</span>, <span class="ruby-string">&#39;``&#39;</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;`&#39;</span>&#x000A;<span class="line-num">785</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_cte-3F'>
<a name='method-i-supports_cte-3F'></a>
<div class='synopsis'>
<span class='name'>supports_cte?</span><span class='arguments'>(type=:select)</span>

</div>
<div class='description'>

<p>MariaDB 10.2+ and <a href="../MySQL.html"><code>MySQL</code></a> 8+ support CTEs</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_cte-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_cte-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">788</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_cte?</span>(<span class="ruby-identifier">type</span>=<span class="ruby-value">:select</span>)&#x000A;<span class="line-num">789</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span>&#x000A;<span class="line-num">790</span>     <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:select</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">100200</span>&#x000A;<span class="line-num">791</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">792</span>     <span class="ruby-keyword">case</span> <span class="ruby-identifier">type</span>&#x000A;<span class="line-num">793</span>     <span class="ruby-keyword">when</span> <span class="ruby-value">:select</span>, <span class="ruby-value">:update</span>, <span class="ruby-value">:delete</span>&#x000A;<span class="line-num">794</span>       <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">80000</span>&#x000A;<span class="line-num">795</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">796</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">797</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_derived_column_lists-3F'>
<a name='method-i-supports_derived_column_lists-3F'></a>
<div class='synopsis'>
<span class='name'>supports_derived_column_lists?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> does not support derived column lists</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_derived_column_lists-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_derived_column_lists-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">800</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_derived_column_lists?</span>&#x000A;<span class="line-num">801</span>   <span class="ruby-keyword">false</span>&#x000A;<span class="line-num">802</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_distinct_on-3F'>
<a name='method-i-supports_distinct_on-3F'></a>
<div class='synopsis'>
<span class='name'>supports_distinct_on?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> can emulate DISTINCT ON with its non-standard GROUP BY implementation, though the rows returned cannot be made deterministic through ordering.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_distinct_on-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_distinct_on-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">806</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_distinct_on?</span>&#x000A;<span class="line-num">807</span>   <span class="ruby-keyword">true</span>&#x000A;<span class="line-num">808</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_group_rollup-3F'>
<a name='method-i-supports_group_rollup-3F'></a>
<div class='synopsis'>
<span class='name'>supports_group_rollup?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> supports GROUP BY WITH ROLLUP (but not CUBE)</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_group_rollup-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_group_rollup-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">811</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_group_rollup?</span>&#x000A;<span class="line-num">812</span>   <span class="ruby-keyword">true</span>&#x000A;<span class="line-num">813</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_intersect_except-3F'>
<a name='method-i-supports_intersect_except-3F'></a>
<div class='synopsis'>
<span class='name'>supports_intersect_except?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>MariaDB 10.3+ supports INTERSECT or EXCEPT</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_intersect_except-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_intersect_except-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">816</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_intersect_except?</span>&#x000A;<span class="line-num">817</span>   <span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">100300</span>&#x000A;<span class="line-num">818</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_limits_in_correlated_subqueries-3F'>
<a name='method-i-supports_limits_in_correlated_subqueries-3F'></a>
<div class='synopsis'>
<span class='name'>supports_limits_in_correlated_subqueries?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> does not support limits in correlated subqueries (or any subqueries that use IN).</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_limits_in_correlated_subqueries-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_limits_in_correlated_subqueries-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">821</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_limits_in_correlated_subqueries?</span>&#x000A;<span class="line-num">822</span>   <span class="ruby-keyword">false</span>&#x000A;<span class="line-num">823</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_modifying_joins-3F'>
<a name='method-i-supports_modifying_joins-3F'></a>
<div class='synopsis'>
<span class='name'>supports_modifying_joins?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> supports modifying joined datasets</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_modifying_joins-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_modifying_joins-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">826</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_modifying_joins?</span>&#x000A;<span class="line-num">827</span>   <span class="ruby-keyword">true</span>&#x000A;<span class="line-num">828</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_nowait-3F'>
<a name='method-i-supports_nowait-3F'></a>
<div class='synopsis'>
<span class='name'>supports_nowait?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> 8+ and MariaDB 10.3+ support NOWAIT.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_nowait-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_nowait-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">831</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_nowait?</span>&#x000A;<span class="line-num">832</span>   <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> (<span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">?</span> <span class="ruby-value">100300</span> <span class="ruby-operator">:</span> <span class="ruby-value">80000</span>)&#x000A;<span class="line-num">833</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_ordered_distinct_on-3F'>
<a name='method-i-supports_ordered_distinct_on-3F'></a>
<div class='synopsis'>
<span class='name'>supports_ordered_distinct_on?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>MySQL&#39;s DISTINCT ON emulation using GROUP BY does not respect the query&#39;s ORDER BY clause.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_ordered_distinct_on-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_ordered_distinct_on-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">837</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_ordered_distinct_on?</span>&#x000A;<span class="line-num">838</span>   <span class="ruby-keyword">false</span>&#x000A;<span class="line-num">839</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_regexp-3F'>
<a name='method-i-supports_regexp-3F'></a>
<div class='synopsis'>
<span class='name'>supports_regexp?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> supports pattern matching via regular expressions</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_regexp-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_regexp-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">842</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_regexp?</span>&#x000A;<span class="line-num">843</span>   <span class="ruby-keyword">true</span>&#x000A;<span class="line-num">844</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_skip_locked-3F'>
<a name='method-i-supports_skip_locked-3F'></a>
<div class='synopsis'>
<span class='name'>supports_skip_locked?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> 8+ supports SKIP LOCKED.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_skip_locked-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_skip_locked-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">847</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_skip_locked?</span>&#x000A;<span class="line-num">848</span>   <span class="ruby-operator">!</span><span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">80000</span>&#x000A;<span class="line-num">849</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_timestamp_usecs-3F'>
<a name='method-i-supports_timestamp_usecs-3F'></a>
<div class='synopsis'>
<span class='name'>supports_timestamp_usecs?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Check the database setting for whether fractional timestamps are suppported.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_timestamp_usecs-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_timestamp_usecs-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">853</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_timestamp_usecs?</span>&#x000A;<span class="line-num">854</span>   <span class="ruby-identifier">db</span>.<span class="ruby-identifier">supports_timestamp_usecs?</span>&#x000A;<span class="line-num">855</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_window_clause-3F'>
<a name='method-i-supports_window_clause-3F'></a>
<div class='synopsis'>
<span class='name'>supports_window_clause?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p><a href="../MySQL.html"><code>MySQL</code></a> 8+ supports WINDOW clause.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_window_clause-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_window_clause-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">858</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_window_clause?</span>&#x000A;<span class="line-num">859</span>   <span class="ruby-operator">!</span><span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">80000</span>&#x000A;<span class="line-num">860</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-supports_window_functions-3F'>
<a name='method-i-supports_window_functions-3F'></a>
<div class='synopsis'>
<span class='name'>supports_window_functions?</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>MariaDB 10.2+ and <a href="../MySQL.html"><code>MySQL</code></a> 8+ support window functions</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-supports_window_functions-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-supports_window_functions-3F-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">863</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_window_functions?</span>&#x000A;<span class="line-num">864</span>   <span class="ruby-identifier">db</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-operator">&gt;=</span> (<span class="ruby-identifier">db</span>.<span class="ruby-identifier">mariadb?</span> <span class="ruby-operator">?</span> <span class="ruby-value">100200</span> <span class="ruby-operator">:</span> <span class="ruby-value">80000</span>)&#x000A;<span class="line-num">865</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-update_ignore'>
<a name='method-i-update_ignore'></a>
<div class='synopsis'>
<span class='name'>update_ignore</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Sets up the update methods to use UPDATE IGNORE. Useful if you have a unique key and want to just skip updating rows that violate the unique key restriction.</p>

<pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">update_ignore</span>.<span class="ruby-identifier">update</span>(<span class="ruby-value">name:</span> <span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">value:</span> <span class="ruby-value">1</span>)&#x000A;<span class="ruby-comment"># UPDATE IGNORE tablename SET name = &#39;a&#39;, value = 1</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-update_ignore-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-update_ignore-source'>    <span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb</span>&#x000A;<span class="line-num">873</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">update_ignore</span>&#x000A;<span class="line-num">874</span>   <span class="ruby-identifier">clone</span>(<span class="ruby-value">:update_ignore</span><span class="ruby-operator">=&gt;</span><span class="ruby-keyword">true</span>)&#x000A;<span class="line-num">875</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
