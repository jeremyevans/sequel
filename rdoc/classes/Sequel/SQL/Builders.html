<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::SQL::Builders</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Sequel::SQL::Builders
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/sql_rb.html">lib/sequel/sql.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>These methods make it easier to create <a
href="../../Sequel.html">Sequel</a> expressions without using the core
extensions.</p>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-as">as</a></li>
<li><a href="#method-i-asc">asc</a></li>
<li><a href="#method-i-blob">blob</a></li>
<li><a href="#method-i-case">case</a></li>
<li><a href="#method-i-cast">cast</a></li>
<li><a href="#method-i-cast_numeric">cast_numeric</a></li>
<li><a href="#method-i-cast_string">cast_string</a></li>
<li><a href="#method-i-char_length">char_length</a></li>
<li><a href="#method-i-deep_qualify">deep_qualify</a></li>
<li><a href="#method-i-delay">delay</a></li>
<li><a href="#method-i-desc">desc</a></li>
<li><a href="#method-i-expr">expr</a></li>
<li><a href="#method-i-extract">extract</a></li>
<li><a href="#method-i-function">function</a></li>
<li><a href="#method-i-identifier">identifier</a></li>
<li><a href="#method-i-ilike">ilike</a></li>
<li><a href="#method-i-join">join</a></li>
<li><a href="#method-i-like">like</a></li>
<li><a href="#method-i-lit">lit</a></li>
<li><a href="#method-i-negate">negate</a></li>
<li><a href="#method-i-or">or</a></li>
<li><a href="#method-i-qualify">qualify</a></li>
<li><a href="#method-i-subscript">subscript</a></li>
<li><a href="#method-i-trim">trim</a></li>
<li><a href="#method-i-value_list">value_list</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='section'>
<div id='methods'>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-as'>
<a name='method-i-as'></a>
<div class='synopsis'>
<span class='name'>as</span>
<span class='arguments'>(exp, aliaz, columns=nil)</span>

</div>
<div class='description'>

<p>Create an <a href="AliasedExpression.html">SQL::AliasedExpression</a> for
the given expression and alias.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">as</span>(<span class="ruby-value">:column</span>, <span class="ruby-value">:alias</span>) <span class="ruby-comment"># &quot;column&quot; AS &quot;alias&quot;</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">as</span>(<span class="ruby-value">:column</span>, <span class="ruby-value">:alias</span>, [<span class="ruby-value">:col_alias1</span>, <span class="ruby-value">:col_alias2</span>]) <span class="ruby-comment"># &quot;column&quot; AS &quot;alias&quot;(&quot;col_alias1&quot;, &quot;col_alias2&quot;)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-as-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-as-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 312</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">as</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">aliaz</span>, <span class="ruby-identifier">columns</span>=<span class="ruby-keyword">nil</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">AliasedExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">aliaz</span>, <span class="ruby-identifier">columns</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-asc'>
<a name='method-i-asc'></a>
<div class='synopsis'>
<span class='name'>asc</span>
<span class='arguments'>(arg, opts=OPTS)</span>

</div>
<div class='description'>

<p>Order the given argument ascending. Options:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>:nulls </td><td>
<p>Set to :first to use NULLS FIRST (so NULL values are ordered before other
values), or :last to use NULLS LAST (so NULL values are ordered after other
values).</p>
</td></tr></tbody></table>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">asc</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># a ASC</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">asc</span>(<span class="ruby-value">:b</span>, <span class="ruby-value">nulls:</span> <span class="ruby-value">:last</span>) <span class="ruby-comment"># b ASC NULLS LAST</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-asc-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-asc-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 325</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">asc</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-keyword">false</span>, <span class="ruby-identifier">opts</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-blob'>
<a name='method-i-blob'></a>
<div class='synopsis'>
<span class='name'>blob</span>
<span class='arguments'>(s)</span>

</div>
<div class='description'>

<p>Return an <code>SQL::Blob</code> that holds the same data as this string.
Blobs provide proper escaping of binary data.  If given a blob, returns it
directly.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-blob-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-blob-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 332</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">blob</span>(<span class="ruby-identifier">s</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Blob</span>)&#x000A;    <span class="ruby-identifier">s</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Blob</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-case'>
<a name='method-i-case'></a>
<div class='synopsis'>
<span class='name'>case</span>
<span class='arguments'>(*args)</span>

</div>
<div class='description'>

<p>Return an <code>SQL::CaseExpression</code> created with the given
arguments.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">case</span>([[{<span class="ruby-value">a:</span> [<span class="ruby-value">2</span>,<span class="ruby-value">3</span>]}, <span class="ruby-value">1</span>]], <span class="ruby-value">0</span>) <span class="ruby-comment"># SQL: CASE WHEN a IN (2, 3) THEN 1 ELSE 0 END</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">case</span>({<span class="ruby-value">a:</span> <span class="ruby-value">1</span>}, <span class="ruby-value">0</span>, <span class="ruby-value">:b</span>) <span class="ruby-comment"># SQL: CASE b WHEN a THEN 1 ELSE 0 END</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-case-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-case-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 344</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">case</span>(<span class="ruby-operator">*</span><span class="ruby-identifier ruby-title">args</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">CaseExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-cast'>
<a name='method-i-cast'></a>
<div class='synopsis'>
<span class='name'>cast</span>
<span class='arguments'>(arg, sql_type)</span>

</div>
<div class='description'>

<p><a href="Cast.html">Cast</a> the reciever to the given <a
href="../SQL.html">SQL</a> type.  You can specify a ruby class as a type,
and it is handled similarly to using a database independent type in the
schema methods.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">cast</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:integer</span>) <span class="ruby-comment"># CAST(a AS integer)</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">cast</span>(<span class="ruby-value">:a</span>, <span class="ruby-constant">String</span>) <span class="ruby-comment"># CAST(a AS varchar(255))</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-cast-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-cast-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 353</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cast</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">sql_type</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Cast</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">sql_type</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-cast_numeric'>
<a name='method-i-cast_numeric'></a>
<div class='synopsis'>
<span class='name'>cast_numeric</span>
<span class='arguments'>(arg, sql_type = nil)</span>

</div>
<div class='description'>

<p><a href="Cast.html">Cast</a> the reciever to the given <a
href="../SQL.html">SQL</a> type (or the database&#39;s default Integer type
if none given), and return the result as a <code>NumericExpression</code>,
so you can use the bitwise operators on the result.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">cast_numeric</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># CAST(a AS integer)</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">cast_numeric</span>(<span class="ruby-value">:a</span>, <span class="ruby-constant">Float</span>) <span class="ruby-comment"># CAST(a AS double precision)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-cast_numeric-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-cast_numeric-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 363</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cast_numeric</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">sql_type</span> = <span class="ruby-keyword">nil</span>)&#x000A;  <span class="ruby-identifier">cast</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">sql_type</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Integer</span>).<span class="ruby-identifier">sql_number</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-cast_string'>
<a name='method-i-cast_string'></a>
<div class='synopsis'>
<span class='name'>cast_string</span>
<span class='arguments'>(arg, sql_type = nil)</span>

</div>
<div class='description'>

<p><a href="Cast.html">Cast</a> the reciever to the given <a
href="../SQL.html">SQL</a> type (or the database&#39;s default String type
if none given), and return the result as a <code>StringExpression</code>,
so you can use + directly on the result for <a href="../SQL.html">SQL</a>
string concatenation.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">cast_string</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># CAST(a AS varchar(255))</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">cast_string</span>(<span class="ruby-value">:a</span>, <span class="ruby-value">:text</span>) <span class="ruby-comment"># CAST(a AS text)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-cast_string-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-cast_string-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 373</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cast_string</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">sql_type</span> = <span class="ruby-keyword">nil</span>)&#x000A;  <span class="ruby-identifier">cast</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">sql_type</span> <span class="ruby-operator">||</span> <span class="ruby-constant">String</span>).<span class="ruby-identifier">sql_string</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-char_length'>
<a name='method-i-char_length'></a>
<div class='synopsis'>
<span class='name'>char_length</span>
<span class='arguments'>(arg)</span>

</div>
<div class='description'>

<p>Return an emulated function call for getting the number of characters in
the argument:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">char_length</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># char_length(a) -- Most databases</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">char_length</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># length(a) -- SQLite</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-char_length-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-char_length-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 382</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">char_length</span>(<span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Function</span>.<span class="ruby-identifier">new!</span>(<span class="ruby-value">:char_length</span>, [<span class="ruby-identifier">arg</span>], <span class="ruby-value">:emulate</span><span class="ruby-operator">=&gt;</span><span class="ruby-keyword">true</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-deep_qualify'>
<a name='method-i-deep_qualify'></a>
<div class='synopsis'>
<span class='name'>deep_qualify</span>
<span class='arguments'>(qualifier, expr)</span>

</div>
<div class='description'>

<p>Do a deep qualification of the argument using the qualifier.  This recurses
into nested structures.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">deep_qualify</span>(<span class="ruby-value">:table</span>, <span class="ruby-value">:column</span>) <span class="ruby-comment"># &quot;table&quot;.&quot;column&quot;</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">deep_qualify</span>(<span class="ruby-value">:table</span>, <span class="ruby-constant">Sequel</span>[<span class="ruby-value">:column</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span>) <span class="ruby-comment"># &quot;table&quot;.&quot;column&quot; + 1</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">deep_qualify</span>(<span class="ruby-value">:table</span>, <span class="ruby-constant">Sequel</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">like</span>(<span class="ruby-string">&#39;b&#39;</span>)) <span class="ruby-comment"># &quot;table&quot;.&quot;a&quot; LIKE &#39;b&#39; ESCAPE &#39;\&#39;</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-deep_qualify-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-deep_qualify-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 392</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">deep_qualify</span>(<span class="ruby-identifier">qualifier</span>, <span class="ruby-identifier">expr</span>)&#x000A;  <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Qualifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">qualifier</span>).<span class="ruby-identifier">transform</span>(<span class="ruby-identifier">expr</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-delay'>
<a name='method-i-delay'></a>
<div class='synopsis'>
<span class='name'>delay</span>
<span class='arguments'>(&block)</span>

</div>
<div class='description'>

<p>Return a delayed evaluation that uses the passed block. This is used to
delay evaluations of the code to runtime.  For example, with the following
code:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span> = <span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">where</span>{<span class="ruby-identifier">column</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>}</pre>

<p>The filter is fixed to the time that where was called. Unless you are only
using the dataset once immediately after creating it, that&#39;s probably
not desired.  If you just want to set it to the time when the query is sent
to the database, you can wrap it in Sequel.delay:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span> = <span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">where</span>{<span class="ruby-identifier">column</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">delay</span>{<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>}}</pre>

<p>Note that for dates and timestamps, you are probably better off using
Sequel::CURRENT_DATE and Sequel::CURRENT_TIMESTAMP instead of this generic
delayed evaluation facility.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-delay-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-delay-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 412</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delay</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;  <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;Sequel.delay requires a block&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">DelayedEvaluation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-desc'>
<a name='method-i-desc'></a>
<div class='synopsis'>
<span class='name'>desc</span>
<span class='arguments'>(arg, opts=OPTS)</span>

</div>
<div class='description'>

<p>Order the given argument descending. Options:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>:nulls </td><td>
<p>Set to :first to use NULLS FIRST (so NULL values are ordered before other
values), or :last to use NULLS LAST (so NULL values are ordered after other
values).</p>
</td></tr></tbody></table>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">desc</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># b DESC</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">desc</span>(<span class="ruby-value">:b</span>, <span class="ruby-value">nulls:</span> <span class="ruby-value">:first</span>) <span class="ruby-comment"># b DESC NULLS FIRST</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-desc-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-desc-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 426</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">desc</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-keyword">true</span>, <span class="ruby-identifier">opts</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-expr'>
<a name='method-i-expr'></a>
<div class='synopsis'>
<span class='name'>expr</span>
<span class='arguments'>(arg=(no_arg=true), &block)</span>

</div>
<div class='description'>

<p>Wraps the given object in an appropriate <a
href="../../Sequel.html">Sequel</a> wrapper. If the given object is already
a <a href="../../Sequel.html">Sequel</a> object, return it directly. For
condition specifiers (hashes and arrays of two pairs), true, and false,
return a boolean expressions.  For numeric objects, return a numeric
expression.  For strings, return a string expression.  For procs or when
the method is passed a block, evaluate it as a virtual row and wrap it
appropriately.  In all other cases, use a generic wrapper.</p>

<p>This method allows you to construct <a href="../SQL.html">SQL</a>
expressions that are difficult to construct via other methods.  For
example:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">expr</span>(<span class="ruby-value">1</span>) <span class="ruby-operator">-</span> <span class="ruby-value">:a</span> <span class="ruby-comment"># SQL: (1 - a)</span></pre>

<p>On the <a href="../../Sequel.html">Sequel</a> module, this is aliased as
[], for easier use:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">-</span> <span class="ruby-value">:a</span> <span class="ruby-comment"># SQL: (1 - a)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-expr-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-expr-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 446</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">expr</span>(<span class="ruby-identifier">arg</span>=(<span class="ruby-identifier">no_arg</span>=<span class="ruby-keyword">true</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_arg</span>&#x000A;      <span class="ruby-keyword">return</span> <span class="ruby-identifier">expr</span>(<span class="ruby-identifier">block</span>)&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&#39;cannot provide both an argument and a block to Sequel.expr&#39;</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">no_arg</span>&#x000A;    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&#39;must provide either an argument or a block to Sequel.expr&#39;</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-keyword">case</span> <span class="ruby-identifier">arg</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>&#x000A;    <span class="ruby-identifier">t</span>, <span class="ruby-identifier">c</span>, <span class="ruby-identifier">a</span> = <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">split_symbol</span>(<span class="ruby-identifier">arg</span>)&#x000A;&#x000A;    <span class="ruby-identifier">arg</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">t</span>&#x000A;      <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">QualifiedIdentifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">t</span>, <span class="ruby-identifier">c</span>)&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Identifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">c</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>&#x000A;      <span class="ruby-identifier">arg</span> = <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">AliasedExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">a</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;&#x000A;    <span class="ruby-identifier">arg</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Expression</span>, <span class="ruby-constant">LiteralString</span>, <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Blob</span>&#x000A;    <span class="ruby-identifier">arg</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">from_value_pairs</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-value">:AND</span>)&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition_specifier?</span>(<span class="ruby-identifier">arg</span>)&#x000A;      <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">from_value_pairs</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-value">:AND</span>)&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Wrapper</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">Numeric</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">NumericExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">StringExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">TrueClass</span>, <span class="ruby-constant">FalseClass</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-constant">Proc</span>&#x000A;    <span class="ruby-identifier">expr</span>(<span class="ruby-identifier">virtual_row</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">arg</span>))&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Wrapper</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-extract'>
<a name='method-i-extract'></a>
<div class='synopsis'>
<span class='name'>extract</span>
<span class='arguments'>(datetime_part, exp)</span>

</div>
<div class='description'>

<p>Extract a datetime_part (e.g. year, month) from the given expression:</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">extract</span>(<span class="ruby-value">:year</span>, <span class="ruby-value">:date</span>) <span class="ruby-comment"># extract(year FROM &quot;date&quot;)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-extract-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-extract-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 499</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extract</span>(<span class="ruby-identifier">datetime_part</span>, <span class="ruby-identifier">exp</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">NumericExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:extract</span>, <span class="ruby-identifier">datetime_part</span>, <span class="ruby-identifier">exp</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-function'>
<a name='method-i-function'></a>
<div class='synopsis'>
<span class='name'>function</span>
<span class='arguments'>(name, *args)</span>

</div>
<div class='description'>

<p>Returns a <code>Sequel::SQL::Function</code> with the function name and the
given arguments.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">function</span>(<span class="ruby-value">:now</span>) <span class="ruby-comment"># SQL: now()</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">function</span>(<span class="ruby-value">:substr</span>, <span class="ruby-value">:a</span>, <span class="ruby-value">1</span>) <span class="ruby-comment"># SQL: substr(a, 1)</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-function-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-function-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 508</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">function</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Function</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-identifier'>
<a name='method-i-identifier'></a>
<div class='synopsis'>
<span class='name'>identifier</span>
<span class='arguments'>(name)</span>

</div>
<div class='description'>

<p>Return the argument wrapped as an <code>SQL::Identifier</code>.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">identifier</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># &quot;a&quot;</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-identifier-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-identifier-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 515</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">identifier</span>(<span class="ruby-identifier">name</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Identifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-ilike'>
<a name='method-i-ilike'></a>
<div class='synopsis'>
<span class='name'>ilike</span>
<span class='arguments'>(*args)</span>

</div>
<div class='description'>

<p>Create a <code>BooleanExpression</code> case insensitive (if the database
supports it) pattern match of the receiver with the given patterns.  See
<code>SQL::StringExpression.like</code>.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">ilike</span>(<span class="ruby-value">:a</span>, <span class="ruby-string">&#39;A%&#39;</span>) <span class="ruby-comment"># &quot;a&quot; ILIKE &#39;A%&#39; ESCAPE &#39;\&#39;</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-ilike-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-ilike-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 552</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ilike</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">StringExpression</span>.<span class="ruby-identifier">like</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> {<span class="ruby-value">:case_insensitive</span><span class="ruby-operator">=&gt;</span><span class="ruby-keyword">true</span>}))&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-join'>
<a name='method-i-join'></a>
<div class='synopsis'>
<span class='name'>join</span>
<span class='arguments'>(args, joiner=nil)</span>

</div>
<div class='description'>

<p>Return a <code>Sequel::SQL::StringExpression</code> representing an <a
href="../SQL.html">SQL</a> string made up of the concatenation of the given
array&#39;s elements.  If an argument is passed, it is used in between each
element of the array in the <a href="../SQL.html">SQL</a> concatenation.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">join</span>([<span class="ruby-value">:a</span>]) <span class="ruby-comment"># SQL: a</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">join</span>([<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>]) <span class="ruby-comment"># SQL: a || b</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">join</span>([<span class="ruby-value">:a</span>, <span class="ruby-string">&#39;b&#39;</span>]) <span class="ruby-comment"># SQL: a || &#39;b&#39;</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">join</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-value">:b</span>], <span class="ruby-string">&#39; &#39;</span>) <span class="ruby-comment"># SQL: &#39;a&#39; || &#39; &#39; || b</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-join-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-join-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 528</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">join</span>(<span class="ruby-identifier">args</span>, <span class="ruby-identifier">joiner</span>=<span class="ruby-keyword">nil</span>)&#x000A;  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&#39;argument to Sequel.join must be an array&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">joiner</span>&#x000A;    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">zip</span>([<span class="ruby-identifier">joiner</span>]<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span>).<span class="ruby-identifier">flatten</span>&#x000A;    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-keyword">return</span> <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">StringExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-string">&#39;&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>&#x000A;&#x000A;  <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-keyword">case</span> <span class="ruby-identifier">a</span>&#x000A;    <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Expression</span>, <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">LiteralString</span>, <span class="ruby-constant">TrueClass</span>, <span class="ruby-constant">FalseClass</span>, <span class="ruby-constant">NilClass</span>&#x000A;      <span class="ruby-identifier">a</span>&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-identifier">a</span>.<span class="ruby-identifier">to_s</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">StringExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:&#39;||&#39;</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-like'>
<a name='method-i-like'></a>
<div class='synopsis'>
<span class='name'>like</span>
<span class='arguments'>(*args)</span>

</div>
<div class='description'>

<p>Create a <code>SQL::BooleanExpression</code> case sensitive (if the
database supports it) pattern match of the receiver with the given
patterns.  See <code>SQL::StringExpression.like</code>.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">like</span>(<span class="ruby-value">:a</span>, <span class="ruby-string">&#39;A%&#39;</span>) <span class="ruby-comment"># &quot;a&quot; LIKE &#39;A%&#39; ESCAPE &#39;\&#39;</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-like-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-like-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 560</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">like</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">StringExpression</span>.<span class="ruby-identifier">like</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-lit'>
<a name='method-i-lit'></a>
<div class='synopsis'>
<span class='name'>lit</span>
<span class='arguments'>(s, *args)</span>

</div>
<div class='description'>

<p>Converts a string into a <code>Sequel::LiteralString</code>, in order to
override string literalization, e.g.:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">where</span>(<span class="ruby-value">abc:</span> <span class="ruby-string">&#39;def&#39;</span>).<span class="ruby-identifier">sql</span> <span class="ruby-comment">#=&gt;</span>&#x000A;  <span class="ruby-string">&quot;SELECT * FROM items WHERE (abc = &#39;def&#39;)&quot;</span>&#x000A;&#x000A;<span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">where</span>(<span class="ruby-value">abc:</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">lit</span>(<span class="ruby-string">&#39;def&#39;</span>)).<span class="ruby-identifier">sql</span> <span class="ruby-comment">#=&gt;</span>&#x000A;  <span class="ruby-string">&quot;SELECT * FROM items WHERE (abc = def)&quot;</span></pre>

<p>You can also provide arguments, to create a
<code>Sequel::SQL::PlaceholderLiteralString</code>:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:items</span>].<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">count</span>(<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">lit</span>(<span class="ruby-string">&#39;DISTINCT ?&#39;</span>, <span class="ruby-value">:a</span>))}.<span class="ruby-identifier">sql</span> <span class="ruby-comment">#=&gt;</span>&#x000A;  <span class="ruby-string">&quot;SELECT count(DISTINCT a) FROM items&quot;</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-lit-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-lit-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 577</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lit</span>(<span class="ruby-identifier">s</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">LiteralString</span>)&#x000A;      <span class="ruby-identifier">s</span>&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-constant">LiteralString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">PlaceholderLiteralString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-identifier">args</span>) &#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-negate'>
<a name='method-i-negate'></a>
<div class='synopsis'>
<span class='name'>negate</span>
<span class='arguments'>(arg)</span>

</div>
<div class='description'>

<p>Return a <code>Sequel::SQL::BooleanExpression</code> created from the
condition specifier, matching none of the conditions.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">negate</span>(<span class="ruby-value">a:</span> <span class="ruby-keyword">true</span>) <span class="ruby-comment"># SQL: a IS NOT TRUE</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">negate</span>([[<span class="ruby-value">:a</span>, <span class="ruby-keyword">true</span>]]) <span class="ruby-comment"># SQL: a IS NOT TRUE</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">negate</span>([[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, <span class="ruby-value">2</span>]]) <span class="ruby-comment"># SQL: ((a != 1) AND (b != 2))</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-negate-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-negate-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 595</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">negate</span>(<span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition_specifier?</span>(<span class="ruby-identifier">arg</span>)&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">from_value_pairs</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-value">:AND</span>, <span class="ruby-keyword">true</span>)&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&#39;must pass a conditions specifier to Sequel.negate&#39;</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-or'>
<a name='method-i-or'></a>
<div class='synopsis'>
<span class='name'>or</span>
<span class='arguments'>(arg)</span>

</div>
<div class='description'>

<p>Return a <code>Sequel::SQL::BooleanExpression</code> created from the
condition specifier, matching any of the conditions.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">or</span>(<span class="ruby-value">a:</span> <span class="ruby-keyword">true</span>) <span class="ruby-comment"># SQL: a IS TRUE</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">or</span>([[<span class="ruby-value">:a</span>, <span class="ruby-keyword">true</span>]]) <span class="ruby-comment"># SQL: a IS TRUE</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">or</span>([[<span class="ruby-value">:a</span>, <span class="ruby-value">1</span>], [<span class="ruby-value">:b</span>, <span class="ruby-value">2</span>]]) <span class="ruby-comment"># SQL: ((a = 1) OR (b = 2))</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-or-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-or-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 609</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">or</span>(<span class="ruby-identifier ruby-title">arg</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition_specifier?</span>(<span class="ruby-identifier">arg</span>)&#x000A;    <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">from_value_pairs</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-value">:OR</span>, <span class="ruby-keyword">false</span>)&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&#39;must pass a conditions specifier to Sequel.or&#39;</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-qualify'>
<a name='method-i-qualify'></a>
<div class='synopsis'>
<span class='name'>qualify</span>
<span class='arguments'>(qualifier, identifier)</span>

</div>
<div class='description'>

<p>Create a qualified identifier with the given qualifier and identifier</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">qualify</span>(<span class="ruby-value">:table</span>, <span class="ruby-value">:column</span>) <span class="ruby-comment"># &quot;table&quot;.&quot;column&quot;</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">qualify</span>(<span class="ruby-value">:schema</span>, <span class="ruby-value">:table</span>) <span class="ruby-comment"># &quot;schema&quot;.&quot;table&quot;</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">qualify</span>(<span class="ruby-value">:table</span>, <span class="ruby-value">:column</span>).<span class="ruby-identifier">qualify</span>(<span class="ruby-value">:schema</span>) <span class="ruby-comment"># &quot;schema&quot;.&quot;table&quot;.&quot;column&quot;</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-qualify-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-qualify-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 622</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">qualify</span>(<span class="ruby-identifier">qualifier</span>, <span class="ruby-identifier">identifier</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">QualifiedIdentifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">qualifier</span>, <span class="ruby-identifier">identifier</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-subscript'>
<a name='method-i-subscript'></a>
<div class='synopsis'>
<span class='name'>subscript</span>
<span class='arguments'>(exp, *subs)</span>

</div>
<div class='description'>

<p>Return an <code>SQL::Subscript</code> with the given arguments,
representing an <a href="../SQL.html">SQL</a> array access.</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">subscript</span>(<span class="ruby-value">:array</span>, <span class="ruby-value">1</span>) <span class="ruby-comment"># array[1]</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">subscript</span>(<span class="ruby-value">:array</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>) <span class="ruby-comment"># array[1, 2]</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">subscript</span>(<span class="ruby-value">:array</span>, [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>]) <span class="ruby-comment"># array[1, 2]</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">subscript</span>(<span class="ruby-value">:array</span>, <span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>) <span class="ruby-comment"># array[1:2]</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">subscript</span>(<span class="ruby-value">:array</span>, <span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-value">3</span>) <span class="ruby-comment"># array[1:2]</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-subscript-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-subscript-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 634</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">subscript</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">subs</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Subscript</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">exp</span>, <span class="ruby-identifier">subs</span>.<span class="ruby-identifier">flatten</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-trim'>
<a name='method-i-trim'></a>
<div class='synopsis'>
<span class='name'>trim</span>
<span class='arguments'>(arg)</span>

</div>
<div class='description'>

<p>Return an emulated function call for trimming a string of spaces from both
sides (similar to ruby&#39;s String#strip).</p>

<pre class="ruby"><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">trim</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># trim(a) -- Most databases</span>&#x000A;<span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">trim</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># ltrim(rtrim(a)) -- Microsoft SQL Server</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-trim-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-trim-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 643</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">trim</span>(<span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Function</span>.<span class="ruby-identifier">new!</span>(<span class="ruby-value">:trim</span>, [<span class="ruby-identifier">arg</span>], <span class="ruby-value">:emulate</span><span class="ruby-operator">=&gt;</span><span class="ruby-keyword">true</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-value_list'>
<a name='method-i-value_list'></a>
<div class='synopsis'>
<span class='name'>value_list</span>
<span class='arguments'>(arg)</span>

</div>
<div class='description'>

<p>Return a <code>SQL::ValueList</code> created from the given array.  Used if
the array contains all two element arrays and you want it treated as an <a
href="../SQL.html">SQL</a> value list (IN predicate)  instead of as a
conditions specifier (similar to a hash).  This is not necessary if you are
using this array as a value in a filter, but may be necessary if you are
using it as a value with placeholder SQL:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">where</span>([<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>]<span class="ruby-operator">=&gt;</span>[[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>]]) <span class="ruby-comment"># SQL: (a, b) IN ((1, 2), (3, 4))</span>&#x000A;<span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">where</span>(<span class="ruby-string">&#39;(a, b) IN ?&#39;</span>, [[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>]]) <span class="ruby-comment"># SQL: (a, b) IN ((1 = 2) AND (3 = 4))</span>&#x000A;<span class="ruby-constant">DB</span>[<span class="ruby-value">:a</span>].<span class="ruby-identifier">where</span>(<span class="ruby-string">&#39;(a, b) IN ?&#39;</span>, <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">value_list</span>([[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>]])) <span class="ruby-comment"># SQL: (a, b) IN ((1, 2), (3, 4))</span></pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-value_list-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-value_list-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 656</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">value_list</span>(<span class="ruby-identifier">arg</span>)&#x000A;  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&#39;argument to Sequel.value_list must be an array&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">ValueList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
