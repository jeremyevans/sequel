<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::SQL::Expression</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      function popupCode(url) {
        window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
      }
      
      function toggleCode(id) {
        var code = document.getElementById(id)
      
        code.style.display = code.style.display != 'block' ? 'block' : 'none'
        return true
      }
      
      // Make codeblocks hidden by default
      document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>class</span>
          Sequel::SQL::Expression
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../../files/lib/sequel/sql_rb.html">lib/sequel/sql.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Superclass:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>Base class for all <a href="../SQL.html">SQL</a> expression objects.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a href="#method-c-attr_reader">attr_reader</a></li>
              <li><a href="#attribute-c-comparison_attrs">comparison_attrs</a></li>
              <li><a href="#method-c-inherited">inherited</a></li>
            </ol>
            <h3>Public Instance</h3>
            <ol>
              <li><a href="#method-i-3D-3D">==</a></li>
              <li><a href="#method-i-eql-3F">eql?</a></li>
              <li><a href="#method-i-hash">hash</a></li>
              <li><a href="#method-i-inspect">inspect</a></li>
              <li><a href="#method-i-lit">lit</a></li>
              <li><a href="#method-i-sql_literal">sql_literal</a></li>
            </ol>
          </div>
          <div id='context'>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-c-comparison_attrs'>comparison_attrs</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      <p>All attributes used for equality and hash methods.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-attr_reader'>
                <a name='method-c-attr_reader'></a>
                <div class='synopsis'>
                  <span class='name'>attr_reader</span>
                  <span class='arguments'>(*args)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="Expression.html">Expression</a> objects are assumed to be value
                  objects, where their attribute values can&#39;t change after assignment. 
                  In order to make it easy to define equality and hash methods, subclass
                  instances assume that the only values that affect the results of such
                  methods are the values of the object&#39;s attributes.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-attr_reader-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-attr_reader-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 104</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">attr_reader</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-method-c-inherited'>
                <a name='method-c-inherited'></a>
                <div class='synopsis'>
                  <span class='name'>inherited</span>
                  <span class='arguments'>(subclass)</span>
                </div>
                <div class='description'>
                  
                  <p>Copy the <a
                  href="Expression.html#attribute-c-comparison_attrs">::comparison_attrs</a>
                  into the subclass.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-inherited-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-inherited-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 110</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">inherited</span>(<span class="ruby-identifier">subclass</span>)&#x000A;  <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@comparison_attrs</span>, <span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">dup</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-3D-3D'>
                <a name='method-i-3D-3D'></a>
                <div class='synopsis'>
                  <span class='name'>==</span>
                  <span class='arguments'>(other)</span>
                </div>
                <div class='description'>
                  
                  <p>Alias of <code>eql?</code></p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-3D-3D-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-3D-3D-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 129</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)&#x000A;  <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">other</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-eql-3F'>
                <a name='method-i-eql-3F'></a>
                <div class='synopsis'>
                  <span class='name'>eql?</span>
                  <span class='arguments'>(other)</span>
                </div>
                <div class='description'>
                  
                  <p>Returns true if the receiver is the same expression as the the
                  <code>other</code> expression.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-eql-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-eql-3F-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 135</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">other</span>)&#x000A;  <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">find</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">a</span>) <span class="ruby-operator">!=</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">a</span>)}&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-hash'>
                <a name='method-i-hash'></a>
                <div class='synopsis'>
                  <span class='name'>hash</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Make sure that the hash value is the same if the attributes are the same.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-hash-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-hash-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 140</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">hash</span>&#x000A;  ([<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>] <span class="ruby-operator">+</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">x</span>)}).<span class="ruby-identifier">hash</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-inspect'>
                <a name='method-i-inspect'></a>
                <div class='synopsis'>
                  <span class='name'>inspect</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Show the class name and instance variables for the object, necessary for
                  correct operation on ruby 1.9.2.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-inspect-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-inspect-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 146</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>&#x000A;  <span class="ruby-node">&quot;#&lt;#{self.class} #{instance_variables.map{|iv| &quot;#{iv}=&gt;#{instance_variable_get(iv).inspect}&quot;}.join(&#39;, &#39;)}&gt;&quot;</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-lit'>
                <a name='method-i-lit'></a>
                <div class='synopsis'>
                  <span class='name'>lit</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Returns <code>self</code>, because <code>SQL::Expression</code> already
                  acts like <code>LiteralString</code>.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-lit-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-lit-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 151</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">lit</span>&#x000A;  <span class="ruby-keyword">self</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-sql_literal'>
                <a name='method-i-sql_literal'></a>
                <div class='synopsis'>
                  <span class='name'>sql_literal</span>
                  <span class='arguments'>(ds)</span>
                </div>
                <div class='description'>
                  
                  <p>Alias of <code>to_s</code></p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-sql_literal-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-sql_literal-source'><span class="ruby-comment"># File lib/sequel/sql.rb, line 156</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">sql_literal</span>(<span class="ruby-identifier">ds</span>)&#x000A;  <span class="ruby-identifier">s</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-identifier">to_s_append</span>(<span class="ruby-identifier">ds</span>, <span class="ruby-identifier">s</span>)&#x000A;  <span class="ruby-identifier">s</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
    </div>
  </body>
</html>
