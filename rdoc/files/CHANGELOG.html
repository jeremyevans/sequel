<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>CHANGELOG</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='file' id='wrapper'>
<div class='header'>
<h1 class='name'>CHANGELOG
</h1>
<div class='paths'>
CHANGELOG
</div>
<div class='last-update'>
Last Update:
<span class='datetime'>2018-08-01 08:13:54 -0700</span>
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<h3 id="label-5.11.0+-282018-08-01-29">5.11.0 (2018-08-01)<span><a href="#label-5.11.0+-282018-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Fix using the jdbc/sqlserver adapter on JRuby 9.2+ (jeremyevans)</p>
</li><li>
<p>Fix dumping schema for numeric/decimal columns with default values, broken
starting in 5.9.0 (jeremyevans)</p>
</li><li>
<p>Recognize additional check constraint violations on certain versions of
SQLite (jeremyevans)</p>
</li><li>
<p>Use cached model instances for Model.first calls without an argument or
with a single integer argument in the static_cache plugin (AlexWayfer)
(#1529)</p>
</li><li>
<p>Support ON CONFLICT clause for INSERT on SQLite 3.24+ (jeremyevans)</p>
</li><li>
<p>Support Dataset#window for WINDOW clause on MySQL 8 and SQLAnywhere
(jeremyevans)</p>
</li><li>
<p>Enable window function support on SQLAnywhere (jeremyevans)</p>
</li><li>
<p>Support using a hash as a window function :frame option value, with support
for ROWS/RANGE/GROUPS, numeric offsets, and EXCLUDE (jeremyevans)</p>
</li><li>
<p>Allow using set_column_default with a nil value to remove the default value
for a column on MySQL when the column is NOT NULL (jeremyevans)</p>
</li></ul>

<h3 id="label-5.10.0+-282018-07-01-29">5.10.0 (2018-07-01)<span><a href="#label-5.10.0+-282018-07-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Use input type casts when using the postgres adapter with pg 0.18+ to
reduce string allocations for some primitive types used as prepared
statement arguments (jeremyevans)</p>
</li><li>
<p>Assume local time if database timezone not specified when handling BC
timestamps on JRuby 9.2.0.0 in the pg_extended_date_support extension
(jeremyevans)</p>
</li><li>
<p>Fix parsing of timetz types in the jdbc/postgresql adapter (jeremyevans)</p>
</li><li>
<p>Make SQLTime.parse respect SQLTime.date and Sequel.application_timezone
(jeremyevans)</p>
</li><li>
<p>Add :top as an option in the list plugin (celsworth) (#1526)</p>
</li><li>
<p>Fix Model#{ancestors,descendants,self_and_siblings} in the tree plugin when
custom parent/children association names are used (jeremyevans) (#1525)</p>
</li><li>
<p>Treat read-only mode error as disconnect error on mysql and mysql2
adapters, for better behavior on AWS Aurora cluster (jeremyevans)</p>
</li><li>
<p>Don&#39;t use cached placeholder literalizers for in
Dataset#{first,where_all,where_each,where_single_value} if argument is
empty array or hash (jeremyevans)</p>
</li><li>
<p>Support :tablespace option when adding tables, indexes, and materialized
views on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Support :include option for indexes on PostgreSQL 11+ (jeremyevans)</p>
</li><li>
<p>Allow the use of IN/NOT IN operators with set returning functions for <a
href="../classes/Sequel/Model.html">Sequel::Model</a> datasets
(jeremyevans)</p>
</li><li>
<p>Make many_to_pg_array associations in the pg_array_associations plugin work
on PostgreSQL 11 (jeremyevans)</p>
</li><li>
<p>Only load strscan library in pg_array extension if it is needed
(jeremyevans)</p>
</li><li>
<p>Don&#39;t remove related many_to_one associations from cache when setting
column value to existing value for model instances that have not been
persisted (jeremyevans) (#1521)</p>
</li><li>
<p>Support ruby 2.6+ endless ranges in the pg_range extension (jeremyevans)</p>
</li><li>
<p>Support ruby 2.6+ endless ranges in filters, using just a &gt;= operator
for them (jeremyevans)</p>
</li></ul>

<h3 id="label-5.9.0+-282018-06-01-29">5.9.0 (2018-06-01)<span><a href="#label-5.9.0+-282018-06-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support generated columns on MySQL 5.7+ and MariaDB 5.2+ (wjordan,
jeremyevans) (#1517)</p>
</li><li>
<p>Add escaped_like extension for creation of LIKE expressions with
placeholders in the pattern without access to a dataset (jeremyevans)</p>
</li><li>
<p>Modify jdbc adapter exception handling to work around ::NativeException
deprecation in JRuby 9.2 (jeremyevans)</p>
</li><li>
<p>Work around broken BC date handling in JRuby 9.2.0.0 (jeremyevans)</p>
</li><li>
<p>Switch use of BigDecimal.new() to BigDecimal(), since the former is
deprecated (jeremyevans)</p>
</li><li>
<p>Add Sequel::VERSION_NUMBER for easier version comparisons (jeremyevans)</p>
</li><li>
<p>Add Model.has_dataset? to determine if the model class has a dataset
(AlexWayfer) (#1508)</p>
</li><li>
<p>Support use of LIKE with ANY function on PostgreSQL by avoiding unnecessary
use of ESCAPE syntax (jeremyevans)</p>
</li><li>
<p>Disconnect connections left allocated by dead threads instead of returning
the connections to the pool (jeremyevans)</p>
</li><li>
<p>Make both threaded connection pools avoid disconnecting connections while
holding the connection pool mutex (jeremyevans)</p>
</li><li>
<p>Don&#39;t deadlock when disconnecting connections in the sharded_threaded
connection pool when using connection_validator or connection_expiration
extensions (jeremyevans)</p>
</li><li>
<p>Don&#39;t modify hash argument passed in Model.nested_attributes in the
nested_attributes plugin (jeremyevans)</p>
</li><li>
<p>Avoid unnecessary hash creation in many places (jeremyevans)</p>
</li><li>
<p>Fix duplicate objects in nested associations when eager_graphing cascaded
many_to_one=&gt;one_to_many associations (jeremyevans)</p>
</li></ul>

<h3 id="label-5.8.0+-282018-05-01-29">5.8.0 (2018-05-01)<span><a href="#label-5.8.0+-282018-05-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Don&#39;t mark SQLAnywhere as supporting WITH in INSERT statement
(jeremyevans)</p>
</li><li>
<p>Support :search_path as a shard option on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Add Dataset#nowait for raising a Sequel::DatabaseLockTimeout when a locked
row is encountered, supported on PostgreSQL, MySQL 8+, MSSQL, and Oracle
(jeremyevans)</p>
</li><li>
<p>Support Dataset#skip_locked on MySQL 8+ (jeremyevans)</p>
</li><li>
<p>Make schema modification methods in the pg_enum extension work on a frozen
Database object (jeremyevans)</p>
</li><li>
<p>Support common table expressions and window functions on MySQL 8+
(jeremyevans)</p>
</li><li>
<p>Ignore Dataset#explain :extended option on MySQL 5.7+, since extended
output is then the MySQL default (jeremyevans)</p>
</li><li>
<p>Work around REGEXP BINARY not working correctly on MySQL 8+ by using
REGEXP_LIKE with the &#39;c&#39; match_type (jeremyevans)</p>
</li><li>
<p>Force correct column order in Database#foreign_key_list on MySQL
(jeremyevans)</p>
</li><li>
<p>Add ConnectionPool#connection_expiration_random_delay to
connection_expiration extension, to avoid thundering herd if preallocating
connections (hex2a, jeremyevans) (#1503)</p>
</li><li>
<p>Emit deprecation warning in association_proxies plugin if using filter on
an association proxy, since behavior will change on ruby 2.6+ (utilum)
(#1497)</p>
</li><li>
<p>Handle multiple add_constraint calls and a set_column_null call in the same
alter_table block on SQLite (jeremyevans) (#1498)</p>
</li><li>
<p>Add Database#rename_enum to the pg_enum extension (AlexWayfer) (#1495)</p>
</li><li>
<p>Make tactical_eager_loading plugin respect the :allow_eager association
option (jeremyevans) (#1494)</p>
</li><li>
<p>Add pg_auto_constraint_validations plugin, for automatically converting
constraint violations to validation failures on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Don&#39;t make Model#_valid? public in the error_splitter plugin
(jeremyevans)</p>
</li><li>
<p>Support Database#indexes :include_partial option on PostgreSQL for
including partial indexes (jeremyevans)</p>
</li><li>
<p>Include more diagnostic information in Database#error_info on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>Support Database#foreign_key_list :reverse option on PostgreSQL for parsing
foreign key constraints that reference a given table (jeremyevans)</p>
</li><li>
<p>Add Database#check_constraints on PostgreSQL for parsing CHECK constraints
(jeremyevans)</p>
</li><li>
<p>Don&#39;t use identity columns if :serial=&gt;true or
:type=&gt;:serial|:bigserial column options are used (#1490) (jeremyevans)</p>
</li><li>
<p>Cache Dataset#select_all datasets if no arguments are given (jeremyevans)</p>
</li><li>
<p>Cache Dataset#returning datasets if no arguments are given (jeremyevans)</p>
</li><li>
<p>Cache Dataset#qualify datasets if no argument is given (jeremyevans)</p>
</li><li>
<p>Cache Dataset#lateral datasets (jeremyevans)</p>
</li><li>
<p>Cache Dataset#from_self datasets if no options are given (jeremyevans)</p>
</li><li>
<p>Cache Dataset#distinct datasets if no arguments or block is given
(jeremyevans)</p>
</li></ul>

<h3 id="label-5.7.0+-282018-04-01-29">5.7.0 (2018-04-01)<span><a href="#label-5.7.0+-282018-04-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add <a
href="../classes/Sequel.html#method-c-start_timer">Sequel.start_timer</a>
and .elapsed_seconds_since for more accurate elapsed time calculations on
ruby 2.1+ (jeremyevans)</p>
</li><li>
<p>Run Dataset#with_sql_{all,each,first,single_value} using a cached dataset
to avoid clobbering the dataset&#39;s columns (jeremyevans)</p>
</li><li>
<p>Add Database#convert_serial_to_identity on PostgreSQL 10.2+, which requires
superuser access (jeremyevans)</p>
</li><li>
<p>Fix Database#server_version when connecting to PostgreSQL 10.1+ in certain
cases (jeremyevans)</p>
</li><li>
<p>Free temporary clobs in the jdbc/oracle adapter to prevent a memory leak
(jeremyevans) (#1482)</p>
</li><li>
<p>Treat prepared statement errors due to changing types as disconnect errors
in the postgres adapter (jeremyevans) (#1481)</p>
</li><li>
<p>Add integer64 extension for treating Integer as a 64-bit integer when used
as a generic type (jeremyevans)</p>
</li><li>
<p>Allow many_to_pg_array remove_all_* method cast appropriately to work
correctly for non-integer types (jeremyevans)</p>
</li><li>
<p>Fix array_type for pg_array_to_many and many_to_pg_array associations in
pg_array_associations plugin (jeremyevans)</p>
</li><li>
<p>Use identity columns instead of serial columns for primary keys on
PostgreSQL 10.2+ (jeremyevans)</p>
</li><li>
<p>Support :identity option when creating columns on PostgreSQL 10+ to create
identity columns (jeremyevans)</p>
</li><li>
<p>Add Dataset#overriding_{system,user}_value on PostgreSQL for use with
PostgreSQL 10+ identity columns (jeremyevans)</p>
</li><li>
<p>Set :auto_increment schema entry correctly for PostgreSQL 10+ identity
columns (jeremyevans)</p>
</li></ul>

<h3 id="label-5.6.0+-282018-03-01-29">5.6.0 (2018-03-01)<span><a href="#label-5.6.0+-282018-03-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Dedup :db_type strings in schema hashes on Ruby 2.5+ (jeremyevans)</p>
</li><li>
<p>Make schema_caching extension work with :callable_default schema values
(jeremyevans)</p>
</li><li>
<p>Freeze string valuse in hashes returned by Database#schema when using the
schema_caching extension (jeremyevans)</p>
</li><li>
<p>Protect migration file loading with a mutex to not break when multiple
threads load migration files simultaneously (jeremyevans)</p>
</li><li>
<p>Respect identifier mangling rules when renaming columns on Microsoft SQL
Server (jeremyevans)</p>
</li></ul>

<h3 id="label-5.5.0+-282018-01-31-29">5.5.0 (2018-01-31)<span><a href="#label-5.5.0+-282018-01-31-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make Database#copy_table in the postgres adapter handle errors that occur
while processing rows (jeremyevans) (#1470)</p>
</li><li>
<p>Cache results of changed_columns method in local variables in many places
for better performance (jeremyevans)</p>
</li><li>
<p>Make modification_detection plugin not break column change detection for
new objects (jeremyevans) (#1468)</p>
</li><li>
<p>Make pg_range extension set :ruby_default schema value for recognized range
defaults (jeremyevans)</p>
</li><li>
<p>Make pg_interval extension set :ruby_default schema value for recognized
interval defaults (jeremyevans)</p>
</li><li>
<p>Make pg_json extension set :callable_default schema value for empty
json/jsonb array/hash defaults (jeremyevans)</p>
</li><li>
<p>Make pg_inet extension set :ruby_default schema value for recognized
inet/cidr defaults (jeremyevans)</p>
</li><li>
<p>Make pg_hstore extension set :callable_default schema value for empty
hstore defaults (jeremyevans)</p>
</li><li>
<p>Make pg_array extension set :callable_default schema value for recognized
empty array defaults (jeremyevans) (#1466)</p>
</li><li>
<p>Make defaults_setter plugin prefer :callable_default db_schema values over
:ruby_default db_schema values (jeremyevans)</p>
</li><li>
<p>Add defaults_setter plugin :cache option for caching default values
returned (jeremyevans)</p>
</li><li>
<p>Freeze string values in hashes returned by Database#schema (jeremyevans)</p>
</li></ul>

<h3 id="label-5.4.0+-282018-01-04-29">5.4.0 (2018-01-04)<span><a href="#label-5.4.0+-282018-01-04-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Enable fractional seconds in timestamps on DB2 (jeremyevans) (#1463)</p>
</li><li>
<p>Don&#39;t attempt to insert a second time if insert_select runs a query
that doesn&#39;t return results, which can happen when triggers are used
(jeremyevans)</p>
</li><li>
<p>Make Dataset#insert_select on PostgreSQL and MSSQL return false instead of
nil if the INSERT query is sent to the database but returns no rows
(jeremyevans)</p>
</li><li>
<p>Add index_caching extension for caching calls to Database#indexes
(kenaniah, jeremyevans) (#1461)</p>
</li><li>
<p>Allow Database#indexes on SQLite, MSSQL, SQLAnywhere, and DB2 to handle
SQL::Identifier values (jeremyevans)</p>
</li><li>
<p>Add pg_timestamptz extension for using timestamptz (timestamp with time
zone) as the default timestamp type (jeremyevans)</p>
</li><li>
<p>Support Sequel.date_{add,sub} :cast option for setting cast type in
date_arithmetic extension (jeremyevans)</p>
</li><li>
<p>Optimize Database#synchronize implementation on ruby 2.5+ (jeremyevans)</p>
</li><li>
<p>Add class_table_inheritance plugin :ignore_subclass_columns option
(brianphillips) (#1459)</p>
</li><li>
<p>Make Dataset#to_xml in xml_serializer work with eager_graphed datasets
(jeremyevans)</p>
</li><li>
<p>Make Dataset#to_json in json_serializer work with eager_graphed datasets
(jeremyevans)</p>
</li><li>
<p>Cache Dataset#nullify dataset in the null_dataset extension (chanks)
(#1456)</p>
</li><li>
<p>Add datetime_parse_to_time extension, for parsing timestamp strings without
offsets using DateTime.parse.to_time (jeremyevans) (#1455)</p>
</li><li>
<p>Add WHERE NULL filter for Dataset#where calls with no existing filter, no
argument, and where the virtual row block returns nil (jeremyevans)</p>
</li></ul>

<h3 id="label-5.3.0+-282017-12-01-29">5.3.0 (2017-12-01)<span><a href="#label-5.3.0+-282017-12-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add logger to Database instance before making first connection in
bin/sequel (jeremyevans)</p>
</li><li>
<p>Drop support for PostgreSQL &lt;8.1 in Database#indexes (jeremyevans)</p>
</li><li>
<p>Add synchronize_sql extension, for checking out a connection around SQL
generation (KJTsanaktsidis, jeremyevans) (#1451)</p>
</li><li>
<p>Deprecate Dataset#where calls with no existing filter, no argument, and
where the virtual row block returns nil (jeremyevans) (#1454)</p>
</li><li>
<p>Add DatasetModule#reverse for simpler use of descending orders
(jeremyevans)</p>
</li><li>
<p>Support WITH clauses in subqueries on SQLite, but not in
UNION/INTERSECT/EXCEPT (jeremyevans)</p>
</li><li>
<p>Hoist WITH clauses to INSERT statement level if INSERT subquery uses a CTE
on MSSQL (jeremyevans)</p>
</li><li>
<p>Respect indislive and ignore indcheckxmin index attributes when using
Database#indexes on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Explicitly disallow use of server-side prepared statements when using
Dataset#call in the jdbc/postgresql adapter (jeremyevans) (#1448)</p>
</li><li>
<p>Support common table expressions, window functions, dropping CHECK
constraints, and recognizing CURRENT_DATE defaults on MariaDB 10.2+
(jeremyevans)</p>
</li><li>
<p>Make Database#reset_primary_key_sequence work on PostgreSQL 10+
(jeremyevans)</p>
</li><li>
<p>Support :connect_sqls Database option for easily issuing sql commands on
all new connections (jeremyevans)</p>
</li><li>
<p>Support :extensions Database option for loading extensions when
initializing, useful in connection strings (jeremyevans)</p>
</li><li>
<p>Avoid warning if trying to rollback after a commit or rollback raises an
exception in the postgres adapter (jeremyevans)</p>
</li><li>
<p>Support Date::Infinity values in the pg_extended_date_support extension
(jeremyevans)</p>
</li></ul>

<h3 id="label-5.2.0+-282017-10-27-29">5.2.0 (2017-10-27)<span><a href="#label-5.2.0+-282017-10-27-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Fix type conversion for smallint unsigned and integer unsigned types on
jdbc/mysql (jeremyevans) (#1443)</p>
</li><li>
<p>Add pg_extended_date_support extension, for handling infinite and BC
dates/timestamps (jeremyevans)</p>
</li><li>
<p>Do not ignore existing @dataset instance variable when subclassing <a
href="../classes/Sequel/Model.html">Sequel::Model</a> (bjmllr) (#1435)</p>
</li></ul>

<h3 id="label-5.1.0+-282017-10-01-29">5.1.0 (2017-10-01)<span><a href="#label-5.1.0+-282017-10-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make jdbc/h2 and jdbc/hsqldb adapters respect :foreign_key_constraint_name
option when adding new foreign key column (jeremyevans)</p>
</li><li>
<p>Do not issue unnecessary query for macaddr type oid when loading the
pg_inet extension (jeltz) (#1423)</p>
</li><li>
<p>Make alter_table add_foreign_key with a column symbol reversible when using
the :foreign_key_constraint_name option (jeremyevans) (#1422)</p>
</li><li>
<p>Do not raise an error if calling Model.freeze on a frozen model
(jeremyevans) (#1421)</p>
</li><li>
<p>Make Database#copy_into in the jdbc/postgresql adapter handle multi-byte
strings (ckoenig) (#1416)</p>
</li><li>
<p>Remove deprecated Model use_after_commit_rollback class and instance
methods (jeremyevans)</p>
</li><li>
<p>Remove deprecated Model.allowed_columns method in the base model support
(jeremyevans)</p>
</li><li>
<p>Remove deprecated Model.plugin_module_defined? private method (jeremyevans)</p>
</li><li>
<p>Remove deprecated support for Model#_before_validation private method
(jeremyevans)</p>
</li></ul>

<h3 id="label-5.0.0+-282017-09-01-29">5.0.0 (2017-09-01)<span><a href="#label-5.0.0+-282017-09-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make bin/sequel -M option always use base 10 (jeremyevans)</p>
</li><li>
<p>Don&#39;t use savepoints when creating indexes inside a transaction on
databases that don&#39;t support transactional schema modifications
(jeremyevans) (#1407)</p>
</li><li>
<p>Support :if_not_exists option when creating indexes on PostgreSQL 9.5+
(DyegoCosta) (#1405)</p>
</li><li>
<p>Make threaded connection pools not block while connections are being made
(jeremyevans)</p>
</li><li>
<p>SQL::Expression#clone and dup now return self, since all expressions should
be frozen value objects (jeremyevans)</p>
</li><li>
<p>Don&#39;t create empty arrays for unused association callbacks
(jeremyevans)</p>
</li><li>
<p>Cache association method name symbols instead of recomputing them everytime
(jeremyevans)</p>
</li><li>
<p>Raise an exception if attempting to create a prepared statement using a
dataset with a delayed evaluation (jeremyevans)</p>
</li><li>
<p>Make ConnectionPool#size thread safe by using the pool mutex (jeremyevans)</p>
</li><li>
<p>Use instance_exec instead of instance_eval when passing a block, to work
with lambdas that accept no arguments (jeremyevans)</p>
</li><li>
<p>Freeze SQL::StringAgg instances in string_agg extension (jeremyevans)</p>
</li><li>
<p>Freeze SQL::DateAdd instances in date_arithmetic extension (jeremyevans)</p>
</li><li>
<p>Freeze SQL::Expression.comparison_attrs (jeremyevans)</p>
</li><li>
<p>Rename SQL::Subscript#f to expression, keeping f as an alias (jeremyevans)</p>
</li><li>
<p>Require the :pool_class Database option be a class to use a custom
connection pool (jeremyevans)</p>
</li><li>
<p>Make the class_table_inheritance plugin raise an Error during update if any
UPDATE query does not affect a single row (jeremyevans)</p>
</li><li>
<p>Change most send calls to public_send unless calling private methods is
expected (jeremyevans)</p>
</li><li>
<p>Database schema and schema generator methods now return nil (jeremyevans)</p>
</li><li>
<p>Model#validates_unique in the validation helpers plugin now defaults to
only checking on new or modified values (jeremyevans)</p>
</li><li>
<p>Deprecate Model#_before_validation (private_method), use
Model#before_validation now (jeremyevans)</p>
</li><li>
<p>Always run before/after/around validation hooks when saving, even when not
validating the object (jeremyevans)</p>
</li><li>
<p>Deprecate Model use_after_commit_rollback class and instance accessors
(jeremyevans)</p>
</li><li>
<p>Deprecate Model.allowed_columns reader (jeremyevans)</p>
</li><li>
<p>Freeze internal constants that shouldn&#39;t be modified at runtime
(jeremyevans)</p>
</li><li>
<p>Attempt to connect to the database immediately when creating the Database
instance (jeremyevans)</p>
</li><li>
<p>Make association_pks plugin delay the setting of associated objects until
the current object is saved by default (jeremyevans)</p>
</li><li>
<p>Joined datasets used as model datasets are now automatically wrapped in a
subquery (jeremyevans)</p>
</li><li>
<p>Setting an invalid dataset for a model class now raises an exception by
default (jeremyevans)</p>
</li><li>
<p>Getting all values for newly created models now happens before calling
after_create, instead of after (jeremyevans)</p>
</li><li>
<p>Remove use of @was_new/@columns_updated instance variables when saving
model objects (jeremyevans)</p>
</li><li>
<p>Disable symbol splitting by default (jeremyevans)</p>
</li><li>
<p>Make datasets frozen by default (jeremyevans)</p>
</li><li>
<p>Drop support for ruby 1.8.7, minimum now is 1.9.2 (jeremyevans)</p>
</li><li>
<p>Remove deprecated adapters, extensions, plugins, constants, and features
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.49.0+-282017-08-01-29">4.49.0 (2017-08-01)<span><a href="#label-4.49.0+-282017-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make dataset_associations plugin automatically alias tables when using
many_through_many associations that join the same table multiple times
(jeremyevans)</p>
</li><li>
<p>Deprecate using a :pool_class Database that is not a class or a symbol for
a supported pool class (jeremyevans)</p>
</li><li>
<p>Deprecate :eager_loading_predicate_key association option and association
reflection method (jeremyevans)</p>
</li><li>
<p>Deprecate Model.serialized_columns in the serialization plugin
(jeremyevans)</p>
</li><li>
<p>Deprecate Model.cti_columns in the class_table_inheritance plugin
(jeremyevans)</p>
</li><li>
<p>Deprecate SQL::AliasedExpression#aliaz, use alias instead (jeremyevans)</p>
</li><li>
<p>Deprecate SQL::Function#f, use name instead (jeremyevans)</p>
</li><li>
<p>Deprecate treating cross join with conditions as inner join on MySQL
(jeremyevans)</p>
</li><li>
<p>Deprecate ConnectionPool#created_count, use size instead (jeremyevans)</p>
</li><li>
<p>Deprecate ConnectionPool::CONNECTION_POOL_MAP, use the :pool_class option
to specify a non-default connection pool (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::IBMDB::Connection#prepared_statements= in the ibmdb
adapter (jeremyevans)</p>
</li><li>
<p>Deprecate DEFAULT_OPTIONS in validation_helpers, override
default_validation_helpers_options private method instead (jeremyevans)</p>
</li><li>
<p>Deprecate model association before callbacks returning false to cancel the
action (jeremyevans)</p>
</li><li>
<p>Support native offset syntax on Oracle 12 (timon) (#1397)</p>
</li><li>
<p>Deprecate Dataset#nullify! in the null_dataset extension (jeremyevans)</p>
</li><li>
<p>Deprecate Dataset#autoid=, #_fetch=, and numrows= in the mock adapter
(jeremyevans)</p>
</li><li>
<p>Deprecate loading plugins by requiring sequel_#{plugin} (jeremyevans)</p>
</li><li>
<p>Add Model.sti_class_from_sti_key in the single_table_inheritance plugin to
get the appropriate class to use (Aryk) (#1396)</p>
</li><li>
<p>Make <a
href="../classes/Sequel/Error.html#method-i-cause">Sequel::Error#cause</a>
use wrapped_exception if it exists on ruby 2.1+ (jeremyevans)</p>
</li><li>
<p>Make Dataset#where_all, where_each, where_single_value core dataset methods
instead of just model dataset methods (jeremyevans)</p>
</li><li>
<p>Make Database#extend_datasets and Dataset#with_extend now use a
Dataset::DatasetModule instance if given a block (jeremyevans)</p>
</li><li>
<p>Add <a
href="../classes/Sequel/Dataset/DatasetModule.html">Sequel::Dataset::DatasetModule</a>,
now a superclass of <a
href="../classes/Sequel/Model/DatasetModule.html">Sequel::Model::DatasetModule</a>
(jeremyevans)</p>
</li><li>
<p>Make composition plugin with :mapping option work correctly if
Model#get_column_value is overridden (jeremyevans)</p>
</li><li>
<p>Support Dataset#paged_each :stream =&gt; false option on mysql2 to disable
streaming (Aryk) (#1395)</p>
</li><li>
<p>Make datetimeoffset handling in the jdbc/sqlserver adapter work on more
drivers (jeremyevans)</p>
</li><li>
<p>Make alter_table add_primary_key work correctly on H2 1.4+ (jeremyevans)</p>
</li><li>
<p>Support :sslrootcert Database option in the postgres adapter (dleavitt)
(#1391)</p>
</li></ul>

<h3 id="label-4.48.0+-282017-07-01-29">4.48.0 (2017-07-01)<span><a href="#label-4.48.0+-282017-07-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Deprecate Model.<< (jeremyevans)</p>
</li><li>
<p>Deprecate Dataset#{and,exclude_where,range,interval}, move to
sequel_4_dataset_methods extension (jeremyevans)</p>
</li><li>
<p>Make Database#indexes not include partial indexes on SQLite 3.8.8+
(jeremyevans)</p>
</li><li>
<p>Make Database#indexes include indexes created automatically from unique
constraints on SQLite 3.8.8+ (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Postgres::PG_TYPES, conversion procs should not be
registered per-Database (jeremyevans)</p>
</li><li>
<p>Add Database#add_conversion_proc method on PostgreSQL for registering
conversion procs (jeremyevans)</p>
</li><li>
<p>Deprecate unexpected values passed to Dataset#insert_conflict on SQLite
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::SqlAnywhere::Dataset#convert_smallint_to_bool= method
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::SqlAnywhere.convert_smallint_to_bool accessor
(jeremyevans)</p>
</li><li>
<p>Use savepoints around index creation if creating table inside transaction
if ignore_index_errors is used (jeremyevans)</p>
</li><li>
<p>Deprecate treating :natrual_inner join type on MySQL as NATURAL LEFT JOIN
(jeremyevans)</p>
</li><li>
<p>Deprecate Dataset#mssql_unicode_strings= on Microsoft SQL Server
(jeremyevans)</p>
</li><li>
<p>Preserve encoding when parsing PostgreSQL arrays (jeltz) (#1387)</p>
</li><li>
<p>Deprecate external modification of Sequel::JDBC::TypeConvertor
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::DB2.use_clob_as_blob accessor (jeremyevans)</p>
</li><li>
<p>Add Database#use_clob_as_blob accessor on DB2 (jeremyevans)</p>
</li><li>
<p>Deprecate SEQUEL_POSTGRES_USES_PG constant (jeremyevans)</p>
</li><li>
<p>Do not swallow original exception if exception is raised inside
Database#copy_table on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Postgres.client_min_messages and force_standard_strings
accessors (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Postgres.use_iso_date_format accessor (jeremyevans)</p>
</li><li>
<p>Do not allow connection in postgres adapter if postgres-pr driver is used
and force_standard_strings is false (jeremyevans)</p>
</li><li>
<p>Drop support for ancient postgres driver in postgres adapter, now only pg
and postgres-pr drivers are supported (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::MySQL.convert_invalid_date_time accessor (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::MySQL.convert_tinyint_to_bool accessor (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::MySQL.default_{charset,collate,engine} accessors
(jeremyevans)</p>
</li><li>
<p>Add Database#default_{charset,collate,engine} accessors on MySQL
(jeremyevans)</p>
</li><li>
<p>Make mock adapter thread safe (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::JDBC::Dataset#convert_types accessor (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_convert_types in jdbc adapter (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::IBMDB::Dataset#convert_smallint_to_bool= method
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::IBMDB.convert_smallint_to_bool accessor (jeremyevans)</p>
</li><li>
<p>Add Database#convert_smallint_to_bool accessor in the ibmdb adapter
(jeremyevans)</p>
</li><li>
<p>Deprecate sequel_3_dataset_methods extension (jeremyevans)</p>
</li><li>
<p>Deprecate query_literals extension (jeremyevans)</p>
</li><li>
<p>Deprecate using subtype conversion procs added after registering composite
type in the pg_row extension (jeremyevans)</p>
</li><li>
<p>Don&#39;t try canceling copy in Database#copy_into if copier is not created
yet (aakashAu) (#1384)</p>
</li><li>
<p>Deprecate global conversion procs added by pg_* extensions, when extension
isn&#39;t loaded into Database instance (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Postgres::PGRange.register in the pg_range extension
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Postgres::PGArray.register in the pg_array extension
(jeremyevans)</p>
</li><li>
<p>Deprecate Database#copy_conversion_procs (private method) on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>Deprecate Database#reset_conversion_procs on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Deprecate meta_def extension (jeremyevans)</p>
</li><li>
<p>Make class_table_inheritance plugin with :alias option not use subquery for
datasets that don&#39;t join (jeremyevans)</p>
</li><li>
<p>Deprecate hash_aliases extension (jeremyevans)</p>
</li><li>
<p>Deprecate filter_having extension (jeremyevans)</p>
</li><li>
<p>Deprecate empty_array_ignore_nulls extension (jeremyevans)</p>
</li><li>
<p>Deprecate Array#sql_array in the <a
href="doc/core_extensions_rdoc.html">core_extensions</a> extension
(jeremyevans)</p>
</li><li>
<p>Make validation_helpers plugin :allow_blank option work correctly when the
blank extension is not loaded (jeremyevans)</p>
</li><li>
<p>Make validation_class_methods plugin no longer require the blank extension
(jeremyevans)</p>
</li><li>
<p>Clear cached associations when touching associations in the touch plugin
(jeremyevans)</p>
</li><li>
<p>Make pg_array_associations model plugin load pg_array extension into
database (jeremyevans)</p>
</li><li>
<p>Remove support for :strict option in nested_attributes plugin, use
:unmatched_pk option instead (jeremyevans)</p>
</li><li>
<p>Make to_json class/dataset method in json_serializer plugin accept
:instance_block option to pass block to Model#to_json (jeremyevans)</p>
</li><li>
<p>Make to_json methods in json_serializer plugin accept blocks that are used
to transform values before serializing to JSON (jeremyevans)</p>
</li><li>
<p>Make <a
href="../classes/Sequel.html#method-c-object_to_json">Sequel.object_to_json</a>
pass block to to_json (jeremyevans)</p>
</li><li>
<p>Deprecate identifier_columns plugin, not needed with Sequel.split_symbols =
false (jeremyevans)</p>
</li><li>
<p>Make reloading column_conflicts plugin not remove existing conflict
markings (jeremyevans)</p>
</li><li>
<p>Deprecate cti_base_model, cti_key, and cti_model_map class methods in
class_table_inheritance plugin (jeremyevans)</p>
</li><li>
<p>Make Model.skip_auto_validations(:not_null) in the auto_validations plugin
skip not null checks for columns with default values (jeremyevans)</p>
</li><li>
<p>Make Database#copy_into in jdbc/postgresql adapter respect :server option
(jeremyevans)</p>
</li><li>
<p>Make to_hash and to_hash_groups handle options in the static_cache plugin,
and add rename to_hash to as_hash (jeremyevans)</p>
</li><li>
<p>Rename Dataset#to_hash to as_hash, and add to_hash as an alias, to allow
undefing to_hash to fix ruby calling it implicitly (jeremyevans) (#1375)</p>
</li><li>
<p>Handle PG* constants deprecated in pg 0.21.0 in the postgres adapter
(jeremyevans) (#1377, #1378)</p>
</li><li>
<p>Support :association_pks_use_associated_table association option in
association_pks plugin (jeremyevans)</p>
</li><li>
<p>Make pg_hstore extension reset hstore conversion proc when running
Database#reset_conversion_procs (jeremyevans)</p>
</li><li>
<p>Fix incorrect SQL used for inserting into a CTI subclass sharing the
primary table when using the :alias option (jeremyevans)</p>
</li></ul>

<h3 id="label-4.47.0+-282017-06-01-29">4.47.0 (2017-06-01)<span><a href="#label-4.47.0+-282017-06-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Deprecate pg_typecast_on_load plugin, only useful on deprecated do and
swift adapters (jeremyevans)</p>
</li><li>
<p>Deprecate association_autoreloading and many_to_one_pk_lookup plugins,
which were made the default model behavior in <a
href="../classes/Sequel.html">Sequel</a> 4 (jeremyevans)</p>
</li><li>
<p>Deprecate setting invalid datasets for models unless required_valid_table =
false (jeremyevans)</p>
</li><li>
<p>Make Model.require_valid_table = true not raise for datasets where
Database#schema raises an error but Dataset#columns works (jeremyevans)</p>
</li><li>
<p>Make Database#with_server in the server_block extension accept a second
argument for a different read_only shard (jeremyevans) (#1355)</p>
</li><li>
<p>Make schema_dumper extension handle Oracle 11g XE inclusion of not null in
the db_type (StevenCregan, jeremyevans) (#1351)</p>
</li><li>
<p>Add Model.default_association_type_options for changing default association
options per association type (jeremyevans)</p>
</li><li>
<p>Add :materialized option to Database#views on PostgreSQL to return
materialized views (Blargel) (#1348)</p>
</li><li>
<p>Make defaults_setter plugin inherit custom default values when subclassing
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.46.0+-282017-05-01-29">4.46.0 (2017-05-01)<span><a href="#label-4.46.0+-282017-05-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Recognize additional disconnect error on MySQL (jeremyevans)</p>
</li><li>
<p>Deconstantize dataset SQL generation, speeding up ruby 2.3+, slowing down
earlier versions (jeremyevans)</p>
</li><li>
<p>Deprecate calling Dataset#set_graph_aliases before Dataset#graph
(jeremyevans)</p>
</li><li>
<p>Don&#39;t swallow exception if there is an exception when rolling back a
transaction when using :rollback=&gt;:always option (jeremyevans)</p>
</li><li>
<p>Deprecate passing 2 arguments to Database#alter_table (jeremyevans)</p>
</li><li>
<p>Deprecate passing Schema::CreateTableGenerator instance as second argument
to Database#create_table (jeremyevans)</p>
</li><li>
<p>Deprecate Database::DatasetClass as a way for getting default dataset
classes for datasets (jeremyevans)</p>
</li><li>
<p>Deprecate SQLite pragma getting and setting methods (jeremyevans)</p>
</li><li>
<p>Remove handling of EMULATED_FUNCTION_MAP from adapter dataset classes,
overide Dataset#native_function_name instead (jeremyevans)</p>
</li><li>
<p>Deprecate {Integer,Timestamp}Migrator::DEFAULT_SCHEMA_{COLUMN,TABLE}
(jeremyevans)</p>
</li><li>
<p>Deprecate Database#jdbc_* methods for jdbc/db2 adapter Database instances
(jeremyevans)</p>
</li><li>
<p>Remove addition of Database#jdbc_* to JDBC::Database in jdbc/db2 adapter
(jeremyevans)</p>
</li><li>
<p>Deprecate many internal Database and Dataset string/regexp constants in
core and included adapters (jeremyevans)</p>
</li><li>
<p>Remove use of Fixnum in sqlanywhere shared adapter (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Schema::Generator constant, use <a
href="../classes/Sequel/Schema/CreateTableGenerator.html">Sequel::Schema::CreateTableGenerator</a>
instead (jeremyevans)</p>
</li><li>
<p>Deprecate Database#log_yield (jeremyevans)</p>
</li><li>
<p>Deprecate the set_overrides extension (jeremyevans)</p>
</li><li>
<p>If passing an empty array or hash and a block to a filtering method, ignore
the array or hash and just use the block (jeremyevans)</p>
</li><li>
<p>Deprecate ignoring explicit nil argument when there is no existing filter
(jeremyevans)</p>
</li><li>
<p>Deprecate ignoring explicit nil argument to filtering methods when passing
a block (jeremyevans)</p>
</li><li>
<p>Deprecate ignoring empty strings and other empty? arguments passed to the
filtering methods without a block (jeremyevans)</p>
</li><li>
<p>Deprecate calling filtering methods without an argument or a block
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::VirtualRow#` to create literal SQL, use Sequel.lit
instead (jeremyevans)</p>
</li><li>
<p>Add auto_literal_strings extensions for treating plain strings passed to
filtering/update methods as literal SQL (jeremyevans)</p>
</li><li>
<p>Deprecate automatically treating plain strings passed to filtering/update
methods as literal SQL (jeremyevans)</p>
</li><li>
<p>Passing a PlaceholderLiteralString to a filtering method now uses
parentheses around the expression (jeremyevans)</p>
</li><li>
<p>Make Dataset#full_text_search work on Microsoft SQL Server when
no_auto_literal_strings extension is used (jeremyevans)</p>
</li><li>
<p>Fix Database#disconnect when using the single connection pool without an
active connection (jeremyevans) (#1339)</p>
</li><li>
<p>Handle conversion of datetimeoffset values when using the jdbc/sqlserver
adapter in some configurations (iaddict, jeremyevans) (#1338)</p>
</li><li>
<p>Fix conversion of some time values when using the jdbc/sqlserver adapter in
some configurations (iaddict, jeremyevans) (#1337)</p>
</li><li>
<p>Use microsecond precision for time values on Microsoft SQL Server, instead
of millisecond precision (jeremyevans)</p>
</li><li>
<p>Add Dataset#sqltime_precision private method for adapters to use different
precision for <a href="../classes/Sequel/SQLTime.html">Sequel::SQLTime</a>
than Time and Date (jeremyevans)</p>
</li><li>
<p>Use utc timezone in <a
href="../classes/Sequel/SQLTime.html#method-c-create">Sequel::SQLTime.create</a>
if Sequel.application_timezone is :utc (jeremyevans) (#1336)</p>
</li><li>
<p>Include migration filename in message about migration file without a single
migration (jmettraux) (#1334)</p>
</li><li>
<p>Deprecate conversion of - to _ in adapter schemes (jeremyevans)</p>
</li><li>
<p>Don&#39;t quote function names that are SQL::Identifiers, unless
SQL::Function#quoted is used (jeremyevans)</p>
</li><li>
<p>Deprecate splitting virtual row method names (jeremyevans)</p>
</li><li>
<p>Deprecate passing blocks to virtual row methods, move to
virtual_row_method_block extension (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::SQL::Expression#sql_literal and lit (jeremyevans)</p>
</li><li>
<p>Don&#39;t issue deprecation warnings on ruby 1.8.7, as <a
href="../classes/Sequel.html">Sequel</a> 5 is dropping support for it
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::BasicObject#remove_methods! (jeremyevans)</p>
</li><li>
<p>Deprecate sequel/no_core_ext file (jeremyevans)</p>
</li><li>
<p>Deprecate model dataset insert_sql accepting model instances (jeremyevans)</p>
</li><li>
<p>Deprecate model dataset join_table and graph accepting model classes
(jeremyevans)</p>
</li><li>
<p>Support :alias option to class_table_inheritance plugin, wrapping subclass
datasets in a subquery to fix ambiguous column issues (jeremyevans)</p>
</li><li>
<p>Deprecate Model.set_allowed_columns and
Model#{set_all,set_only,update_all,update_only}, move to whitelist security
plugin (jeremyevans)</p>
</li><li>
<p>Do not raise MassAssignmentRestriction when setting nested attributes and
using the :fields option, only check for fields given (jeremyevans)</p>
</li><li>
<p>Do not add class methods for private methods definined in dataset_module
(jeremyevans)</p>
</li><li>
<p>Deprecate Model.def_dataset_method and Model.subset, move to
def_dataset_method plugin (jeremyevans)</p>
</li><li>
<p>Deprecate Model.finder and Model.prepared_finder, move to finder plugin
(jeremyevans)</p>
</li><li>
<p>Deprecate calling Model.db= on a model with a dataset (jeremyevans)</p>
</li><li>
<p>Deprecate splitting symbols to look for qualified/aliased identifiers (e.g.
:table__column) (jeremyevans)</p>
</li><li>
<p>Allow optimized lookups and deletes for models using SQL::Identifier and
SQL::QualifiedIdentifier values as the FROM table (jeremyevans)</p>
</li></ul>

<h3 id="label-4.45.0+-282017-04-01-29">4.45.0 (2017-04-01)<span><a href="#label-4.45.0+-282017-04-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Correctly handle datasets with offsets but no limits used in compound
datasets on MSSQL &lt;2012 (jeremyevans)</p>
</li><li>
<p>Correctly handle false values in the split_values plugin (bananarne)
(#1333)</p>
</li><li>
<p>Deprecate Dataset#dup/clone and Model.dup/clone (jeremyevans)</p>
</li><li>
<p>Deprecate the schema and scissors plugins (jeremyevans)</p>
</li><li>
<p>Deprecate
Model.{lazy_attributes,nested_attributes,composition,serialization}_module
accessors (jeremyevans)</p>
</li><li>
<p>Deprecate Database#database_name on MySQL (jeremyevans)</p>
</li><li>
<p>Deprecate Database#use on MySQL (jeremyevans)</p>
</li><li>
<p>Make pg_hstore extension no longer update PG_NAMED_TYPES (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::PG_NAMED_TYPES (jeremyevans)</p>
</li><li>
<p>Add columns_updated plugin for making updated columns hash available in
after_update and after_save hooks (jeremyevans)</p>
</li><li>
<p>Deprecate accessing @columns_updated directly in model after_update and
after_save hooks (jeremyevans)</p>
</li><li>
<p>Deprecate Database#{add,remove}_servers when not using a sharded connection
pool (jeremyevans)</p>
</li><li>
<p>Deprecate Database#each_server (jeremyevans)</p>
</li><li>
<p>Make Model#_valid? private method accept only an options hash (jeremyevans)</p>
</li><li>
<p>Deprecate returning false from model before hooks to cancel the action, use
Model#cancel_action (jeremyevans)</p>
</li><li>
<p>Handle Model#cancel_action correctly in before hooks when Model#valid? is
called (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::BeforeHookFailed (jeremyevans)</p>
</li><li>
<p>Deprecate passing multiple arguments as filter arguments when not using a
conditions specifier (jeremyevans)</p>
</li><li>
<p>Deprecate passing Procs as filter arguments, require they be passed as
blocks (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Error::* exception class aliases (jeremyevans)</p>
</li><li>
<p>Deprecate prepared_statements_associations and prepared_statements_with_pk
plugins (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Unbinder, Sequel::UnbindDuplicate, and Dataset#unbind
(jeremyevans)</p>
</li><li>
<p>Deprecating calling <a
href="../classes/Sequel/Qualifier.html">Sequel::Qualifier</a> with two
arguments (jeremyevans)</p>
</li><li>
<p>Add validation_contexts plugin for supporting custom contexts when
validating (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Database.single_threaded singleton accessor (jeremyevans)</p>
</li><li>
<p>Deprecate treating unrecognized prepared statement type as :select
(jeremyevans)</p>
</li><li>
<p>Deprecate Sequel.identifier_{in,out}put_method= and .quote_identifiers=
singleton setters (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Database.identifier_{in,out}put_method and
.quote_identifiers singleton accessors (jeremyevans)</p>
</li><li>
<p>Deprecate loading the identifier_mangling by default, require it be loaded
explicitly if needed (jeremyevans)</p>
</li><li>
<p>Make Database#dump_{table_schema,schema_migration} in schema_dumper
extension support :schema option (dadario) (#1328)</p>
</li><li>
<p>Make Dataset#delete respect an existing limit on Microsoft SQL Server
(jeremyevans)</p>
</li><li>
<p>Add Dataset#skip_limit_check to mark a dataset as skipping the limit/offset
check for updates and deletes (jeremyevans)</p>
</li><li>
<p>Deprecate calling Dataset#{update/delete/truncate} on datasets with limits
or offsets unless the database supports it (jeremyevans)</p>
</li><li>
<p>Add deprecation message for using association_pks setter method with
:delay_pks=&gt;true association option (jeremyevans)</p>
</li><li>
<p>Add deprecation message for using association_pks setter method without
:delay_pks association option (jeremyevans)</p>
</li><li>
<p>Deprecate having duplicate column names in subclass tables when using the
class_table_inheritance plugin (jeremyevans)</p>
</li><li>
<p>Deprecate do (DataObjects), swift, and jdbc/as400 adapters (jeremyevans)</p>
</li><li>
<p>Deprecate support for Cubrid, Firebird, Informix, and Progress databases
(jeremyevans)</p>
</li><li>
<p>The :proxy_argument option passed to association_proxies plugin block is
now an empty hash if no arguments are passed to the association method
(jeremyevans)</p>
</li><li>
<p>Deprecate passing non-hash arguments to association methods (jeremyevans)</p>
</li><li>
<p>Deprecate passing multiple arguments to association methods (jeremyevans)</p>
</li><li>
<p>Deprecate model transaction hook methods (jeremyevans)</p>
</li><li>
<p>Drop support for pg &lt;0.8.0 in the postgres adapter (jeremyevans)</p>
</li><li>
<p>Deprecate passing a block to Database#from (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel::Model::ANONYMOUS_MODEL_CLASSES{,_MUTEX} (jeremyevans)</p>
</li><li>
<p>Deprecate Sequel.cache_anonymous_models and Sequel.cache_anonymous_models=
(jeremyevans)</p>
</li><li>
<p>Automatically use from_self when using a dataset as part of a compound if
it has an offset but no limit (jeremyevans)</p>
</li><li>
<p>Drop order on existing datasets when using Dataset#union/intersect/except
on Microsoft SQL Server unless a limit or offset is used (jeremyevans)</p>
</li><li>
<p>Deprecate dataset mutation (jeremyevans)</p>
</li><li>
<p>Handle dumping of autoincrementing 64-bit integer primary key columns
correctly when using :same_db option in the schema dumper (jeremyevans)
(#1324)</p>
</li><li>
<p>Add Model.dataset_module_class accessor, allowing plugins to support custom
behavior in dataset_module blocks (jeremyevans)</p>
</li><li>
<p>Make ORDER BY come after UNION/INTERSECT/EXCEPT on Microsoft SQL Server and
SQLAnywhere (jeremyevans)</p>
</li><li>
<p>Make Database#indexes on MySQL handle qualified identifiers (jeremyevans)
(#1316)</p>
</li><li>
<p>Add oracle support to the odbc adapter (samuel02) (#1315)</p>
</li></ul>

<h3 id="label-4.44.0+-282017-03-01-29">4.44.0 (2017-03-01)<span><a href="#label-4.44.0+-282017-03-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add where_all, where_each, where_single_value model dataset methods,
optimized for frozen datasets (jeremyevans)</p>
</li><li>
<p>Add eager method to dataset_module (jeremyevans)</p>
</li><li>
<p>Add implicit_subquery extension, for implicitly using a subquery for
datasets using raw SQL when calling dataset methods that modify SQL
(jeremyevans)</p>
</li><li>
<p>Make Dataset#from_self keep the columns from the current dataset if present
(jeremyevans)</p>
</li><li>
<p>Add implicit_subquery extension, implicitly using subqueries for dataset
methods if the current dataset uses raw SQL (jeremyevans)</p>
</li><li>
<p>Make SQL::ValueList#inspect show that it is a value list (jeremyevans)</p>
</li><li>
<p>Make LiteralString#inspect show that it is a literal string (jeremyevans)</p>
</li><li>
<p>Make Model::Associations::AssociationReflection#inspect show reflection
class and guess at association definition line (jeremyevans)</p>
</li><li>
<p>Make SQLTime#inspect show it is an SQLTime instance, and only the time
component (jeremyevans)</p>
</li><li>
<p>Make SQL::Blob#inspect show that it is a blob, the number of bytes, and
some or all of the content (jeremyevans)</p>
</li><li>
<p>Make plugins not modify the constant namespace for the model class that
uses them (jeremyevans)</p>
</li><li>
<p>Do not modify encoding of SQL::Blob instances in force_encoding plugin
(jeremyevans)</p>
</li><li>
<p>Add Model.freeze_descendents to subclasses plugin, for easier finalizing
associations/freezing of descendent classes (jeremyevans)</p>
</li><li>
<p>Add Model.finalize_associations method for finalizing associations,
speeding up some association reflections methods almost 10x (jeremyevans)</p>
</li><li>
<p>Implement Model.freeze such that it can be used in production (jeremyevans)</p>
</li><li>
<p>Recognize another disconnect error in the jdbc/as400 adapter (perlun)
(#1300)</p>
</li><li>
<p>Correctly handle conversion of false values when typecasting PostgreSQL
arrays (mistoo) (#1299)</p>
</li><li>
<p>Raise error if the postgres adapter attempts to load an incompatible
version of sequel_pg (mahlonsmith) (#1298)</p>
</li><li>
<p>Fix jdbc adapter so basic_type_convertor_map is not shared between
instances, work with Database#freeze (jeremyevans)</p>
</li></ul>

<h3 id="label-4.43.0+-282017-02-01-29">4.43.0 (2017-02-01)<span><a href="#label-4.43.0+-282017-02-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make jdbc/postgresql adapter work if pg_hstore extension is loaded first
(jeremyevans) (#1296)</p>
</li><li>
<p>Make prepared_statements_associations plugin work correctly on some
instance specific associations (jeremyevans)</p>
</li><li>
<p>Make <a href="doc/prepared_statements_rdoc.html">prepared_statements</a>
plugin not use prepared statements in cases where it is probably slower
(jeremyevans)</p>
</li><li>
<p>Optimize Model#refresh similar to Model.with_pk (jeremyevans)</p>
</li><li>
<p>Make Database#extension not attempt to load the same extension more than
once (jeremyevans)</p>
</li><li>
<p>Implement Database#freeze such that it can be used in production
(jeremyevans)</p>
</li><li>
<p>Freeze enum_labels in the pg_enum extension (jeremyevans)</p>
</li><li>
<p>Handle Database#type_supported? thread-safely on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Handle primary_key_sequences thread-safely on Oracle (jeremyevans)</p>
</li><li>
<p>Handle sharding better when using mysql2 native prepared statements
(jeremyevans)</p>
</li><li>
<p>Use thread-safe incrementor for mock adapter autoid handling (jeremyevans)</p>
</li><li>
<p>Make Model#freeze not freeze associations hash until after validating the
model instance (jeremyevans)</p>
</li><li>
<p>Make prepared_statements_associations plugin work correctly when model
object explicitly specifies server to use when also using sharding plugin
(jeremyevans)</p>
</li><li>
<p>Make prepared_statements_with_pk plugin work correctly when dataset
explicitly specifies server to use (jeremyevans)</p>
</li><li>
<p>Make <a href="doc/prepared_statements_rdoc.html">prepared_statements</a>
plugin work correctly when model object explicitly specifies server to use
(jeremyevans)</p>
</li><li>
<p>Make dataset_module inherited to subclasses when using the
single_table_inheritance plugin (jeremyevans) (#1284)</p>
</li><li>
<p>Support use of SQLite result codes in the jdbc-sqlite adapter, if the jdbc
sqlite driver supports them (flash-gordon, jeremyevans) (#1283)</p>
</li><li>
<p>Make timestamp migrator handle key length limitations when using MySQL with
InnoDB engine and utf8mb4 charset default (jeremyevans) (#1282)</p>
</li></ul>

<h3 id="label-4.42.0+-282017-01-01-29">4.42.0 (2017-01-01)<span><a href="#label-4.42.0+-282017-01-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Handle eager load callbacks correctly for one_to_one associations with
orders or offsets when window functions are not supported (jeremyevans)</p>
</li><li>
<p>Raise <a href="../classes/Sequel/Error.html">Sequel::Error</a> if using an
:eager_limit dataset option when eager loading a singular association
(jeremyevans)</p>
</li><li>
<p>Replace internal uses of Dataset#select_more with select_append to save a
method call (jeremyevans)</p>
</li><li>
<p>Make Dataset#order_append the primary method, and order_more the alias, for
similarity to select_append and select_more (jeremyevans)</p>
</li><li>
<p>Replace internal uses of Dataset#filter with where to save a method call
(jeremyevans)</p>
</li><li>
<p>Do not set :auto_increment in the schema information for integer columns
that are part of a composite primary key on SQLite (jeremyevans)</p>
</li><li>
<p>Use autoincrement setting on integer primary key columns when emulating
table modification methods on SQLite (thenrio, jeremyevans) (#1277, #1278)</p>
</li><li>
<p>Make the pagination extension work on frozen datasets (jeremyevans)</p>
</li><li>
<p>Make Dataset#server work for frozen model datasets using the sharding
plugin (jeremyevans)</p>
</li><li>
<p>Make Dataset#nullify in the null_dataset extension work on frozen datasets
(jeremyevans)</p>
</li><li>
<p>Make Model#set_server work when using a frozen model dataset (jeremyevans)</p>
</li><li>
<p>Make Dataset#ungraphed work on a frozen model dataset (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_{autoid,fetch,numrows} to the mock adapter, returning
cloned datasets with the setting changed (jeremyevans)</p>
</li><li>
<p>Make looser_typecasting extension handle the strict BigDecimal parsing
introduced in ruby 2.4rc1 (jeremyevans)</p>
</li><li>
<p>Make Database#{db,opts}= in the sequel_3_dataset_methods extension raise
for frozen datasets (jeremyevans)</p>
</li><li>
<p>Speed up repeated calls to Dataset#{interval,range} for frozen datasets
using a cached placeholder literalizer (jeremyevans)</p>
</li><li>
<p>Speed up repeated calls to Dataset#get with a single argument for frozen
datasets using a cached placeholder literalizer (jeremyevans)</p>
</li><li>
<p>Speed up repeated calls to Dataset#{first,last} with arguments/blocks for
frozen datasets using a cached placeholder literalizer (jeremyevans)</p>
</li><li>
<p>Speed up repeated calls to Dataset#{avg,min,max,sum} for frozen datasets
using a cached placeholder literalizer (jeremyevans)</p>
</li><li>
<p>Cache dataset returned by Dataset#skip_locked for frozen datasets
(jeremyevans)</p>
</li><li>
<p>Cache dataset returned by Dataset#for_update for frozen datasets
(jeremyevans)</p>
</li><li>
<p>Cache dataset returned by Dataset#un{filtered,grouped,limited,ordered} for
frozen datasets (jeremyevans)</p>
</li><li>
<p>Cache dataset returned by Dataset#reverse (no args) for frozen datasets
(jeremyevans)</p>
</li><li>
<p>Cache dataset returned by Dataset#invert for frozen datasets (jeremyevans)</p>
</li><li>
<p>Speed up repeated calls to Dataset#count with an argument or block for
frozen datasets using a cached placeholder literalizer (jeremyevans)</p>
</li><li>
<p>Using :on_duplicate_columns=&gt;:warn Database option with
duplicate_columns_handler now prepends file/line to the warning message
(jeremyevans)</p>
</li><li>
<p>Move identifier mangling code to identifier_mangling extension, load by
default unless using :identifier_mangling=&gt;false Database option
(jeremyevans)</p>
</li><li>
<p>Allow Dataset#with_extend to accept a block and create a module with that
block that the object is extended with (jeremyevans)</p>
</li><li>
<p>Speed up repeated calls to with_pk on the same frozen model dataset using a
cached placeholder literalizer (jeremyevans)</p>
</li><li>
<p>Add dataset_module methods such as select and order that define dataset
methods which support caching for frozen datasets (jeremyevans)</p>
</li><li>
<p>Cache subset datasets if they don&#39;t use blocks or procs for frozen
model datasets (jeremyevans)</p>
</li><li>
<p>Cache intermediate dataset used in Dataset#{last,paged_each} for frozen
model datasets without an order (jeremyevans)</p>
</li><li>
<p>Cache dataset returned by Dataset#naked for frozen datasets (jeremyevans)</p>
</li><li>
<p>Cache intermediate dataset used in Dataset#last (no args) for frozen
datasets (jeremyevans)</p>
</li><li>
<p>Cache intermediate dataset used in Dataset#first (no args) and
single_record for frozen datasets (jeremyevans)</p>
</li><li>
<p>Cache intermediate dataset used in Dataset#empty? for frozen datasets
(jeremyevans)</p>
</li><li>
<p>Cache intermediate dataset used in Dataset#count (no args) for frozen
datasets (jeremyevans)</p>
</li><li>
<p>Warn if :conditions option may be unexpectedly ignored during
eager_graph/association_join (jeremyevans) (#1272)</p>
</li><li>
<p>Cache SELECT and DELETE SQL for most frozen datasets (jeremyevans)</p>
</li><li>
<p>Freeze most SQL::Expression objects and internal state by default
(jeremyevans)</p>
</li><li>
<p>Freeze Dataset::PlaceholderLiteralizer and
Dataset::PlaceholderLiteralizer::Argument instances (jeremyevans)</p>
</li><li>
<p>Freeze most dataset opts values to avoid unintentional modification
(jeremyevans)</p>
</li><li>
<p>Add Dataset#with_convert_smallint_to_bool on DB2, returning a clone with
convert_smallint_to_bool set (jeremyevans)</p>
</li><li>
<p>Make Dataset#freeze actually freeze the dataset on ruby 2.4+ (jeremyevans)</p>
</li><li>
<p>Avoid using instance variables other than @opts for dataset data storage
(jeremyevans)</p>
</li><li>
<p>Add freeze_datasets extension, making all datasets for a given Database
frozen (jeremyevans)</p>
</li><li>
<p>Refactor prepared statement internals, using opts instead of instance
variables (jeremyevans)</p>
</li><li>
<p>Model.set_dataset now operates on a clone of the dataset given instead of
modifying it, so it works with frozen datasets (jeremyevans)</p>
</li></ul>

<h3 id="label-4.41.0+-282016-12-01-29">4.41.0 (2016-12-01)<span><a href="#label-4.41.0+-282016-12-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add Dataset#with_mssql_unicode_strings on Microsoft SQL Server, returning a
clone with mssql_unicode_strings set (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_identifier_output_method, returning a clone with
identifier_output_method set (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_identifier_input_method, returning a clone with
identifier_input_method set (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_quote_identifiers, returning a clone with
quote_identifiers set (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_extend, returning a clone extended with given modules
(jeremyevans)</p>
</li><li>
<p>Add Dataset#with_row_proc, returning a clone with row_proc set
(jeremyevans)</p>
</li><li>
<p>Support use of SQL::AliasedExpressions as Model#to_json :include option
keys in the json_serializer plugin (sensadrome) (#1269)</p>
</li><li>
<p>Major improvements to type conversion in the ado adapter (vais,
jeremyevans) (#1265)</p>
</li><li>
<p>Avoid memory leak in ado adapter by closing result sets after yielding them
(vais, jeremyevans) (#1259)</p>
</li><li>
<p>Fix hook_class_methods plugin handling of commit hooks (jeremyevans)</p>
</li><li>
<p>Make association dataset method correctly handle cases where key fields are
nil (jeremyevans)</p>
</li><li>
<p>Handle pure java exceptions that don&#39;t support message= when reraising
the exception in the jdbc adapter (jeremyevans)</p>
</li><li>
<p>Add support for :offset_strategy Database option on DB2, with :limit_offset
and :offset_fetch values, to disable OFFSET emulation (#1254) (jeremyevans)</p>
</li><li>
<p>Remove deprecated support for using Bignum class as a generic type
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.40.0+-282016-10-28-29">4.40.0 (2016-10-28)<span><a href="#label-4.40.0+-282016-10-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make column_select plugin not raise an exception if the model&#39;s table
does not exist (jeremyevans)</p>
</li><li>
<p>Make dataset_associations plugin correctly handle (many|one)_through_many
associations with single join table (jeremyevans) (#1253)</p>
</li><li>
<p>Add s extension, with adds Sequel::S module that includes private #S method
for calling Sequel.expr, including use as refinement (jeremyevans)</p>
</li><li>
<p>Add symbol_as and symbol_as_refinement extensions so that
:column.as(:alias) is treated as Sequel.as(:column, :alias) (jeremyevans)</p>
</li><li>
<p>Add symbol_aref and symbol_aref_refinement extensions so that :<a
href=":column">table</a> is treated as Sequel.qualify(:table, :column)
(jeremyevans)</p>
</li><li>
<p>Add <a
href="../classes/Sequel.html#method-c-split_symbols-3D">Sequel.split_symbols=</a>,
to support the disabling of splitting symbols with double/triple
underscores (jeremyevans)</p>
</li><li>
<p>Make SQL::QualifiedIdentifier convert SQL::Identifier arguments to strings,
fixing <a href=":schema">Sequel</a>[:table] usage in schema methods
(jeremyevans)</p>
</li><li>
<p>Do not attempt to combine non-associative operators (jeremyevans) (#1246)</p>
</li><li>
<p>Automatically add NOT NULL to columns when adding primary keys if the
database doesn&#39;t handle it (jeremyevans)</p>
</li><li>
<p>Make <a href="doc/prepared_statements_rdoc.html">prepared_statements</a>
plugin correctly handle lookup on joined datasets (jeremyevans) (#1244)</p>
</li><li>
<p>Make Database#tables with :qualify=&gt;true option handle table names with
double underscores correctly (jeremyevans) (#1241)</p>
</li><li>
<p>Add SQL::Identifier#[] and SQL::QualifiedIdentifier#[] for creating
qualified identifiers (jeremyevans)</p>
</li><li>
<p>Add support for Dataset#insert_conflict :conflict_where option, for a
predicate to use in ON CONFLICT clauses (chanks) (#1240)</p>
</li><li>
<p>Freeze Dataset::NON_SQL_OPTIONS, add private Dataset#non_sql_options,
fixing thread safety issues during require (jeremyevans)</p>
</li><li>
<p>Make the callable returned by Database#rollback_checker thread safe
(jeremyevans)</p>
</li><li>
<p>Make lazy_attributes and dataset_associations plugins work if
insert_returning_select plugin is loaded before on model with no dataset
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.39.0+-282016-10-01-29">4.39.0 (2016-10-01)<span><a href="#label-4.39.0+-282016-10-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make active_model plugin use rollback_checker instead of after_rollback
hook (jeremyevans)</p>
</li><li>
<p>Add Database#rollback_checker, which returns a proc that returns whether
the in progress transaction is rolled back (jeremyevans)</p>
</li><li>
<p>Add <a
href="../classes/Sequel/Database.html#method-c-set_shared_adapter_scheme">Sequel::Database.set_shared_adapter_scheme</a>
to allow external adapters to support the mock adapter (jeremyevans)</p>
</li><li>
<p>Make hook_class_methods plugin not use after commit/rollback model hooks
(jeremyevans)</p>
</li><li>
<p>Support add_column :after and :first options on MySQL (AnthonyBobsin,
jeremyevans) (#1234)</p>
</li><li>
<p>Support ActiveSupport 5 in pg_interval extension when weeks/hours are used
in ActiveSupport::Duration objects (chanks) (#1233)</p>
</li><li>
<p>Support IntegerMigrator :relative option, for running only the specified
number of migrations up or down (jeremyevans)</p>
</li><li>
<p>Make the touch plugin also touch associations on create in addition to
update and delete (jeremyevans)</p>
</li><li>
<p>Add :allow_manual_update timestamps plugin option for not overriding a
manually set update timestamp (jeremyevans)</p>
</li><li>
<p>Add Sequel.[] as an alias to Sequel.expr, for easier expression creation
(jeremyevans)</p>
</li><li>
<p>Add PostgreSQL full_text_search :to_tsquery=&gt;:phrase option, for using
PostgreSQL 9.6+ full text search phrase searching (jeremyevans)</p>
</li><li>
<p>Add JSONBOp#insert in pg_json_ops extension, for jsonb_insert support on
PostgreSQL 9.6+ (jeremyevans)</p>
</li><li>
<p>Support add_column :if_not_exists option on PostgreSQL 9.6+ (jeremyevans)</p>
</li></ul>

<h3 id="label-4.38.0+-282016-09-01-29">4.38.0 (2016-09-01)<span><a href="#label-4.38.0+-282016-09-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support :driver_options option when using the postgres adapter with pg
driver (jeremyevans)</p>
</li><li>
<p>Don&#39;t use after commit/rollback database hooks if the model instance
methods are not overridden (jeremyevans)</p>
</li><li>
<p>Add SQL::NumericMethods#coerce, allowing code such as Sequel.expr{1 - x}
(jeremyevans)</p>
</li><li>
<p>Support ** operator for exponentiation on expressions, similar to +, -, *,
and / (jeremyevans)</p>
</li><li>
<p>Add Sequel::SQLTime.date= to set the date used for SQLTime instances
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.37.0+-282016-08-01-29">4.37.0 (2016-08-01)<span><a href="#label-4.37.0+-282016-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add support for regular expression matching on Oracle 10g+ using
REGEXP_LIKE (johndcaldwell) (#1221)</p>
</li><li>
<p>Recognize an additional disconnect error in the postgres adapter
(jeremyevans)</p>
</li><li>
<p>Make connection pool remove connections for disconnect errors not raised as
DatabaseDisconnectError (jeremyevans)</p>
</li><li>
<p>Support mysql2 0.4+ native prepared statements and bound variables
(jeremyevans)</p>
</li><li>
<p>Add Database#values for VALUES support on SQLite 3.8.3+ (jeremyevans)</p>
</li><li>
<p>Support create_view :columns option on SQLite 3.9.0+ (jeremyevans)</p>
</li><li>
<p>Make migration reverser handle alter_table add_constraint using a hash as
the first argument (soupmatt) (#1215)</p>
</li><li>
<p>Make ASTTransformer handle Sequel.extract (jeremyevans) (#1213)</p>
</li></ul>

<h3 id="label-4.36.0+-282016-07-01-29">4.36.0 (2016-07-01)<span><a href="#label-4.36.0+-282016-07-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Deprecate use of Bignum class as generic type, since the behavior will
change in ruby 2.4 (jeremyevans)</p>
</li><li>
<p>Don&#39;t hold connection pool mutex while disconnecting connections
(jeremyevans)</p>
</li><li>
<p>Don&#39;t hold references to disconnected connections in the
connection_validator extension (jeremyevans)</p>
</li><li>
<p>Don&#39;t overwrite existing connection_validation_timeout when loading
connection_validator extension multiple times (jeremyevans)</p>
</li><li>
<p>Add connection_expiration extension, for automatically removing connections
open for too long (pdrakeweb) (#1208, #1209)</p>
</li><li>
<p>Handle disconnection errors raised during string literalization in mysql2
and postgres adapters (jeremyevans)</p>
</li><li>
<p>Add string_agg extension for aggregate string concatenation support on many
databases (jeremyevans)</p>
</li><li>
<p>Add SQL::Function#order for ordered aggregate functions (jeremyevans)</p>
</li><li>
<p>Support operator validation in constraint_validations for &lt;, &lt;=,
&gt;, and &gt;= operators with string and integer arguments (jeremyevans)</p>
</li><li>
<p>Make validates_operator validation consider nil values invalid unless
:allow_nil or similar option is used (jeremyevans)</p>
</li><li>
<p>Close cursors for non-SELECT queries in the oracle adapter after execution,
instead of waiting until GC (jeremyevans) (#1203)</p>
</li><li>
<p>Add :class_namespace association option for setting default namespace for
:class option given as symbol/string (jeremyevans)</p>
</li><li>
<p>Add Sequel::Model.cache_anonymous_models accessor for changing caching on a
per-model basis (jeremyevans)</p>
</li><li>
<p>Add Sequel::Model.def_Model for adding a Model() method to a module, for
easier use of namespaced models (jeremyevans)</p>
</li><li>
<p>Add Sequel::Model::Model() for creating subclasses of <a
href="../classes/Sequel/Model.html">Sequel::Model</a> subclasses, instead
of just <a href="../classes/Sequel/Model.html">Sequel::Model</a> itself
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.35.0+-282016-06-01-29">4.35.0 (2016-06-01)<span><a href="#label-4.35.0+-282016-06-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add :headline option to PostgreSQL Dataset#full_text_search for adding an
extract of the matched text to the SELECT list (jeremyevans)</p>
</li><li>
<p>Make :rollback=&gt;:always inside a transaction use a savepoint
automatically if supported (jeremyevans) (#1193)</p>
</li><li>
<p>Recognize bool type as boolean in the schema dumper (jeremyevans) (#1192)</p>
</li><li>
<p>Make Dataset#to_hash and to_hash_groups work correctly for model datasets
doing eager loading (jeremyevans)</p>
</li><li>
<p>Make delay_add_association plugin handle hashes and primary keys passed to
add_* association methods (jeremyevans) (#1187)</p>
</li><li>
<p>Treat :Bignum as a generic type, to support 64-bit integers on ruby 2.4+,
where Bignum == Integer (jeremyevans)</p>
</li><li>
<p>Add server_logging extension for including server/shard information when
logging queries (jeremyevans)</p>
</li><li>
<p>Add Database#log_connection_info, for including connection information when
logging queries (jeremyevans)</p>
</li><li>
<p>Add Dataset#skip_locked for skipping locked rows on PostgreSQL 9.5+, MSSQL,
and Oracle (jeremyevans)</p>
</li><li>
<p>Allow Sequel::Model#lock! to accept an optional lock style (petedmarsh)
(#1183)</p>
</li><li>
<p>Add sql_comments extension for setting SQL comments on queries
(jeremyevans)</p>
</li><li>
<p>Make Postgres::PGRange#cover? handle empty, unbounded, and exclusive
beginning ranges (jeremyevans)</p>
</li><li>
<p>Fix frozen string literal issues on JRuby 9.1.0.0 (jeremyevans)</p>
</li><li>
<p>Allow json_serializer :include option with cascaded values to work
correctly when used with association_proxies (jeremyevans)</p>
</li></ul>

<h3 id="label-4.34.0+-282016-05-01-29">4.34.0 (2016-05-01)<span><a href="#label-4.34.0+-282016-05-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add support for :dataset_associations_join association option to
dataset_associations plugin, for making resulting datasets have appropriate
joins (jeremyevans)</p>
</li><li>
<p>Log server connection was attempted to in PoolTimeout exception messages in
sharded connection pool (jeremyevans)</p>
</li><li>
<p>Log Database :name option in PoolTimeout exception messages (bigkevmcd,
jeremyevans) (#1176)</p>
</li><li>
<p>Add duplicate_columns_handler extension, for raising or warning if a
dataset returns multiple columns with the same name (TSMMark, jeremyevans)
(#1175)</p>
</li><li>
<p>Support registering per-Database custom range types in the pg_range
extension (steveh) (#1174)</p>
</li><li>
<p>Support :preconnect=&gt;:concurrently Database option for preconnecting in
separate threads (kch, jeremyevans) (#1172)</p>
</li><li>
<p>Make prepared_statements_safe plugin work correctly with
CURRENT_DATE/CURRENT_TIMESTAMP defaults (jeremyevans) (#1168)</p>
</li><li>
<p>Add validates_operator validation helper (petedmarsh) (#1170)</p>
</li><li>
<p>Recognize additional unique constraint violation on Microsoft SQL Server
(jeremyevans)</p>
</li><li>
<p>Add :hash option to Dataset#(select|to)_hash(_groups)? methods for choosing
object to populate (mwpastore) (#1167)</p>
</li></ul>

<h3 id="label-4.33.0+-282016-04-01-29">4.33.0 (2016-04-01)<span><a href="#label-4.33.0+-282016-04-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Handle arbitrary objects passed as arguments to the association method
(jeremyevans) (#1166)</p>
</li><li>
<p>Handle array with multiple columns as Dataset#insert_conflict :target value
on PostgreSQL (chanks) (#1165)</p>
</li><li>
<p>Add Database#transaction :savepoint=&gt;:only option, for only creating a
savepoint if already inside a transaction (jeremyevans)</p>
</li><li>
<p>Make Database#sequence_for_table on Oracle handle cases where the schema
for a table cannot be determined (jeremyevans)</p>
</li><li>
<p>The boolean_readers, boolean_subsets, and class_table_inheritance plugins
no longer do blind rescues (jeremyevans) (#1162)</p>
</li><li>
<p>Add Model.require_valid_table setting, if set to true doesn&#39;t swallow
any errors for invalid tables (jeremyevans)</p>
</li><li>
<p>Creating model classes inside a transaction when the table doesn&#39;t
exist no longer rolls back the transaction on PostgreSQL (jeremyevans)
(#1160)</p>
</li><li>
<p><a href="../classes/Sequel/Model.html">Sequel::Model</a> no longer swallows
many errors when subclassing or setting datasets (jeremyevans) (#1160)</p>
</li><li>
<p>Handle altering column NULL settings for varchar(max) and text columns on
MSSQL (Ilja Resch)</p>
</li><li>
<p>Remove Sequel.firebird and Sequel.informix adapter methods (jeremyevans)</p>
</li><li>
<p>Make graph_each extension handle result set splitting when using
Dataset#first (jeremyevans)</p>
</li><li>
<p>Allow raising <a
href="../classes/Sequel/ValidationFailed.html">Sequel::ValidationFailed</a>
and <a href="../classes/Sequel/HookFailed.html">Sequel::HookFailed</a>
without an argument (jeremyevans)</p>
</li><li>
<p>Allow schema_dumper to handle :qualify=&gt;true option on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>Allow foreign_key schema method to handle SQL::Identifier and
SQL::QualifiedIdentifier as 2nd argument (jeremyevans)</p>
</li></ul>

<h3 id="label-4.32.0+-282016-03-01-29">4.32.0 (2016-03-01)<span><a href="#label-4.32.0+-282016-03-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Use mutex for synchronizing access to association reflection cache on MRI
(jeremyevans)</p>
</li><li>
<p>Add Dataset#delete_from on MySQL, allowing deletions from multiple tables
in a single query (jeremyevans) (#1146)</p>
</li><li>
<p>Add no_auto_literal_strings extension, which makes SQL injection
vulnerabilities less likely (jeremyevans)</p>
</li><li>
<p>Add Model.default_association_options, for setting option defaults for all
future associations (jeremyevans)</p>
</li><li>
<p>Support :association_pks_nil association option in association_pks setter
for determining how to handle nil (jeremyevans)</p>
</li><li>
<p>Make association_pks setter handle empty array correctly when :delay_pks is
set (jeremyevans)</p>
</li><li>
<p>Add a setter method for one_through_one associations (jeremyevans)</p>
</li><li>
<p>Include :remarks entry in JDBC schema parsing output, containing comments
on the column (olleolleolle) (#1143)</p>
</li><li>
<p>Support :eager_reload and :eager options to associations in
tactical_eager_loading plugin (jeremyevans)</p>
</li><li>
<p>Make tactical_eager_loading not eager load if passing proc or block to
association method (jeremyevans)</p>
</li><li>
<p>Make eager_each plugin handle eager loading for Dataset#first and similar
methods (jeremyevans)</p>
</li></ul>

<h3 id="label-4.31.0+-282016-02-01-29">4.31.0 (2016-02-01)<span><a href="#label-4.31.0+-282016-02-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Convert types in association_pks setters before saving them, instead of
just before running queries (jeremyevans)</p>
</li><li>
<p>Use getField and getOID instead of field and oid in the jdbc/postgresql
adapter to work around JRuby 9.0.5.0 regression (jeremyevans) (#1137)</p>
</li><li>
<p>Support using PostgreSQL-specific types in bound variables in the
jdbc/postgresql adapter (jeremyevans)</p>
</li><li>
<p>Add support for running with enable-frozen-string-literal on ruby 2.3
(jeremyevans)</p>
</li><li>
<p>Make Database#disconnect in the oracle adapter work correctly on newer
versions of oci8 (jeremyevans)</p>
</li><li>
<p>Support parsing PostgreSQL arrays with explicit bounds (jeremyevans)
(#1131)</p>
</li><li>
<p>Raise an error if attempting to use a migration file not containing a
single migration (jeremyevans) (#1127)</p>
</li><li>
<p>Automatically set referenced key for self referential foriegn key
constraint for simple non-autoincrementing primary key on MySQL
(jeremyevans) (#1126)</p>
</li></ul>

<h3 id="label-4.30.0+-282016-01-04-29">4.30.0 (2016-01-04)<span><a href="#label-4.30.0+-282016-01-04-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add Dataset#insert_conflict and insert_ignore on SQLite for handling
uniqueness violations (Sharpie) (#1121)</p>
</li><li>
<p>Make Database#row_type in pg_row extension handle different formats of
schema-qualified types (jeremyevans) (#1119)</p>
</li><li>
<p>Add identifier_columns plugin for handling column names containing 2 or
more consecutive underscores when saving (jeremyevans) (#1117)</p>
</li><li>
<p>Support :eager_limit and :eager_limit_strategy dataset options in model
eager loaders for per-call limits and strategies (chanks) (#1115)</p>
</li><li>
<p>Allow IPv6 addresses in database URLs on ruby 1.9+ (hellvinz, jeremyevans)
(#1113)</p>
</li><li>
<p>Make Database#schema :db_type entries include sizes for string types on DB2
(jeremyevans)</p>
</li><li>
<p>Make Database#schema :db_type entries include sizes for string and decimal
types in the jdbc adapter&#39;s schema parsing (jeremyevans)</p>
</li><li>
<p>Recognize another disconnect error in the tinytds adapter (jeremyevans)</p>
</li></ul>

<h3 id="label-4.29.0+-282015-12-01-29">4.29.0 (2015-12-01)<span><a href="#label-4.29.0+-282015-12-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add Model#json_serializer_opts method to json_serializer plugin, allowing
for setting to_json defaults on per-instance basis (jeremyevans)</p>
</li><li>
<p>Add uuid plugin for automatically setting UUID column when creating a model
object (pdrakeweb, jeremyevans) (#1106)</p>
</li><li>
<p>Allow the sqlanywhere adapter to work with sharding (jeremyevans)</p>
</li><li>
<p>Support blobs as bound variables in the oracle adapter (jeremyevans)
(#1104)</p>
</li><li>
<p>Order by best results first when using the Database#full_text_search :rank
option on PostgreSQL (chanks) (#1101)</p>
</li><li>
<p>Run Database#table_exists? inside a savepoint if currently in a transaction
and the database supports savepoints (jeremyevans) (#1100)</p>
</li><li>
<p>Allow Database#transaction :retry_on option to work when using savepoints
(jeremyevans)</p>
</li><li>
<p>Allow for external adapters to implement Dataset#date_add_sql_append to
integrate with the date_arithmetic extension (jeremyevans)</p>
</li><li>
<p>Add Dataset#insert_empty_columns_values private method for easy overriding
for databases that don&#39;t support INSERT with DEFAULT VALUES
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.28.0+-282015-11-02-29">4.28.0 (2015-11-02)<span><a href="#label-4.28.0+-282015-11-02-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add boolean_subsets plugin, which adds a subset for each boolean column
(jeremyevans)</p>
</li><li>
<p>Add subset_conditions plugin, which adds a method for each subset returning
the filter conditions for the subset (jeremyevans)</p>
</li><li>
<p>Make the list plugin work better with the auto_validations plugin when
there is a validation on the position column (jeremyevans)</p>
</li><li>
<p>Make to_csv for model datasets call instance methods, just like
Model#to_csv, in the csv_serializer plugin (skrobul) (#1088)</p>
</li><li>
<p>Raise Sequel::NoExistingObject instead of generic error if Model#refresh
can&#39;t find the related row (jeremyevans)</p>
</li></ul>

<h3 id="label-4.27.0+-282015-10-01-29">4.27.0 (2015-10-01)<span><a href="#label-4.27.0+-282015-10-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Don&#39;t stub <a
href="../classes/Sequel.html#method-c-synchronize">Sequel.synchronize</a>
on MRI (YorickPeterse) (#1083)</p>
</li><li>
<p>Make bin/sequel warn if given arguments that it doesn&#39;t use
(jeremyevans)</p>
</li><li>
<p>Fix the order of referenced composite keys returned by
Database#foreign_key_list on PostgreSQL (jeremyevans) (#1081)</p>
</li><li>
<p>Recognize another disconnect error in the jdbc/postgresql adapter
(jeremyevans)</p>
</li><li>
<p>In the active model plugin, make Model#persisted? return false if the
transaction used for creation is rolled back (jeremyevans) (#1076)</p>
</li><li>
<p>Use primary_key :keep_order option in the schema dumper if the auto
incrementing column is not the first column in the table (jeremyevans)</p>
</li><li>
<p>Set :auto_increment option correctly in the schema parser when the auto
incrementing column is not the first column in the table (jeremyevans)</p>
</li><li>
<p>Support :keep_order option to primary_key in schema generator, to not
automatically make the primary key the first column (jeremyevans)</p>
</li><li>
<p>Add new jsonb/json functions and operators supported in PostgreSQL 9.5+
(jeremyevans)</p>
</li><li>
<p>Add before_after_save plugin, for refreshing created objects and resetting
modified flag before calling after_create/update/save hooks (jeremyevans)</p>
</li><li>
<p>Add Dataset#single_record! and single_value! which don&#39;t require
cloning the receiver (jeremyevans)</p>
</li><li>
<p>Dataset#with_sql_single_value now works correctly for model datasets
(jeremyevans)</p>
</li><li>
<p>Optimize Dataset#single_value and with_sql_single_value to not create an
unnecessary array (jeremyevans)</p>
</li><li>
<p>Make postgres adapter work with postgres-pr 0.7.0 (jeremyevans) (#1074)</p>
</li></ul>

<h3 id="label-4.26.0+-282015-09-01-29">4.26.0 (2015-09-01)<span><a href="#label-4.26.0+-282015-09-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make Dataset#== not consider frozen status in determining equality
(jeremyevans)</p>
</li><li>
<p>Support :if_exists option to drop_column on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Add Dataset#grouping_sets to support GROUP BY GROUPING SETS on PostgreSQL
9.5+, MSSQL 2008+, Oracle, DB2, and SQLAnywhere (jeremyevans)</p>
</li><li>
<p>Fix handling of Class.new(ModelClass){set_dataset :table} on ruby 1.8
(jeremyevans)</p>
</li><li>
<p>Use range function constructors instead of casts for known range types in
pg_range (jeremyevans) (#1066)</p>
</li><li>
<p>Make class_table_inheritance plugin work without sti_key (jeremyevans)</p>
</li><li>
<p>Detect additional disconnect errors when using the tinytds adapter
(jeremyevans)</p>
</li><li>
<p>Make offset emulation without order but with explicit selection handle
ambiguous column names (jeremyevans)</p>
</li><li>
<p>Allow preparing already prepared statements when emulating limits and/or
offsets (jeremyevans)</p>
</li><li>
<p>Have <a
href="../classes/Sequel/NoMatchingRow.html">Sequel::NoMatchingRow</a>
exceptions record the dataset related to the exception (pedro, jeremyevans)
(#1060)</p>
</li></ul>

<h3 id="label-4.25.0+-282015-08-01-29">4.25.0 (2015-08-01)<span><a href="#label-4.25.0+-282015-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add Dataset#insert_conflict on PostgreSQL 9.5+, for upsert/insert ignore
support using INSERT ON CONFLICT (jeremyevans)</p>
</li><li>
<p>Support Dataset#group_rollup and group_cube on PostgreSQL 9.5+
(jeremyevans)</p>
</li><li>
<p>Automatically REORG tables when altering when using jdbc/db2 (karlhe)
(#1054)</p>
</li><li>
<p>Recognize constraint violation exceptions on swift/sqlite (jeremyevans)</p>
</li><li>
<p>Recognize another check constraint violation exception message on SQLite
(jeremyevans)</p>
</li><li>
<p>Allow =~ and !~ to be used on ComplexExpressions (janko-m) (#1050)</p>
</li><li>
<p>Support case sensitive SQL Server 2012 in MSSQL metadata queries (knut2)
(#1049)</p>
</li><li>
<p>Add Dataset#group_append, for appending to the existing GROUP BY clause
(YorickPeterse) (#1047)</p>
</li><li>
<p>Add inverted_subsets plugin, for creating an inverted subset method for
each subset (celsworth) (#1042)</p>
</li><li>
<p>Make Dataset#for_update not use the :read_only database when the dataset is
executed (jeremyevans) (#1041)</p>
</li><li>
<p>Add singular_table_names plugin, for changing <a
href="../classes/Sequel.html">Sequel</a> to not pluralize table names by
default (jeremyevans)</p>
</li><li>
<p>PreparedStatement#prepare now raises an Error (jeremyevans)</p>
</li><li>
<p>Clear delayed association pks when refreshing an object (jeremyevans)</p>
</li><li>
<p>Add empty_array_consider_nulls extension to make <a
href="../classes/Sequel.html">Sequel</a> consider NULL values when using
IN/NOT IN with an empty array (jeremyevans)</p>
</li><li>
<p>Make <a href="../classes/Sequel.html">Sequel</a> default to ignoring NULL
values when using IN/NOT IN with an empty array (jeremyevans)</p>
</li><li>
<p>Remove the deprecated firebird and informix adapters (jeremyevans)</p>
</li><li>
<p>Make :collate option when creating columns literalize non-String values on
PostgreSQL (jeremyevans) (#1040)</p>
</li><li>
<p>Make dirty plugin notice when serialized column is changed (celsworth)
(#1039)</p>
</li><li>
<p>Allow prepared statements to use RETURNING (jeremyevans) (#1036)</p>
</li></ul>

<h3 id="label-4.24.0+-282015-07-01-29">4.24.0 (2015-07-01)<span><a href="#label-4.24.0+-282015-07-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Allow class_table_inheritance plugin to support subclasses that don&#39;t
add additional columns (QuinnHarris, jeremyevans) (#1030)</p>
</li><li>
<p>Add :columns option to update_refresh plugin, specifying the columns to
include in the RETURNING clause (celsworth) (#1029)</p>
</li><li>
<p>Use column symbol key for auto validation unique errors if the unique index
is on a single column (jeremyevans)</p>
</li><li>
<p>Allow :timeout option to Database#listen in the postgres adapter to be a
callable object (celsworth) (#1028)</p>
</li><li>
<p>Add pg_inet_ops extension, for DSL support for PostgreSQL inet/cidr
operators and functions (celsworth, jeremyevans) (#1024)</p>
</li><li>
<p>Support :*_opts options in auto_validations plugin, for setting options for
the underlying validation methods (celsworth, jeremyevans) (#1026)</p>
</li><li>
<p>Support :delay_pks association option in association_pks to delay setting
of associated_pks until after saving (jeremyevans)</p>
</li><li>
<p>Make jdbc subadapters work if they issue queries while the subadapter is
being loaded (jeremyevans) (#1022)</p>
</li><li>
<p>Handle 64-bit auto incrementing primary keys in jdbc subadapters
(DougEverly) (#1018, #1019)</p>
</li><li>
<p>Remove the deprecated db2 and dbi adapters (jeremyevans)</p>
</li><li>
<p>Make auto_validation plugin use :from=&gt;:values option to setup
validations on the underlying columns (jeremyevans)</p>
</li><li>
<p>Add :from=&gt;:values option to validation_helpers methods, for getting
values from the values hash instead of a method call (jeremyevans)</p>
</li></ul>

<h3 id="label-4.23.0+-282015-06-01-29">4.23.0 (2015-06-01)<span><a href="#label-4.23.0+-282015-06-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make dataset.call_sproc(:insert) work in the jdbc adapter (flash-gordon)
(#1013)</p>
</li><li>
<p>Add update_refresh plugin, for refreshing a model instance when updating
(jeremyevans)</p>
</li><li>
<p>Add delay_add_association plugin, for delaying add_* method calls on new
objects until after saving the object (jeremyevans)</p>
</li><li>
<p>Add validate_associated plugin, for validating associated objects when
validating the current object (jeremyevans)</p>
</li><li>
<p>Make Postgres::JSONBOp#[] and get_text return JSONBOp instances
(jeremyevans) (#1005)</p>
</li><li>
<p>Remove the fdbsql, jdbc/fdbsql, and openbase adapters (jeremyevans)</p>
</li><li>
<p>Database#transaction now returns block return value if
:rollback=&gt;:always is used (jeremyevans)</p>
</li><li>
<p>Allow postgresql:// connection strings as aliases to postgres://, for
compatibility with libpq (jeremyevans) (#1004)</p>
</li><li>
<p>Make Model#move_to in the list plugin handle out-of-range targets without
raising an exception (jeremyevans) (#1003)</p>
</li><li>
<p>Make Database#add_named_conversion_proc on PostgreSQL handle conversion
procs for enum types (celsworth) (#1002)</p>
</li></ul>

<h3 id="label-4.22.0+-282015-05-01-29">4.22.0 (2015-05-01)<span><a href="#label-4.22.0+-282015-05-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Deprecate the db2, dbi, fdbsql, firebird, jdbc/fdbsql, informix, and
openbase adapters (jeremyevans)</p>
</li><li>
<p>Avoid hash allocations and rehashes (jeremyevans)</p>
</li><li>
<p>Don&#39;t silently ignore :jdbc_properties Database option in jdbc adapter
(jeremyevans)</p>
</li><li>
<p>Make tree plugin set reciprocal association for children association
correctly (lpil, jeremyevans) (#995)</p>
</li><li>
<p>Add Sequel::MassAssignmentRestriction exception, raised for mass assignment
errors in strict mode (jeremyevans) (#994)</p>
</li><li>
<p>Handle ODBC::SQL_BIT type as boolean in the odbc adapter, fixing boolean
handling on odbc/mssql (jrgns) (#993)</p>
</li><li>
<p>Make :auto_validations plugin check :default entry instead of :ruby_default
entry for checking existence of default value (jeremyevans) (#990)</p>
</li><li>
<p>Adapters should now set :default schema option to nil when adapter can
determine that the value is nil (jeremyevans)</p>
</li><li>
<p>Do not add a schema :max_length entry for a varchar(max) column on MSSQL
(jeremyevans)</p>
</li><li>
<p>Allow :default value for PostgreSQL array columns to be a ruby array when
using the pg_array extension (jeremyevans) (#989)</p>
</li><li>
<p>Add csv_serializer plugin for serializing model objects to and from csv
(bjmllr, jeremyevans) (#988)</p>
</li><li>
<p>Make Dataset#to_hash and to_hash_groups handle single array argument for
model datasets (jeremyevans)</p>
</li><li>
<p>Handle Model#cancel_action in association before hooks (jeremyevans)</p>
</li><li>
<p>Use a condition variable instead of busy waiting in the threaded connection
pools on ruby 1.9+ (jeremyevans)</p>
</li><li>
<p>Use Symbol#to_proc instead of explicit blocks (jeremyevans)</p>
</li></ul>

<h3 id="label-4.21.0+-282015-04-01-29">4.21.0 (2015-04-01)<span><a href="#label-4.21.0+-282015-04-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support :tsquery and :tsvector options in Dataset#full_text_search on
PostgreSQL, for using existing tsquery/tsvector expressions (jeremyevans)</p>
</li><li>
<p>Fix TinyTds::Error being raised when trying to cancel a query on a closed
connection in the tinytds adapter (jeremyevans)</p>
</li><li>
<p>Add GenericExpression#!~ for inverting =~ on ruby 1.9 (similar to inverting
a hash) (jeremyevans) (#979)</p>
</li><li>
<p>Add GenericExpression#=~ for equality, inclusion, and pattern matching
(similar to using a hash) (jeremyevans) (#979)</p>
</li><li>
<p>Add Database#add_named_conversion_proc on PostgreSQL to make it easier to
add conversion procs for types by name (jeremyevans)</p>
</li><li>
<p>Make Sequel.pg_jsonb return JSONBOp instances instead of JSONOp instances
when passed other than Array or Hash (jeremyevans) (#977)</p>
</li><li>
<p>Demodulize default root name in json_serializer plugin (janko-m) (#968)</p>
</li><li>
<p>Make Database#transaction work in after_commit/after_rollback blocks
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.20.0+-282015-03-03-29">4.20.0 (2015-03-03)<span><a href="#label-4.20.0+-282015-03-03-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Restore the use of AUTOINCREMENT on SQLite (jeremyevans) (#965)</p>
</li><li>
<p>Duplicate the associations hash when duplicating a model object
(jeremyevans)</p>
</li><li>
<p>Correctly apply association limit when eager loading with an eager block
using default limit strategy on some databases (jeremyevans)</p>
</li><li>
<p>Fix eager loading when using the :window_function limit strategy with an
eager block and cascaded associations (jeremyevans)</p>
</li><li>
<p>Add support for set_column_type :auto_increment=&gt;true to add
AUTO_INCREMENT to existing column on MySQL (jeremyevans) (#959)</p>
</li><li>
<p>Add support for overridding the :instance_specific association option
(jeremyevans)</p>
</li><li>
<p>Recognize MSSQL bit type as boolean in the schema_dumper (jeremyevans)</p>
</li><li>
<p>Skip eager loading queries if there are no matching keys (jeremyevans)
(#952)</p>
</li><li>
<p>Dataset#paged_each now returns an enumerator if not passed a block
(jeremyevans)</p>
</li><li>
<p>Use to_json :root option with string value as the JSON object key in the
json_serializer plugin (jeremyevans)</p>
</li><li>
<p>Allow create_enum in the pg_enum extension be reversible in migrations
(celsworth) (#951)</p>
</li><li>
<p>Have swift adapter respect database and application timezone settings
(asppsa, jeremyevans) (#946)</p>
</li><li>
<p>Don&#39;t have the static cache plugin attempt to validate objects
(jeremyevans)</p>
</li><li>
<p>Make freeze not validate objects if their errors are already frozen
(jeremyevans)</p>
</li><li>
<p>Only use prepared statements for associations if caching association
metadata (jeremyevans)</p>
</li><li>
<p>Set parent association when loading descendants in the rcte_tree plugin
(jeremyevans)</p>
</li><li>
<p>Add Database#transaction :before_retry option, specifying a proc to call
before retrying (uhoh-itsmaciek) (#941)</p>
</li></ul>

<h3 id="label-4.19.0+-282015-02-01-29">4.19.0 (2015-02-01)<span><a href="#label-4.19.0+-282015-02-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make jdbc/sqlanywhere correctly set :auto_increment entry in schema hashes
(jeremyevans)</p>
</li><li>
<p>Add Model#cancel_action for canceling actions in before hooks, instead of
having the hooks return false (jeremyevans)</p>
</li><li>
<p>Support not setting @@wait_timeout on MySQL via :timeout=&gt;nil Database
option (jeremyevans)</p>
</li><li>
<p>Add accessed_columns plugin, recording which columns have been accessed for
a model instance (jeremyevans)</p>
</li><li>
<p>Use correct migration version when using IntegerMigrator with
:allow_missing_migration_files (blerins) (#938)</p>
</li><li>
<p>Make Dataset#union, intersect, and except automatically handle datasets
with raw SQL (jeremyevans) (#934)</p>
</li><li>
<p>Add column_conflicts plugin to automatically handle columns that conflict
with method names (jeremyevans) (#929)</p>
</li><li>
<p>Add Model#get_column_value and set_column_value to get/set column values
(jeremyevans) (#929)</p>
</li></ul>

<h3 id="label-4.18.0+-282015-01-02-29">4.18.0 (2015-01-02)<span><a href="#label-4.18.0+-282015-01-02-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make Dataset#empty? work when the dataset is ordered by a non-column
expression (pete) (#923)</p>
</li><li>
<p>Fix passing a hash value to :eager association option (jeremyevans)</p>
</li><li>
<p>Treat all PG::ConnectionBad exceptions as disconnect errors in the postgres
adapter (jeremyevans)</p>
</li><li>
<p>Add :auto_increment key to schema information for primary key columns
(jeremyevans) (#919)</p>
</li><li>
<p>Fix handling of schema qualified tables in many_through_many associations
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.17.0+-282014-12-01-29">4.17.0 (2014-12-01)<span><a href="#label-4.17.0+-282014-12-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Fix handling of <a
href="../classes/Sequel/SQL/Blob.html">Sequel::SQL::Blob</a> instances in
bound variables in the postgres adapter (jeremyevans) (#917)</p>
</li><li>
<p>Add :preconnect Database option for immediately creating the maximum number
of connections (jeremyevans)</p>
</li><li>
<p>Support DB.pool.max_size for the single connection pools (jeremyevans)</p>
</li><li>
<p>Work around regression in jdbc-sqlite3 3.8.7 where empty blobs are returned
as nil (jeremyevans)</p>
</li><li>
<p>Work around regression in jdbc-sqlite3 3.8.7 when using JDBC getDate method
for date parsing (jeremyevans)</p>
</li><li>
<p>Make Model#update_or_create return object if existing object exists but
updates are not necessary (contentfree) (#916)</p>
</li><li>
<p>Add Dataset#server? for conditionally setting a default server to use if no
default is present (jeremyevans)</p>
</li><li>
<p>Add Database#sharded? for determining if database uses sharding
(jeremyevans)</p>
</li><li>
<p>Fix server used by Dataset#insert_select on PostgreSQL (jeremyevans)</p>
</li><li>
<p>Fix server used for deleting model instances when using sharding
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.16.0+-282014-11-01-29">4.16.0 (2014-11-01)<span><a href="#label-4.16.0+-282014-11-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make Database#create_table? and create_join_table? not use IF NOT EXISTS if
indexes are being added (jeremyevans) (#904)</p>
</li><li>
<p>Dataset#distinct now accepts virtual row blocks (chanks) (#901)</p>
</li><li>
<p>Recognize disconnect errors in the postgres adapter when SSL is used
(jeremyevans) (#900)</p>
</li><li>
<p>Stop converting &#39;&#39; default values to nil default values on MySQL
(jeremyevans)</p>
</li><li>
<p>Add Model#qualified_pk_hash, for returning a hash with qualified pk keys
(jeremyevans)</p>
</li><li>
<p>Make validates_unique use a qualified primary key if the dataset is joined
(jeremyevans) (#895)</p>
</li><li>
<p>Make Sequel::Model.cache_associations = false skip the database&#39;s
schema cache when loading the schema (jeremyevans)</p>
</li><li>
<p>Make Database#foreign_key_list work on Microsoft SQL Server 2005
(jeremyevans)</p>
</li><li>
<p>Make create_table with :foreign option reversible on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>Make drop_table with :foreign option on PostgreSQL drop a foreign table
(johnnyt) (#892)</p>
</li></ul>

<h3 id="label-4.15.0+-282014-10-01-29">4.15.0 (2014-10-01)<span><a href="#label-4.15.0+-282014-10-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make AssociationReflection#reciprocal not raise error if associated class
contains association with invalid associated class (jeremyevans)</p>
</li><li>
<p>Make create_view(:view_name, dataset, :materialized=&gt;true) reversible on
PostgreSQL (jeremyevans)</p>
</li><li>
<p>Add support for creating foreign tables on PostgreSQL using :foreign and
:options create_table options (jeremyevans)</p>
</li><li>
<p>Raise Error if a primary key is necessary to use an association, but the
model doesn&#39;t have a primary key (jeremyevans)</p>
</li><li>
<p>Make tactical_eager_loading plugin work for limited associations
(jeremyevans)</p>
</li><li>
<p>Add PlaceholderLiteralizer#with_dataset, for returning a new literalizer
using a modified dataset (jeremyevans)</p>
</li><li>
<p>Support active_model 4.2.0beta1 in the active_model plugin (jeremyevans)</p>
</li><li>
<p>Make Dataset#insert in the informix adapter return last inserted id
(jihwans) (#887)</p>
</li><li>
<p>Support :nolog option in the informix adapter to disable transactions
(jihwans) (#887)</p>
</li><li>
<p>Remove optional argument for Postgres::{JSON,JSONB}Op#to_record and
to_recordset (jeremyevans)</p>
</li><li>
<p>Add support for FoundationDB SQL Layer, via fdbsql and jdbc/fdbsql adapters
(ScottDugas, jeremyevans) (#884)</p>
</li><li>
<p>Work around bug in old versions of MySQL when schema dumping a table with
multiple timestamp columns (jeremyevans) (#882)</p>
</li><li>
<p>Support more array types by default in the pg_array extension, such as
xml[] and uuid[] (jeremyevans)</p>
</li><li>
<p>Add Sequel::Model.cache_associations accessor, which can be set to false to
not cache association metadata (jeremyevans)</p>
</li><li>
<p>Add split_values plugin, for moving noncolumn entries from the values hash
into a separate hash (jeremyevans) (#868)</p>
</li></ul>

<h3 id="label-4.14.0+-282014-09-01-29">4.14.0 (2014-09-01)<span><a href="#label-4.14.0+-282014-09-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Raise original exception if there is an exception raised when rolling back
transaction/savepoint (jeremyevans) (#875)</p>
</li><li>
<p>Allow delayed evaluation blocks to take dataset as an argument
(jeremyevans)</p>
</li><li>
<p>Allow more types as filter expressions, only specifically disallow
Numeric/String expressions (jeremyevans)</p>
</li><li>
<p>Remove objects from cached association array at time of nested_attributes
call instead of waiting until save (jeremyevans)</p>
</li><li>
<p>Handle composite primary keys when working around validation issues for
one_to_(one|many) associations in nested_attributes plugin (jeremyevans)
(#870)</p>
</li><li>
<p>Recognize additional disconnect error in jdbc/jtds adapter (jeremyevans)</p>
</li><li>
<p>Have association_join work with existing model selections (jeremyevans)</p>
</li><li>
<p>Fix regression in class_table_inheritance plugin when lazily loading column
in middle table (jeremyevans) (#862)</p>
</li><li>
<p>Add cache_key_prefix method to caching plugin, which can be overridden for
custom handling (pete) (#861)</p>
</li><li>
<p>Add :when option to PostgreSQL create_trigger method, for adding a filter
to the trigger (aschrab) (#860)</p>
</li><li>
<p>Recognize an additional serialization failure on PostgreSQL (tmtm) (#857)</p>
</li></ul>

<h3 id="label-4.13.0+-282014-08-01-29">4.13.0 (2014-08-01)<span><a href="#label-4.13.0+-282014-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Use copy constructors instead of overriding Model#dup and clone (ged,
jeremyevans) (#852)</p>
</li><li>
<p>Fix handling of MySQL create_table foreign_key calls using :key option
(mimperatore, jeremyevans) (#850)</p>
</li><li>
<p>Handle another disconnection error in the postgres adapter (lbosque) (#848)</p>
</li><li>
<p>Make list plugin update remaining positions after destroying an instance
(ehq, jeremyevans) (#847)</p>
</li><li>
<p>Unalias aliased tables in Dataset#insert (jeremyevans)</p>
</li><li>
<p>Add insert_returning_select plugin, for setting up RETURNING for inserts
for models selecting explicit columns (jeremyevans)</p>
</li><li>
<p>Make Model#save use insert_select if the dataset used for inserting already
uses returning (jeremyevans)</p>
</li><li>
<p>Add Dataset#unqualified_column_for helper method, returning unqualified
version of possibly qualified column (jeremyevans)</p>
</li><li>
<p>Calling Dataset#returning when the Database does not support or emulate
RETURNING now raises an Error (jeremyevans)</p>
</li><li>
<p>Emulate RETURNING on Microsoft SQL Server using OUTPUT, as long as only
simple column references are used (jeremyevans)</p>
</li><li>
<p>Switch class_table_inheritance plugin to use JOIN ON instead of JOIN USING
(jeremyevans)</p>
</li><li>
<p>Qualify primary keys for models with joined datasets when looking up model
instances by primary key (jeremyevans)</p>
</li><li>
<p>Fix qualification of columns when Dataset#graph automatically wraps the
initially graphed dataset in a subselect (jeremyevans)</p>
</li><li>
<p>Make Dataset#joined_dataset? a public method (jeremyevans)</p>
</li><li>
<p>Allow external jdbc, odbc, and do subadapters to be loaded automatically
(jeremyevans)</p>
</li><li>
<p>Recognize another disconnect error in the jdbc/mysql adapter (jeremyevans)</p>
</li><li>
<p>Set primary keys correctly for models even if datasets select specific
columns (jeremyevans)</p>
</li><li>
<p>Add dataset_source_alias extension, for automatically aliasing datasets to
their first source (jeremyevans)</p>
</li><li>
<p>Use qualified columns in the lazy_attributes plugin (jeremyevans)</p>
</li><li>
<p>Add column_select plugin, for using explicit column selections in model
datasets (jeremyevans)</p>
</li><li>
<p>Use associated model&#39;s existing selection for join associations if it
consists solely of explicitly quailfied columns (jeremyevans)</p>
</li><li>
<p>Add round_timestamps extension for automatically rounding timestamp values
to database precision before literalizing (jeremyevans)</p>
</li><li>
<p>Make rake default task run plugin specs as well as core/model specs
(jeremyevans)</p>
</li><li>
<p>Use all_tables and all_views for Database#tables and views on Oracle
(jeremyevans)</p>
</li><li>
<p>Use all_tab_cols instead of user_tab cols for defaults parsing in the
oracle adapter (jeremyevans)</p>
</li><li>
<p>Fix recursive mutex locking issue on JRuby when using
Sequel::Model(dataset) (jeremyevans) (#841)</p>
</li><li>
<p>Make composition and serialization plugins support validations on
underlying columns (jeremyevans)</p>
</li><li>
<p>Fix regression in timestamps and table inheritance plugin where column
values would not be saved if validation is skipped (jeremyevans) (#839)</p>
</li><li>
<p>Add pg_enum extension, for dealing with PostgreSQL enums (jeremyevans)</p>
</li><li>
<p>Add modification_detection plugin, for automatic detection of in-place
column value modifications (jeremyevans)</p>
</li><li>
<p>Speed up using plain strings, numbers, true, false, and nil in json columns
if underlying json library supports them (jeremyevans) (#834)</p>
</li></ul>

<h3 id="label-4.12.0+-282014-07-01-29">4.12.0 (2014-07-01)<span><a href="#label-4.12.0+-282014-07-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support :readonly Database option in sqlite adapter (ippeiukai,
jeremyevans) (#832)</p>
</li><li>
<p>Automatically setup max_length validations for string columns in the
auto_validations plugin (jeremyevans)</p>
</li><li>
<p>Add :max_length entry to column schema hashes for string types
(jeremyevans)</p>
</li><li>
<p>Add :before_thread_exit option to Database#listen_for_static_cache_updates
in pg_static_cache_updater extension (jeremyevans)</p>
</li><li>
<p>Add Database#values on PostgreSQL to create a dataset that uses VALUES
instead of SELECT (jeremyevans)</p>
</li><li>
<p>Add Model#set_nested_attributes to nested_attributes, allowing setting
nested attributes options per-call (jeremyevans)</p>
</li><li>
<p>Use explicit columns when using automatically prepared SELECT statements in
the prepared statement plugins (jeremyevans)</p>
</li><li>
<p>Make Dataset#insert_select on PostgreSQL respect existing RETURNING clause
(jeremyevans)</p>
</li><li>
<p>Fix eager loading limited associations via a UNION when an association
block is used (jeremyevans)</p>
</li><li>
<p>Associate reciprocal object before saving associated object when creating
new objects in nested_attributes (chanks, jeremyevans) (#831)</p>
</li><li>
<p>Handle intervals containing more than 100 hours in the pg_interval
extension&#39;s parser (will) (#827)</p>
</li><li>
<p>Remove methods/class deprecated in 4.11.0 (jeremyevans)</p>
</li><li>
<p>Allow Dataset#natural_join/cross_join and related methods to take a options
hash passed to join_table (jeremyevans)</p>
</li><li>
<p>Add :reset_implicit_qualifier option to Dataset#join_table, to set false to
not reset the implicit qualifier (jeremyevans)</p>
</li><li>
<p>Support :notice_receiver Database option when postgres adapter is used with
pg driver (jeltz, jeremyevans) (#825)</p>
</li></ul>

<h3 id="label-4.11.0+-282014-06-03-29">4.11.0 (2014-06-03)<span><a href="#label-4.11.0+-282014-06-03-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add :model_map option to class_table_inheritance plugin so class names
don&#39;t need to be stored in the database (jeremyevans)</p>
</li><li>
<p>Set version when using for MySQL/SQLite emulation in the mock adapter
(jeremyevans)</p>
</li><li>
<p>Add support for CUBRID/SQLAnywhere emulation to the mock adapter
(jeremyevans)</p>
</li><li>
<p>Add support for the jsonb operators added in PostgreSQL 9.4 to the
pg_json_ops extension (jeremyevans)</p>
</li><li>
<p>Add support for new json/jsonb functions added in PostgreSQL 9.4 to the
pg_json_ops extension (jeremyevans)</p>
</li><li>
<p>Add support for the PostgreSQL 9.4+ jsonb type to the pg_json_ops extension
(jeremyevans)</p>
</li><li>
<p>Add support for derived column lists to Sequel.as and SQL::AliasMethods#as
(jeremyevans)</p>
</li><li>
<p>Support connecting to a DB2 catalog name in the ibmdb adapter (calh) (#821)</p>
</li><li>
<p>Fix warnings in some cases in the ibmdb adapter (calh) (#820)</p>
</li><li>
<p>Add SQL::Function#with_ordinality for creating set returning functions WITH
ORDINALITY (jeremyevans)</p>
</li><li>
<p>Add SQL::Function#filter for creating filtered aggregate function calls
(jeremyevans)</p>
</li><li>
<p>Add SQL::Function#within_group for creating ordered-set and
hypothetical-set aggregate functions (jeremyevans)</p>
</li><li>
<p>Add SQL::Function#lateral, for creating set returning functions that will
be preceded by LATERAL (jeremyevans)</p>
</li><li>
<p>Add SQL::Function#quoted and unquoted methods, to enable/disable quoting of
function names (jeremyevans)</p>
</li><li>
<p>Deprecate Dataset#{window,emulated,}_function_sql_append (jeremyevans)</p>
</li><li>
<p>Deprecate SQL::WindowFunction and SQL::EmulatedFunction classes, switch to
using options on SQL::Function (jeremyevans)</p>
</li><li>
<p>Only modify changed_columns if deserialized value changes in the
serialization plugin (jeremyevans) (#818)</p>
</li><li>
<p>Support PostgreSQL 9.4+ jsonb type in the pg_json extension (jeremyevans)</p>
</li><li>
<p>Allow Postgres::ArrayOp#unnest to accept arguments in the pg_array_ops
extension (jeremyevans)</p>
</li><li>
<p>Add Postgres::ArrayOp#cardinality to the pg_array_ops extension
(jeremyevans)</p>
</li><li>
<p>Add :check option to Database#create_view for WITH [LOCAL] CHECK OPTION
support (jeremyevans)</p>
</li><li>
<p>Add :concurrently option to Database#refresh_view on PostgreSQL to support
concurrent refresh of materialized views (jeremyevans)</p>
</li><li>
<p>Call the :after_connect Database option proc with both the connection and
server/shard if it accepts 2 arguments (pedro, jeremyevans) (#813)</p>
</li><li>
<p>Make multiple plugins set values before validation instead of before
create, works better with auto_validations (jeremyevans)</p>
</li><li>
<p>Support a default Dataset#import slice size, set to 500 on SQLite
(jeremyevans) (#810)</p>
</li><li>
<p>Make :read_only transaction option be per-savepoint on PostgreSQL
(jeremyevans) (#807)</p>
</li><li>
<p>Add :rank option to Dataset#full_text_search on PostgreSQL, to order by the
ranking (jeremyevans) (#809)</p>
</li><li>
<p>Remove methods deprecated in 4.10.0 (jeremyevans)</p>
</li></ul>

<h3 id="label-4.10.0+-282014-05-01-29">4.10.0 (2014-05-01)<span><a href="#label-4.10.0+-282014-05-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make Model.include API same as Module.include (ged) (#803)</p>
</li><li>
<p>Dataset::PlaceholderLiteralizer now handles DelayedEvaluations correctly
(jeremyevans)</p>
</li><li>
<p>Refactor type conversion in the jdbc adapter, for up to a 20% speedup
(jeremyevans)</p>
</li><li>
<p>Add Dataset#with_fetch_size to jdbc adapter, for setting fetch size for
JDBC ResultSets (jeremyevans)</p>
</li><li>
<p>Default to a fetch_size of 100 in the jdbc/oracle adapter, similar to the
oci8-based oracle adapter (jeremyevans)</p>
</li><li>
<p>Add Database#fetch_size accessor and :fetch_size option to jdbc adapter,
for setting JDBC Statement fetch size (jeremyevans)</p>
</li><li>
<p>Automatically determine array type in pg_array_associations plugin,
explicitly cast arrays in more places (jeremyevans, maccman) (#800)</p>
</li><li>
<p>Speed up Dataset#literal for symbols 60% by caching results, speeding up
dataset literalization up to 40% or more (jeremyevans)</p>
</li><li>
<p>Speed up <a
href="../classes/Sequel.html#method-c-split_symbol">Sequel.split_symbol</a>
10-20x by caching results, speeding up dataset literalization up to 80% or
more (jeremyevans)</p>
</li><li>
<p>Speed up dataset literalization for simple datasets by up to 100%
(jeremyevans)</p>
</li><li>
<p>Support :fractional_seconds Database option on MySQL 5.6.5+ to support
fractional seconds by default (jeremyevans) (#797)</p>
</li><li>
<p>Work around MySQL 5.6+ bug when combining DROP FOREIGN KEY and DROP INDEX
in same ALTER TABLE statement (jeremyevans)</p>
</li><li>
<p>Make auto_validations plugin handle models that select from subqueries
(jeremyevans)</p>
</li><li>
<p>Recognize additional disconnect errors in the postgres adapter
(jeremyevans)</p>
</li><li>
<p>Make import/multi_insert insert multiple rows in a single query using a
UNION on Oracle, DB2, and Firebird (jeremyevans)</p>
</li><li>
<p>Speed up association_pks many_to_many setter method by using Dataset#import
(jeremyevans)</p>
</li><li>
<p>Add Model.prepared_finder, similar to .finder but using a prepared
statement (jeremyevans)</p>
</li><li>
<p>Model.def_{add_method,association_dataset_methods,remove_methods} are now
deprecated (jeremyevans)</p>
</li><li>
<p>Model.eager_loading_dataset and Model.apply_association_dataset_opts are
now deprecated (jeremyevans)</p>
</li><li>
<p>Make prepared_statement_associations plugin handle one_through_one and
one_through_many associations (jeremyevans)</p>
</li><li>
<p>Use placeholder literalizer for regular association loading for up to 85%
speedup (jeremyevans)</p>
</li><li>
<p>Use placeholder literalizer for eager association loading for up to 20%
speedup (jeremyevans)</p>
</li><li>
<p>Make Model#marshallable! work correctly when using the
tactical_eager_loading plugin (jeremyevans)</p>
</li><li>
<p>Respect :foreign_key_constraint_name option when adding columns to existing
table on MySQL (noah256) (#795)</p>
</li><li>
<p>AssociationReflection#association_dataset now handles joining tables if
necessary (jeremyevans)</p>
</li><li>
<p>Support drop_view :if_exists option on SQLite, MySQL, H2, and HSQLDB
(jeremyevans) (#793)</p>
</li><li>
<p>Support drop_table :if_exists option on HSQLDB (jeremyevans)</p>
</li><li>
<p>Add Database#transaction :auto_savepoint option, for automatically using a
savepoint in nested transactions (jeremyevans)</p>
</li><li>
<p>Add :server_version Database option on Microsoft SQL Server, instead of
querying the database for it (jeremyevans)</p>
</li><li>
<p>Support :correlated_subquery as an eager_graph and filter by associations
limit strategy for one_to_* associations (jeremyevans)</p>
</li><li>
<p>Support named paramters in call_mssql_sproc on Microsoft SQL Server
(y.zemlyanukhin, jeremyevans) (#792)</p>
</li><li>
<p>Handle placeholder literalizer arguments when emulating offsets
(jeremyevans)</p>
</li><li>
<p>Don&#39;t attempt to emulate offsets if the dataset uses literal SQL
(jeremyevans)</p>
</li><li>
<p>Use a UNION-based strategy by default to eagerly load limited associations
(jeremyevans)</p>
</li><li>
<p>Support offsets without limits on MySQL, SQLite, H2, SQLAnywhere and CUBRID
(jeremyevans)</p>
</li><li>
<p>Remove the install/uninstall rake tasks (jeremyevans)</p>
</li><li>
<p>Use INSERT VALUES with multiple rows for Dataset#import and multi_insert on
more databases (jeremyevans)</p>
</li><li>
<p>Support common table expressions (WITH clause) on SQLite &gt;=3.8.3
(jeremyevans)</p>
</li></ul>

<h3 id="label-4.9.0+-282014-04-01-29">4.9.0 (2014-04-01)<span><a href="#label-4.9.0+-282014-04-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Recognize CHECK constraint violations on newer versions of SQLite
(jeremyevans)</p>
</li><li>
<p>Do not attempt to eager load when calling Dataset#columns in the eager_each
plugin (jeremyevans)</p>
</li><li>
<p>Support :driver option for jdbc adapter, for specifying driver class for
cases where getConnection doesn&#39;t work (jeremyevans) (#785)</p>
</li><li>
<p>Massive speedup for PostgreSQL array parser (jeremyevans) (#788)</p>
</li><li>
<p>Add current_datetime_timestamp extension, for current Time/DateTime
instances that are literalized as CURRENT_TIMESTAMP (jeremyevans)</p>
</li><li>
<p>Recognize additional unique constraint violations on SQLite (jeremyevans)
(#782)</p>
</li><li>
<p>Don&#39;t remove column value when validating nested attributes for
one_to_* association where association foreign key is the model&#39;s
primary key (jeremyevans)</p>
</li><li>
<p>Add Dataset#disable_insert_returning on PostgreSQL for skipping implicit
use of RETURNING (jeremyevans)</p>
</li><li>
<p>Automatically optimize Model.[], .with_pk, and .with_pk! for models with
composite keys (jeremyevans)</p>
</li><li>
<p>Automatically optimize Model.[] when called with a hash (jeremyevans)</p>
</li><li>
<p>Automatically optimize Model.find, .first, and .first! when called with a
single argument (jeremyevans)</p>
</li><li>
<p>Add Model.finder for creating optimized finder methods using
Dataset::PlaceholderLiteralizer (jeremyevans)</p>
</li><li>
<p>Add Dataset::PlaceholderLiteralizer optimization framework (jeremyevans)</p>
</li><li>
<p>Add Dataset#with_sql_{each,all,first,single_value,insert,update} optimized
methods (jeremyevans)</p>
</li><li>
<p>Make pg_array extension use correct type when typecasting column values for
smallint, oid, real, character, and varchar arrays (jeremyevans)</p>
</li><li>
<p>Make Database#column_schema_to_ruby_default a public method in the
schema_dumper extension (jeremyevans) (#776)</p>
</li><li>
<p>Fix multiple corner cases in the eager_graph support (jeremyevans) (#771)</p>
</li><li>
<p>Use streaming to implement paging for Dataset#paged_each in the mysql2
adapter (jeremyevans)</p>
</li><li>
<p>Use a cursor to implement paging for Dataset#paged_each in the postgres
adapter (jeremyevans)</p>
</li><li>
<p>Add Database#create_join_table? and create_join_table! for consistency
(jeremyevans)</p>
</li><li>
<p>Add Dataset#where_current_of to the postgres adapter for supporting
updating rows based on a cursor&#39;s current position (jeremyevans)</p>
</li><li>
<p>Add Dataset#use_cursor :hold option in the postgres adapter for supporting
cursor use outside of a transaction (jeremyevans)</p>
</li><li>
<p>Add Dataset#paged_each :strategy=&gt;:filter option for increased
performance (jeremyevans)</p>
</li></ul>

<h3 id="label-4.8.0+-282014-03-01-29">4.8.0 (2014-03-01)<span><a href="#label-4.8.0+-282014-03-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add SQL::AliasedExpression#alias alias for aliaz (jeremyevans)</p>
</li><li>
<p>Handle SQL::Identifier, SQL::QualifiedIdentifier, and
SQL::AliasedExpression objects as first argument to Dataset#graph
(jeremyevans)</p>
</li><li>
<p>Respect qualification and aliases in symbols passed as first argument to
Dataset#graph (dividedmind) (#769)</p>
</li><li>
<p>Recognize new constraint violation error messages in SQLite 3.8.2+
(itswindtw) (#766)</p>
</li><li>
<p>Use limit strategy to correctly handle limited associations in the
dataset_associations plugin (jeremyevans)</p>
</li><li>
<p>Handle issues in dataset_associations plugin when dataset uses unqualified
identifiers for associations requiring joins (jeremyevans)</p>
</li><li>
<p>Handle fractional seconds in input timestamps in the odbc/mssql adapter
(Ross Attrill, jeremyevans)</p>
</li><li>
<p>Return fractional seconds in timestamps in the odbc adapter (jeremyevans)</p>
</li><li>
<p>Support :plain and :phrase options to Dataset#full_text_search on
PostgreSQL (jeremyevans)</p>
</li><li>
<p>Use limit strategy to correctly handle filtering by limited associations
(jeremyevans)</p>
</li><li>
<p>Simplify queries used for filtering by associations with conditions
(jeremyevans)</p>
</li><li>
<p>Use an eager limit strategy by default for *_one associations with orders
(jeremyevans)</p>
</li><li>
<p>Support :limit_strategy eager_graph option, for specifying strategy used
for limited associations in that eager graph (jeremyevans)</p>
</li><li>
<p>Add eager_graph_with_options to model datasets, for specifying options
specific to the eager_graph call (jeremyevans)</p>
</li><li>
<p>Handle offsets on *_many associations when eager graphing when there are no
associated results (jeremyevans)</p>
</li><li>
<p>Make Database#register_array_type work without existing scalar conversion
proc in the pg_array extension (jeremyevans)</p>
</li><li>
<p>Handle presence validations on foreign keys in associated objects when
creating new associated objects in the nested_attributes plugin
(jeremyevans)</p>
</li><li>
<p>Respect offsets when eager graphing *_one associations (jeremyevans)</p>
</li><li>
<p>Add association_join to model datasets, for setting up joins based on
associations (jeremyevans)</p>
</li><li>
<p>Add one_through_many association to many_through_many plugin, for only
returning a single record (jeremyevans)</p>
</li><li>
<p>Add :graph_order association option, useful when :order needs to contain
qualified identifiers (jeremyevans)</p>
</li><li>
<p>Add one_through_one association, similar to many_to_many but only returning
a single record (jeremyevans)</p>
</li></ul>

<h3 id="label-4.7.0+-282014-02-01-29">4.7.0 (2014-02-01)<span><a href="#label-4.7.0+-282014-02-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Don&#39;t swallow underlying exception if there is an exception closing the
cursor on PostgreSQL (jeremyevans) (#761)</p>
</li><li>
<p>Recognize primary key unique constraint violations on MSSQL and SQLAnywhere
(jeremyevans)</p>
</li><li>
<p>Recognize composite unique constraint violations on SQLite (timcraft)
(#758)</p>
</li><li>
<p>Make #* method without arguments on SQL::Function return a Function with *
prepended to the arguments (jeremyevans)</p>
</li><li>
<p>Add function to SQL::Identifier and SQL::QualifiedIdentifier, allowing for
easy use of schema qualified functions or functions names that need quoting
(jeremyevans)</p>
</li><li>
<p>Add SQL::Function#distinct for easier creation of aggregate functions using
DISTINCT (jeremyevans)</p>
</li><li>
<p>Add SQL::Function#over for easier creation of window functions
(jeremyevans)</p>
</li><li>
<p>Don&#39;t clear validation instance_hooks until after a successful save
(jeremyevans)</p>
</li><li>
<p>Support :raise_on_save_failure option for one_to_many, pg_array_to_many,
and many_to_pg_array associations (jeremyevans)</p>
</li><li>
<p>Make SQLTime#to_s return a string in HH:MM:SS format, since it
shouldn&#39;t include date information (jeremyevans)</p>
</li><li>
<p>Support the Database#tables :schema option in the jdbc adapter (robbiegill,
jeremyevans) (#755)</p>
</li><li>
<p>Automatically rollback transactions in killed threads in ruby 2.0+ (chanks)
(#752)</p>
</li><li>
<p>Add update_or_create plugin, for updating an object if it exists, or
creating such an object if it does not (jeremyevans)</p>
</li><li>
<p>Make auto_validations uniqueness validations work correctly for STI
subclasses (jeremyevans)</p>
</li><li>
<p>Support :dataset option to validates_unique vaildation (jeremyevans)</p>
</li></ul>

<h3 id="label-4.6.0+-282014-01-02-29">4.6.0 (2014-01-02)<span><a href="#label-4.6.0+-282014-01-02-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Add Database#call_mssql_sproc on MSSQL for calling stored procedures and
handling output parameters (jrgns, jeremyevans) (#748)</p>
</li><li>
<p>Handle RuntimeErrors raised by oci8 in the oracle adapter (jeremyevans)</p>
</li><li>
<p>Support OFFSET/FETCH on Microsoft SQL Server 2012 (jeremyevans)</p>
</li><li>
<p>Support :server option for Database#{commit,rollback}_prepared_transaction
on PostgreSQL, MySQL, and H2 (jeremyevans) (#743)</p>
</li><li>
<p>Do not attempt to eager load and raise an exception when doing
Model.eager().naked.all (jeremyevans)</p>
</li><li>
<p>Recognize a couple additional disconnect errors in the jdbc/postgresql
adapter (jeremyevans) (#742)</p>
</li></ul>

<h3 id="label-4.5.0+-282013-12-02-29">4.5.0 (2013-12-02)<span><a href="#label-4.5.0+-282013-12-02-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support :on_commit=&gt;(:drop|:delete_rows|:preserve_rows) options when
creating temp tables on PostgreSQL (rosenfeld) (#737)</p>
</li><li>
<p>Make Dataset#insert work on PostgreSQL if the table name is a
SQL::PlaceholderLiteralString (jeremyevans) (#736)</p>
</li><li>
<p>Copy unique constraints when emulating alter_table operations on SQLite
(jeremyevans) (#735)</p>
</li><li>
<p>Don&#39;t return clob column values as SQL::Blob instances in the db2 and
ibmdb adapters unless use_clob_as_blob is true (jeremyevans)</p>
</li><li>
<p>Make use_clob_as_blob false by default on DB2 (jeremyevans)</p>
</li><li>
<p>Fix usage of <a
href="../classes/Sequel/SQL/Blob.html">Sequel::SQL::Blob</a> objects as
prepared statement arguments in jdbc/db2 adapter when use_clob_as_blob is
false (jeremyevans)</p>
</li><li>
<p>Add mssql_optimistic_locking plugin, using a timestamp/rowversion column to
protect against concurrent updates (pinx, jeremyevans) (#731)</p>
</li><li>
<p>Make Model.primary_key array immutable for composite keys (chanks) (#730)</p>
</li></ul>

<h3 id="label-4.4.0+-282013-11-01-29">4.4.0 (2013-11-01)<span><a href="#label-4.4.0+-282013-11-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Make Database#tables not show tables in the recycle bin on Oracle
(jeremyevans) (#728)</p>
</li><li>
<p>Don&#39;t automatically order on all columns when emulating offsets for
unordered datasets on DB2 (jeremyevans)</p>
</li><li>
<p>Improve PostgreSQL type support in the jdbc/postgresql adapter
(jeremyevans)</p>
</li><li>
<p>Make offset emulation on Oracle work when using columns that can&#39;t be
ordered (jeremyevans, sdeming) (#724, #725)</p>
</li><li>
<p>Make filter by associations support handle associations with :conditions or
block (jeremyevans)</p>
</li><li>
<p>Make association cloning handle :block correctly for clones of clones
(jeremyevans)</p>
</li><li>
<p>Make association cloning handle :eager_block option correctly (jeremyevans)</p>
</li><li>
<p>Make add_primary_key work on h2 (jeremyevans)</p>
</li><li>
<p>Add support for foreign key parsing on Oracle (jeremyevans)</p>
</li><li>
<p>Add support for foreign key parsing to the jdbc adapter (jeremyevans)</p>
</li><li>
<p>Make add_foreign_key work on HSQLDB (jeremyevans)</p>
</li><li>
<p>Add table_select plugin for selecting table.* instead of * for model
datasets (jeremyevans)</p>
</li><li>
<p>Issue constraint_validation table deletes before inserts, so modifying
constraint via drop/add in same alter_table block works (jeremyevans)</p>
</li><li>
<p>Support add_*/remove_*/remove_all_* pg_array_to_many association methods on
unsaved model objects (jeremyevans)</p>
</li><li>
<p>Add Sybase SQLAnywhere support via new sqlanywhere and jdbc/sqlanywhere
adapters (gditrick, jeremyevans)</p>
</li><li>
<p>Add Dataset#offset for setting the offset separately from the limit (Paul
Henry, jeremyevans) (#717)</p>
</li></ul>

<h3 id="label-4.3.0+-282013-10-02-29">4.3.0 (2013-10-02)<span><a href="#label-4.3.0+-282013-10-02-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Fix literalization of empty blobs on MySQL (jeremyevans) (#715)</p>
</li><li>
<p>Ensure Dataset#page_count in pagination extension is at least one
(jeremyevans) (#714)</p>
</li><li>
<p>Recognize another disconnect error in the jdbc/as400 adapter (jeremyevans)</p>
</li><li>
<p>Make Dataset#qualify and Sequel.delay work together (jeremyevans)</p>
</li><li>
<p>Recognize citext type as string on PostgreSQL (isc) (#710)</p>
</li><li>
<p>Support composite keys in the rcte_tree plugin (jeremyevans)</p>
</li><li>
<p>Support composite keys in the tree plugin (jeremyevans)</p>
</li><li>
<p>Make Migrator.migrator_class public (robertjpayne, jeremyevans) (#708)</p>
</li><li>
<p>Make PostgreSQL empty array literalization work correctly on PostgreSQL
&lt;8.4 (jeremyevans)</p>
</li><li>
<p>Add <a href="../classes/Sequel.html">Sequel</a> extensions guide
(jeremyevans)</p>
</li><li>
<p>Add model plugins guide (jeremyevans)</p>
</li><li>
<p>Add error_sql Database extension, allowing DatabaseError#sql to return SQL
query that caused underlying exception (jeremyevans)</p>
</li><li>
<p>Make Dataset#each_page in pagination extension return enumerator if no
block is given (justinj) (#702)</p>
</li></ul>

<h3 id="label-4.2.0+-282013-09-01-29">4.2.0 (2013-09-01)<span><a href="#label-4.2.0+-282013-09-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support custom :flags option in mysql2 adapter (jeremyevans) (#700)</p>
</li><li>
<p>Add implementations of Dataset#freeze and Dataset#dup (jeremyevans)</p>
</li><li>
<p>Add implementations of Model#dup and Model#clone (jeremyevans)</p>
</li><li>
<p>Don&#39;t have partial_indexes returned by Database#indexes on MSSQL 2008+
(jeremyevans)</p>
</li><li>
<p>Support partial indexes on SQLite 3.8.0+ (jeremyevans)</p>
</li><li>
<p>Add Database#supports_partial_indexes? to check for partial index support
(mluu, jeremyevans) (#698)</p>
</li><li>
<p>The static_cache plugin now disallows saving/destroying if the
:frozen=&gt;false option is not used (jeremyevans)</p>
</li><li>
<p>Support :frozen=&gt;false option in static_cache plugin, for having new
instances returned instead of frozen cached instances (jeremyevans)</p>
</li><li>
<p>Add pg_static_cache_updater Database extension for listening for changes to
tables and updating static_cache caches automatically (jeremyevans)</p>
</li><li>
<p>Add mssql_emulate_lateral_with_apply extension for emulating LATERAL
queries using CROSS/OUTER APPLY (jeremyevans)</p>
</li><li>
<p>Support LATERAL queries via Dataset#lateral (jeremyevans)</p>
</li><li>
<p>Add pg_loose_count Database extension, for fast approximate counts of
PostgreSQL tables (jeremyevans)</p>
</li><li>
<p>Add from_block Database extension, for having Database#from block affect
FROM instead of WHERE (jeremyevans)</p>
</li><li>
<p>Support :cursor_name option in postgres adapter Dataset#use_cursor
(heeringa, jeremyevans) (#696)</p>
</li><li>
<p>Fix placeholder literal strings when used with an empty placeholder hash
(trydionel, jeremyevans) (#695)</p>
</li></ul>

<h3 id="label-4.1.1+-282013-08-01-29">4.1.1 (2013-08-01)<span><a href="#label-4.1.1+-282013-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Fix select_map, select_order_map, and single_value methods on eager_graphed
datasets (jeremyevans)</p>
</li></ul>

<h3 id="label-4.1.0+-282013-08-01-29">4.1.0 (2013-08-01)<span><a href="#label-4.1.0+-282013-08-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Support :inherits option in Database#create_table on PostgreSQL, for table
inheritance (jeremyevans)</p>
</li><li>
<p>Handle dropping indexes for schema qualified tables on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>Add Database#error_info on PostgreSQL 9.3+ if pg-0.16.0+ is used, to get a
hash of metadata for a given database exception (jeremyevans)</p>
</li><li>
<p>Allow <a href="doc/prepared_statements_rdoc.html">prepared_statements</a>
plugin to work with instance_filters and update_primary_key plugins
(jeremyevans)</p>
</li><li>
<p>Support deferrable exclusion constraints on PostgreSQL using the
:deferrable option (mfoody) (#687)</p>
</li><li>
<p>Make Database#run and << accept SQL::PlaceholderLiteralString values
(jeremyevans)</p>
</li><li>
<p>Deprecate :driver option in odbc adapter since it appears to be broken
(jeremyevans)</p>
</li><li>
<p>Support :drvconnect option in odbc adapter for supplying the ODBC
connection string directly (jeremyevans)</p>
</li><li>
<p>Support mysql2 0.3.12+ result streaming via Dataset#stream (jeremyevans)</p>
</li><li>
<p>Convert Java::JavaUtil::HashMap to ruby Hash in jdbc adapter, for better
handling of PostgreSQL hstore type (jeremyevans) (#686)</p>
</li><li>
<p>Raise NoMatchingRow if calling add_association with a primary key value
that doesn&#39;t match an existing row (jeremyevans)</p>
</li><li>
<p>Allow PostgreSQL add_constraint to support :not_valid option (jeremyevans)</p>
</li><li>
<p>Allow CHECK constraints to have options by using an options hash as the
constraint name (jeremyevans)</p>
</li><li>
<p>Correctly raise error when using an invalid virtual row block function call
(jeremyevans)</p>
</li><li>
<p>Support REPLACE on SQLite via Dataset#replace and multi_replace (etehtsea)
(#681)</p>
</li></ul>

<h3 id="label-4.0.0+-282013-07-01-29">4.0.0 (2013-07-01)<span><a href="#label-4.0.0+-282013-07-01-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p>Correctly parse composite primary keys on SQLite 3.7.16+ (jeremyevans)</p>
</li><li>
<p>Recognize another disconnect error in the jdbc/oracle adapter (jeremyevans)</p>
</li><li>
<p>Add pg_json_ops extension for calling JSON functions and operators in
PostgreSQL 9.3+ (jeremyevans)</p>
</li><li>
<p>Handle non-JSON plain strings, integers, and floats in PostgreSQL JSON
columns in pg_json extension (jeremyevans)</p>
</li><li>
<p>Dataset#from now accepts virtual row blocks (jeremyevans)</p>
</li><li>
<p>Add Database#refresh_view on PostgreSQL to support refreshing materialized
views (jeremyevans)</p>
</li><li>
<p>Support the Database#drop_view :if_exists option on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>Support the Database#{create,drop}_view :materialized option for creating
materialized views in PostgreSQL 9.3+ (jeremyevans)</p>
</li><li>
<p>Support the Database#create_view :recursive option for creating recursive
views in PostgreSQL 9.3+ (jeremyevans)</p>
</li><li>
<p>Support the Database#create_view :columns option for using explicit columns
(jeremyevans)</p>
</li><li>
<p>Support the Database#create_schema :owner and :if_not_exists options on
PostgreSQL (jeremyevans)</p>
</li><li>
<p>Support :index_type=&gt;:gist option to create GIST full text indexes on
PostgreSQL (jeremyevans)</p>
</li><li>
<p>Add Postgres::ArrayOp#replace for the array_replace function in PostgreSQL
9.3+ (jeremyevans)</p>
</li><li>
<p>Add Postgres::ArrayOp#remove for the array_remove function in PostgreSQL
9.3+ (jeremyevans)</p>
</li><li>
<p>Add Postgres::ArrayOp#hstore for creating hstores from arrays (jeremyevans)</p>
</li><li>
<p>Make Postgres::ArrayOp#[] return ArrayOp if given a range (jeremyevans)</p>
</li><li>
<p>Ensure that CHECK constraints are surrounded with parentheses (jeremyevans)</p>
</li><li>
<p>Ensure Dataset#unbind returned variable hash uses symbol keys (jeremyevans)</p>
</li><li>
<p>Add pg_array_associations plugin, for associations based on PostgreSQL
arrays containing foreign keys (jeremyevans)</p>
</li><li>
<p>Add Sequel.deep_qualify, for easily doing a deep qualification
(jeremyevans)</p>
</li><li>
<p>Enable use of window functions for limited eager loading by default
(jeremyevans)</p>
</li><li>
<p>Handle offsets correctly when eager loading one_to_one associations
(jeremyevans)</p>
</li><li>
<p>Raise exception for infinite and NaN floats on MySQL (jeremyevans) (#677)</p>
</li><li>
<p>Make dataset string literalization that requires database connection use
dataset&#39;s chosen server (jeremyevans)</p>
</li><li>
<p>Make sure an offset without a limit is handled correctly when eager loading
(jeremyevans)</p>
</li><li>
<p>Allow providing ranges as subscripts for <a href="start:end">array</a>
(jeremyevans)</p>
</li><li>
<p>Prepare one_to_one associations in the prepared_statements_associations
plugin (jeremyevans)</p>
</li><li>
<p>Use prepared statements when the association has :conditions in the
prepared_statements_associations plugin (jeremyevans)</p>
</li><li>
<p>Fix prepared statement usage in some additional cases in the
prepared_statements_associations plugin (jeremyevans)</p>
</li><li>
<p>Hex escape blob input on MySQL (jeremyevans)</p>
</li><li>
<p>Handle more disconnect errors when using the postgres adapter with the
postgres-pr driver (jeremyevans)</p>
</li><li>
<p>Model#setter_methods private method now accepts 1 argument instead of 2
(jeremyevans)</p>
</li><li>
<p>Model#set_restricted and update_restricted private methods now accept 2
arguments instead of 3 (jeremyevans)</p>
</li><li>
<p>ungraphed on an eager_graph dataset now resets the original row_proc
(jeremyevans)</p>
</li><li>
<p>eager_graph now returns a naked dataset (jeremyevans)</p>
</li><li>
<p>All behavior deprecated in <a href="../classes/Sequel.html">Sequel</a>
3.48.0 has been removed (jeremyevans)</p>
</li><li>
<p>Make adapter/integration spec environment variables more consistent
(jeremyevans)</p>
</li><li>
<p><a href="../classes/Sequel.html">Sequel</a> no longer provides default
databases for adapter/integration specs (jeremyevans)</p>
</li><li>
<p>Model#save no longer calls #_refresh internally (jeremyevans)</p>
</li><li>
<p>Model#set_all and update_all can now update the primary key (jeremyevans)</p>
</li><li>
<p>Integrate many_to_one_pk_lookup and association_autoreloading plugins into
main associations plugin (jeremyevans)</p>
</li><li>
<p>Make defaults_setter plugin operate in a lazy manner (jeremyevans)</p>
</li><li>
<p>Plugins now extend the model class with ClassMethods before including
InstanceMethods (jeremyevans)</p>
</li><li>
<p>Remove Model::EMPTY_INSTANCE_VARIABLES (jeremyevans)</p>
</li><li>
<p>Model.raise_on_typecast_failure now defaults to false (jeremyevans)</p>
</li><li>
<p>Model#_save private method now only takes a single argument (jeremyevans)</p>
</li><li>
<p>Remove Dataset#columns_without_introspection from columns_introspection
extension (jeremyevans)</p>
</li><li>
<p>Make boolean prepared statement arguments work on sqlite adapter when
integer_booleans is true (jeremyevans)</p>
</li><li>
<p>Make Database#tables and views reflect search_path on PostgreSQL
(jeremyevans)</p>
</li><li>
<p>SQLite now defaults to true for integer_booleans and false for
use_timestamp_timezones (jeremyevans)</p>
</li><li>
<p>Make the default value for most option hashes a shared frozen hash
(jeremyevans)</p>
</li><li>
<p>Remove Sequel::NotImplemented exception (jeremyevans)</p>
</li><li>
<p>Automatically alias single expressions in Dataset#get, select_map, and
select_order_map, to work around possible DoS issues (jeremyevans)</p>
</li><li>
<p>Use a connection queue instead of stack by default for threaded connection
pools (jeremyevans)</p>
</li><li>
<p>Remove SQL::SQLArray alias for SQL::ValueList (jeremyevans)</p>
</li><li>
<p>Remove SQL::NoBooleanInputMethods empty module (jeremyevans)</p>
</li></ul>

<h3 id="label-Older">Older<span><a href="#label-Older">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>See <a href="doc/CHANGELOG_old.html">doc/CHANGELOG.old</a></p>
</div>
<div id='context'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
