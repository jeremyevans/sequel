<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>4.26.0.txt</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      function popupCode(url) {
        window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
      }
      
      function toggleCode(id) {
        var code = document.getElementById(id)
      
        code.style.display = code.style.display != 'block' ? 'block' : 'none'
        return true
      }
      
      // Make codeblocks hidden by default
      document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <h1 class='name'>4.26.0.txt</h1>
        <div class='paths'>
          doc/release_notes/4.26.0.txt
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>2015-09-01 08:04:35 -0700</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <h1 id="label-New+Features">New Features<span><a href="#label-New+Features">&para;</a> <a href="#top">&uarr;</a></span></h1>
            <ul><li>
            <p>Add Dataset#grouping_sets to support GROUP BY GROUPING SETS on PostgreSQL
            9.5+, MSSQL 2008+, Oracle, DB2, and SQLAnywhere:</p>
            
            <pre class="ruby"><span class="ruby-constant">DB</span>[:<span class="ruby-identifier">test</span>].<span class="ruby-identifier">group</span>([:<span class="ruby-identifier">type_id</span>, :<span class="ruby-identifier">b</span>], :<span class="ruby-identifier">type_id</span>, []).<span class="ruby-identifier">grouping_sets</span>&#x000A;<span class="ruby-comment"># SELECT * FROM test</span>&#x000A;<span class="ruby-comment"># GROUP BY GROUPING SETS((type_id, b), (type_id), ())</span></pre>
            </li><li>
            <p><a
            href="../../../classes/Sequel/NoMatchingRow.html">Sequel::NoMatchingRow</a>
            exceptions raised by <a href="../../../classes/Sequel.html">Sequel</a> now
            give access to the dataset that raised the exception via the dataset
            method. This makes it easier to write generic error handling code.</p>
            </li><li>
            <p>Support :if_exists option to drop_column on PostgreSQL:</p>
            
            <pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">drop_column</span> :<span class="ruby-identifier">t</span>, :<span class="ruby-identifier">col</span>, :<span class="ruby-identifier">if_exists=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span> &#x000A;<span class="ruby-constant">ALTER</span> <span class="ruby-constant">TABLE</span> <span class="ruby-identifier">t</span> <span class="ruby-constant">DROP</span> <span class="ruby-constant">COLUMN</span> <span class="ruby-constant">IF</span> <span class="ruby-constant">EXISTS</span> <span class="ruby-identifier">col</span></pre>
            </li></ul>
            
            <h1 id="label-Other+Improvements">Other Improvements<span><a href="#label-Other+Improvements">&para;</a> <a href="#top">&uarr;</a></span></h1>
            <ul><li>
            <p>Make the class_table_inheritance plugin work correctly without an sti_key. 
            This was broken in a recent refactoring to make class table inheritance
            support multiple classes for a single table.</p>
            </li><li>
            <p>Make Class.new(ModelClass){set_dataset :table} work correctly on ruby 1.8. 
            This was broken in a refactoring to allow the singular_table_names plugin
            to work.</p>
            </li><li>
            <p>Make offset emulation via ROW_NUMBER better handle ambiguous column names
            for datasets without an ORDER BY clause, but with an explicit SELECT
            clause.</p>
            </li><li>
            <p>Make pg_range extension use PostgreSQL range function constructors instead
            of casting string literals to the appropriate range type, if the range type
            is known.  This allows arbitrary expressions to be used inside ranges, such
            as CURRENT_TIMESTAMP in timestamp ranges.</p>
            </li><li>
            <p>Make Dataset#== not consider frozen status.</p>
            </li><li>
            <p>Allow Dataset#prepare on already prepared statements in situations where
            determining the SQL for a prepared statement requires it.</p>
            </li><li>
            <p>Detect additional disconnect errors when using the tinytds adapter.</p>
            </li></ul>
          </div>
          <div id='context'>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
    </div>
  </body>
</html>
